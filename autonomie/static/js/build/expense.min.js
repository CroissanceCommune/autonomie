webpackJsonp([2],[function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}var i=n(5),o=a(i),s=n(35);a(s),n(45);var r=n(3),l=(a(r),n(8)),u=a(l),c=n(1),d=(a(c),n(46)),h=a(d),f=n(10),p=a(f),m=n(11),g=n(65),v=a(g),_=n(63),b=a(_),y=n(6);(0,y.setupAjaxCallbacks)(),h.default.on("start",function(t,e){console.log("  => Starting the expense app"),AppOption.form_config=e.form_config,(0,m.setupBbValidationCallbacks)(p.default.callbacks),(0,m.setupBbValidationPatterns)(p.default);var n=new b.default(e);new v.default({controller:n}),u.default.history.start(),(0,y.hideLoader)()}),(0,o.default)(function(){(0,y.showLoader)(),console.log("# Retrieving datas from the server"),console.log(AppOption.form_config_url);var t=(0,y.ajax_call)(AppOption.form_config_url);console.log(AppOption.context_url);var e=(0,y.ajax_call)(AppOption.context_url);o.default.when(t,e).done(function(t,e){console.log("  => Datas retrieved"),h.default.start({form_config:t[0],form_datas:e[0]})})})},,function(t,e,n){t.exports=n(41)},,,,function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.hideLoader=e.showLoader=e.setupAjaxCallbacks=e.serializeForm=e.getOpt=e.findCurrentSelected=e.getDefaultItem=e.updateSelectOptions=e.ajax_call=e.setDatePicker=void 0;var i=n(3),o=a(i),s=n(5),r=a(s),l=n(9);n(5);var u=(n(44),e.setDatePicker=function(t,e,n,a){var i={altFormat:"yy-mm-dd",dateFormat:"dd/mm/yy",altField:e};o.default.extend(i,a),t.datepicker(i),null===n||o.default.isUndefined(n)?o.default.isUndefined(i.default_value)||(n=(0,l.parseDate)(i.default_value),t.datepicker("setDate",n)):(n=(0,l.parseDate)(n),t.datepicker("setDate",n))},e.ajax_call=function(t,e,n,a){var e=e||{},n=n||"GET",i={url:t,data:e,method:n,dataType:"json",cache:!1};return"POST"==n&&(i.data=JSON.stringify(e),i.contentType="application/json; charset=UTF-8",i.processData=!1),o.default.extend(i,a),r.default.ajax(i)},e.updateSelectOptions=function(t,e,n){o.default.isArray(e)||(e=[e]),o.default.isUndefined(n)&&(n="value");var a=!1;if(o.default.each(t,function(t){delete t.selected,o.default.contains(e,t[n])&&(t.selected="true",a=!0)}),!a){var i=u(t);o.default.isUndefined(i)||(i.selected=!0,a=!0)}return a},e.getDefaultItem=function(t){var e=o.default.find(t,function(t){return 1==t.default});return e});e.findCurrentSelected=function(t,e,n){return o.default.find(t,function(t){return t[n]==e})},e.getOpt=function(t,e,n){var a=t.getOption(e);return o.default.isUndefined(a)&&(a=n),a},e.serializeForm=function(t){var e={},n=t.serializeArray();return r.default.each(n,function(){e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e},e.setupAjaxCallbacks=function(){(0,r.default)(document).ajaxComplete(function(t,e,n){if(401==e.status)window.location.replace("#login");else{var a=e.responseJSON;!o.default.isUndefined(a)&&a.redirect&&(window.location.href=a.redirect)}})},e.showLoader=function(){(0,r.default)("#loading-box").show()},e.hideLoader=function(){(0,r.default)("#loading-box").hide()}},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function i(){if("EPSILON"in Number)return Number.EPSILON;var t=1;do t/=2;while(1+t/2!=1);return t}function o(t){if(r.default.isUndefined(t.toPrecision))return t;var e=i(),n=t.toPrecision(6)-t;return n*=n,0===n?t:n<e?t.toPrecision(6):t}Object.defineProperty(e,"__esModule",{value:!0}),e.getPercent=e.getTvaPart=e.trailingZeros=e.formatAmount=e.isNotFormattable=e.formatPrice=e.round=e.strToFloat=void 0;var s=n(3),r=a(s),l=(e.strToFloat=function(t){var e;return r.default.isNumber(t)?t:((r.default.isUndefined(t)||r.default.isNull(t))&&(t="0.00"),t=t.replace(",","."),e=parseFloat(t),isNaN(e)?0:e)},e.round=function(t){var e=100*t;return e=Math.round(e),e/100}),u=e.formatPrice=function(t,e){t=o(t);var n,a,i,s;return e&&(t=l(t)),a=String(t).split("."),void 0!=a[1]?(i=a[1],i.length>4&&(n=!0),i=i.substr(0,4),i=d(i,e)):i="00",s=a[0]+","+i,n&&(s+="..."),s},c=e.isNotFormattable=function(t){var e=" "+t;return e.indexOf("€")>=0||e.indexOf("&nbsp;&euro;")>=0},d=(e.formatAmount=function(t,e){return void 0===e&&(e=!0),c(t)?t:u(t,e)+"&nbsp;&euro;"},e.trailingZeros=function(t,e){1===t.length&&(t+=0);var n;if(!e)for(n=t.substr(t.length-1);t.length>2&&"0"==n;)t=t.substr(0,t.length-1),n=t.substr(t.length-1);return t});e.getTvaPart=function(t,e){return t*e/100},e.getPercent=function(t,e){return l(t*e/100)}},,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(e.getOneMonthAgo=function(){var t=new Date,e=t.getUTCFullYear(),n=t.getUTCMonth()-1,a=t.getUTCDate();return new Date(e,n,a)},e.parseDate=function(t){var e=t.split("-"),n=parseInt(e[0],10),a=parseInt(e[1],10)-1,i=parseInt(e[2],10);return new Date(n,a,i)}),a=(e.getDateFromIso=n,e.formatPaymentDate=function(t){if(""!==t&&null!==t){var e=n(t);return i(e)}return""}),i=(e.formatDate=a,e.dateToIso=function(t){var e=t.getFullYear(),n=t.getMonth()+1,a=t.getDate();return a<10&&(a="0"+a),n<10&&(n="0"+n),e+"-"+n+"-"+a},e.dateToLocaleFormat=function(t){var e=t.getFullYear(),n=t.getMonth()+1,a=t.getDate();return a<10&&(a="0"+a),n<10&&(n="0"+n),a+"-"+n+"-"+e})},,function(t,e,n){(function(t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){var n=t.parents(".form-group");n.addClass("has-error"),0===n.find(".help-block").length&&n.append('<span class="help-block error-message"></span>');var a=n.find(".help-block");return a.text(e)},a=function(t){var e=t.parents(".form-group");return e.removeClass("has-error"),e.find(".error-message").remove(),t},i=e.BootstrapOnValidForm=function(t,e,n){var i;i=t.$("["+n+"="+e+"]"),a(i)},o=e.BootstrapOnInvalidForm=function(t,e,a,i){var o;o=t.$("["+i+"="+e+"]"),n(o,a)},s=(e.setupBbValidationCallbacks=function(e){t.extend(e,{valid:i,invalid:o})},function(t){});e.displayServerError=function(t){s({msg:t,error:!0})},e.displayServerSuccess=function(t){s({msg:t})},e.setupBbValidationPatterns=function(e){t.extend(e.patterns,{amount:/^(\d+(?:[\.\,]\d{1,5})?)$/,amount2:/^(\d+(?:[\.\,]\d{1,2})?)$/}),t.extend(e.messages,{amount:"Doit être un nombre avec au maximum 5 chiffres après la virgule",amount2:"Doit être un nombre avec au maximum 2 chiffres après la virgule"})}}).call(e,n(3))},function(t,e,n){(function(t){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(10),r=a(s),l=n(6),u=n(11),c=n(25),d=a(c),h=o.default.Behavior.extend({behaviors:[d.default],ui:{form:"form",submit:"button[type=submit]",reset:"button[type=reset]"},events:{"submit @ui.form":"onSubmitForm","click @ui.reset":"onCancelClick"},defaults:{errorMessage:"Une erreur est survenue"},serializeForm:function(){return(0,l.serializeForm)(this.getUI("form"))},onSyncError:function(){(0,u.displayServerError)("Une erreur a été rencontrée lors de la sauvegarde de vos données"),r.default.unbind(this.view)},onSyncSuccess:function(){(0,u.displayServerSuccess)("Vos données ont bien été sauvegardées"),r.default.unbind(this.view),console.log("Trigger success:sync from FormBehavior"),this.view.triggerMethod("success:sync")},syncServer:function(e,n){var n=n||!1,e=e||this.view.model.toJSON();n||r.default.bind(this.view,{attributes:function(n){return t.keys(e)}}),this.view.model.isValid(t.keys(e))&&(this.view.model.get("id")?this.editSubmit(e):this.addSubmit(e))},addSubmit:function(t){console.log("FormBehavior.addSubmit");var e=this.view.getOption("destCollection");e.create(t,{success:this.onSyncSuccess.bind(this),error:this.onSyncError.bind(this),wait:!0,sort:!0})},editSubmit:function(t){this.view.model.save(t,{success:this.onSyncSuccess.bind(this),error:this.onSyncError.bind(this),wait:!0,patch:!0})},onSubmitForm:function(t){console.log("FormBehavior.onSubmitForm"),t.preventDefault();var e=this.serializeForm();this.view.model.set(e,{validate:!0}),this.syncServer(e)},onDataPersisted:function(t){console.log("FormBehavior.onDataPersisted"),this.syncServer(t,!0)},onCancelClick:function(){console.log("FormBehavior.onCancelClick"),console.log("Trigger reset:model from FormBehavior"),this.view.triggerMethod("reset:model"),console.log("Trigger cancel:form from FormBehavior"),this.view.triggerMethod("cancel:form")},onResetModel:function(){console.log("FormBehavior.onResetModel"),this.view.model.rollback()}});e.default=h}).call(e,n(3))},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(6),r=o.default.View.extend({tagName:"div",className:"form-group",template:n(38),ui:{input:"input"},events:{"keyup @ui.input":"onKeyUp","blur @ui.input":"onBlur"},onKeyUp:function(){this.triggerMethod("change",this.getOption("field_name"),this.getUI("input").val())},onBlur:function(){this.triggerMethod("finish",this.getOption("field_name"),this.getUI("input").val())},templateContext:function(){return{value:this.getOption("value"),title:(0,s.getOpt)(this,"title",""),field_name:this.getOption("field_name"),description:(0,s.getOpt)(this,"description",!1),type:(0,s.getOpt)(this,"type","text"),addon:(0,s.getOpt)(this,"addon",""),css_class:(0,s.getOpt)(this,"css","")}}});e.default=r},,function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=a(i),s=o.default.Behavior.extend({defaults:{modalClasses:"",modalOptions:{keyboard:"false",backdrop:"static"}},ui:{close:".close"},events:{"hidden.bs.modal":"triggerFinish","click @ui.close":"onClose"},onRender:function(){this.view.$el.addClass("modal "+this.getOption("modalClasses"))},onAttach:function(){this.view.$el.modal(this.getOption("modalOptions")||{})},onClose:function(){console.log("Trigger modal:beforeClose from ModalBehavior"),this.view.triggerMethod("modal:beforeClose"),console.log("Trigger modal:close from ModalBehavior"),this.view.triggerMethod("modal:close")},onModalClose:function(){console.log("ModalBehavior.onModalClose"),this.view.$el.modal("hide")},triggerFinish:function(){console.log("Trigger destroy:modal from ModalBehavior"),this.view.triggerMethod("destroy:modal")}});e.default=s},function(t,e,n){"use strict";function a(t,e){this.helpers=t||{},this.partials=e||{},i(this)}function i(t){t.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new s("Missing helper: '"+arguments[arguments.length-1].name+"'")}),t.registerHelper("blockHelperMissing",function(e,n){var a=n.inverse,i=n.fn;if(e===!0)return i(this);if(e===!1||null==e)return a(this);if(c(e))return e.length>0?(n.ids&&(n.ids=[n.name]),t.helpers.each(e,n)):a(this);if(n.data&&n.ids){var s=g(n.data);s.contextPath=o.appendContextPath(n.data.contextPath,n.name),n={data:s}}return i(e,n)}),t.registerHelper("each",function(t,e){if(!e)throw new s("Must pass iterator to #each");var n,a,i=e.fn,r=e.inverse,l=0,u="";if(e.data&&e.ids&&(a=o.appendContextPath(e.data.contextPath,e.ids[0])+"."),d(t)&&(t=t.call(this)),e.data&&(n=g(e.data)),t&&"object"==typeof t)if(c(t))for(var h=t.length;l<h;l++)n&&(n.index=l,n.first=0===l,n.last=l===t.length-1,a&&(n.contextPath=a+l)),u+=i(t[l],{data:n});else for(var f in t)t.hasOwnProperty(f)&&(n&&(n.key=f,n.index=l,n.first=0===l,a&&(n.contextPath=a+f)),u+=i(t[f],{data:n}),l++);return 0===l&&(u=r(this)),u}),t.registerHelper("if",function(t,e){return d(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||o.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,n){return t.helpers.if.call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),t.registerHelper("with",function(t,e){d(t)&&(t=t.call(this));var n=e.fn;if(o.isEmpty(t))return e.inverse(this);if(e.data&&e.ids){var a=g(e.data);a.contextPath=o.appendContextPath(e.data.contextPath,e.ids[0]),e={data:a}}return n(t,e)}),t.registerHelper("log",function(e,n){var a=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;t.log(a,e)}),t.registerHelper("lookup",function(t,e){return t&&t[e]})}var o=n(19),s=n(18).default,r="2.0.0";e.VERSION=r;var l=6;e.COMPILER_REVISION=l;var u={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};e.REVISION_CHANGES=u;var c=o.isArray,d=o.isFunction,h=o.toString,f="[object Object]";e.HandlebarsEnvironment=a,a.prototype={constructor:a,logger:p,log:m,registerHelper:function(t,e){if(h.call(t)===f){if(e)throw new s("Arg not supported with multiple helpers");o.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){h.call(t)===f?o.extend(this.partials,t):this.partials[t]=e},unregisterPartial:function(t){delete this.partials[t]}};var p={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(t,e){if(p.level<=t){var n=p.methodMap[t];"undefined"!=typeof console&&console[n]&&console[n].call(console,e)}}};e.logger=p;var m=p.log;e.log=m;var g=function(t){var e=o.extend({},t);return e._parent=t,e};e.createFrame=g},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),o=a(i),s=n(1),r=a(s),l=n(6),u=n(39),c=r.default.View.extend({tagName:"div",className:"form-group",template:u,ui:{select:"select"},events:{"change @ui.select":"onChange"},onChange:function(t){this.triggerMethod("finish",this.getOption("field_name"),this.getUI("select").val())},hasVoid:function(t){return!o.default.isUndefined(o.default.find(t,function(t){return""==t.label}))},templateContext:function(){var t=(0,l.getOpt)(this,"id_key","value"),e=this.getOption("options"),n=this.getOption("value"),a=(0,l.getOpt)(this,"add_default",!1),i=(0,l.updateSelectOptions)(e,n,t);if(!i&&a&&!this.hasVoid(e)){var o={};o.value="",o.label="",e.unshift(o)}var s=this.getOption("title"),r=this.getOption("field_name"),u=(0,l.getOpt)(this,"multiple",!1);return{options:e,title:s,field_name:r,id_key:t,multiple:u}}});e.default=c},function(t,e){"use strict";function n(t,e){var n;e&&e.firstLine&&(n=e.firstLine,t+=" - "+n+":"+e.firstColumn);for(var i=Error.prototype.constructor.call(this,t),o=0;o<a.length;o++)this[a[o]]=i[a[o]];n&&(this.lineNumber=n,this.column=e.firstColumn)}var a=["description","fileName","lineNumber","message","name","number","stack"];n.prototype=new Error,e.default=n},function(t,e,n){"use strict";function a(t){return u[t]}function i(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}function o(t){return t instanceof l?t.toString():null==t?"":t?(t=""+t,d.test(t)?t.replace(c,a):t):t+""}function s(t){return!t&&0!==t||!(!p(t)||0!==t.length)}function r(t,e){return(t?t+".":"")+e}var l=n(24).default,u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},c=/[&<>"'`]/g,d=/[&<>"'`]/;e.extend=i;var h=Object.prototype.toString;e.toString=h;var f=function(t){return"function"==typeof t};f(/x/)&&(f=function(t){return"function"==typeof t&&"[object Function]"===h.call(t)});var f;e.isFunction=f;var p=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===h.call(t)};e.isArray=p,e.escapeExpression=o,e.isEmpty=s,e.appendContextPath=r},function(t,e,n){var a,i,o;!function(s){i=[n(5)],a=s,o="function"==typeof a?a.apply(e,i):a,!(void 0!==o&&(t.exports=o))}(function(t){return t.ui=t.ui||{},t.ui.version="1.12.1"})},function(t,e,n){(function(t){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),o=(a(i),n(1)),s=a(o),r=n(6),l=n(9),u=n(37),c=s.default.View.extend({template:u,ui:{altdate:"input[name=altdate]"},onDateSelect:function(){var e=t(this.getSelector()).val();this.triggerMethod("finish",this.getOption("field_name"),e)},getSelector:function(){return"input[name="+(0,r.getOpt)(this,"field_name","date")+"]"},onAttach:function(){if((0,r.getOpt)(this,"editable",!0)){var t=(0,l.dateToIso)(new Date),e={onSelect:this.onDateSelect.bind(this),default_value:(0,r.getOpt)(this,"default_value",t)},n=this.getOption("date"),a=this.getSelector();(0,r.setDatePicker)(this.getUI("altdate"),a,n,e)}},templateContext:function(){var t={editable:(0,r.getOpt)(this,"editable",!0),title:(0,r.getOpt)(this,"title","Date"),description:(0,r.getOpt)(this,"description",""),field_name:(0,r.getOpt)(this,"field_name","date")};return(0,r.getOpt)(this,"editable",!0)||(t.date=(0,l.formatDate)(this.getOption("date"))),t}});e.default=c}).call(e,n(5))},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=a(i),s=(n(11),n(15)),r=a(s),l=n(12),u=a(l),c=o.default.Behavior.extend({behaviors:[r.default,u.default],onSuccessSync:function(){console.log("ModalFormBehavior.onSuccessSync"),console.log("Trigger modal:close from ModalFormBehavior"),this.view.triggerMethod("modal:close")},onModalBeforeClose:function(){console.log("Trigger reset:model from ModalFormBehavior"),this.view.triggerMethod("reset:model")},onCancelForm:function(){console.log("ModalFormBehavior.onCancelForm"),console.log("Trigger modal:close from ModalFormBehavior"),this.view.triggerMethod("modal:close")},onModalClose:function(){console.log("ModalFormBehavior.onModalClose")}});e.default=c},,function(t,e){"use strict";function n(t){this.string=t}n.prototype.toString=function(){return""+this.string},e.default=n},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(10),r=a(s),l=o.default.Behavior.extend({onDataPersist:function(t,e){console.log("BaseFormBehavior.onDataPersist"),r.default.unbind(this.view),r.default.bind(this.view,{attributes:function(e){return[t]}});var n={};n[t]=e,this.view.model.set(n),this.view.triggerMethod("data:persisted",n)},onDataModified:function(t,e){r.default.unbind(this.view),r.default.bind(this.view,{attributes:function(e){return[t]}});var n={};n[t]=e,this.view.model.set(n),this.view.model.isValid()}});e.default=l},function(t,e,n){(function(t){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(6),r=o.default.Object.extend({channelName:"auth",url:"/api/v1/login",radioEvents:{login:"onLogin"},initialize:function(){this.ok_callback=null,this.error_callback=null},setAuthCallbacks:function(t){this.callbacks=t},onLogin:function(t,e,n){this.callbacks,this.ok_callback=e,this.error_callback=n,(0,s.ajax_call)(this.url,t,"POST",{success:this.onAuthSuccess.bind(this),error:this.onAuthError.bind(this)})},onAuthSuccess:function(e){"success"==e.status?(t.each(this.callbacks,function(t){t()}),this.ok_callback(e)):this.error_callback(e)},onAuthError:function(e){400==e.status?t.has(e.responseJSON,"errors")?this.error_callback(e.responseJSON.errors):this.error_callback():alert("Erreur serveur : contactez votre administrateur")}}),l=new r;e.default=l}).call(e,n(3))},function(t,e,n){(function(t){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(4),r=(a(s),o.default.Object.extend({channelName:"config",radioRequests:{"get:options":"getFormOptions","has:form_section":"hasFormSection","get:form_section":"getFormSection","get:form_actions":"getFormActions"},setFormConfig:function(t){this.form_config=t},getFormOptions:function(t){return this.form_config.options[t]},hasFormSection:function(e){return t.has(this.form_config.sections,e)},getFormSection:function(t){return this.form_config.sections[t]},getFormActions:function(){return this.form_config.actions}})),l=new r;e.default=l}).call(e,n(3))},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(4),r=(a(s),o.default.Object.extend({channelName:"message",radioEvents:{success:"logSuccess",error:"logError"},logSuccess:function(t,e){console.log("MessageBus : "+e)},logError:function(t,e){console.error("MessageBus : "+e)}})),l=new r;e.default=l},function(t,e,n){(function(t){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(47),o=a(i),s=n(9),r=n(7),l=n(4),u=a(l),c=o.default.extend({defaults:{category:null,description:"",ht:null,tva:null},initialize:function(t){void 0===t.altdate&&void 0!==t.date&&this.set("altdate",(0,s.formatPaymentDate)(t.date)),this.config=u.default.channel("config"),this.expensetel_types=this.config.request("get:options","expensetel_types"),this.expense_types=this.config.request("get:options","expense_types")},validation:{category:{required:!0,msg:"est requise"},type_id:{required:!0,msg:"est requis"},date:{required:!0,pattern:/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/,msg:"est requise"},ht:{required:!0,pattern:/^[\+\-]?[0-9]+(([\.\,][0-9]{1})|([\.\,][0-9]{2}))?$/,msg:"doit être un nombre"},tva:{required:!0,pattern:/^[\+\-]?[0-9]+(([\.\,][0-9]{1})|([\.\,][0-9]{2}))?$/,msg:"doit être un nombre"}},total:function t(){var t=this.getHT()+this.getTva();return t},getTva:function(){var t=parseFloat(this.get("tva"));if(this.isSpecial()){var e=this.getTypeOption(this.expensetel_types).percentage;t=(0,r.getPercent)(t,e)}return t},getHT:function(){var t=parseFloat(this.get("ht"));if(this.isSpecial()){var e=this.getTypeOption(this.expensetel_types).percentage;t=(0,r.getPercent)(t,e)}return t},isSpecial:function(){return void 0!==this.getTypeOption(this.expensetel_types)},hasNoType:function(){var e=t.isUndefined(this.getTypeOption(this.expensetel_types)),n=t.isUndefined(this.getTypeOption(this.expense_types));return!(!e||!n)},getTypeOptions:function(){var t;return t=this.isSpecial()?this.expensetel_types:this.expense_types},loadBookMark:function(e){var n=t.omit(e.attributes,function(e,n){return t.indexOf(["id","cid"],n)>-1||!(!t.isNull(e)&&!t.isUndefined(e))});this.set(n),this.trigger("set:bookmark")}});e.default=c}).call(e,n(3))},,,function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=a(i),s=(n(6),n(7)),r=o.default.View.extend({tagName:"div",template:n(36),ui:{anchor:"a"},events:{"click @ui.anchor":"onClick"},onClick:function(){console.log("Clicked"),console.log(this.model);var t=this.model.get("option");if(t.popup){var e=screen.width,n=screen.height,a=(0,s.getPercent)(e,60),i=(0,s.getPercent)(n,60),o=t.url,r=t.title;window.open(o+"?nomenu=true",r,"width="+a+",height="+i)}}});e.default=r},,function(t,e,n){(function(t){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(6),r=n(40),l=o.default.View.extend({template:r,ui:{buttons:".btn"},events:{"click @ui.buttons":"onClick"},onClick:function(e){var n=this.model.get("options").url,a=t(e.target).find("input").val();(0,s.ajax_call)(n,{submit:a},"POST",{success:this.refresh})},refresh:function(){window.location.reload()},templateContext:function(){var t=this.model.get("options").buttons,e=this.model.get("options").current_value;return(0,s.updateSelectOptions)(t,e,"status"),console.log(t),console.log(e),{name:this.model.get("options").name,buttons:t}}});e.default=l}).call(e,n(5))},,function(t,e,n){var a=n(2);t.exports=(a.default||a).template({1:function(t,e,n,a){return"#"},3:function(t,e,n,a){var i,o=this.lambda,s=this.escapeExpression;return s(o(null!=(i=null!=t?t.option:t)?i.url:i,t))},5:function(t,e,n,a){var i,o=this.lambda,s=this.escapeExpression;return'onclick="'+s(o(null!=(i=null!=t?t.option:t)?i.onclick:i,t))+'"'},7:function(t,e,n,a){var i,o=this.lambda,s=this.escapeExpression;return" "+s(o(null!=(i=null!=t?t.option:t)?i.attrs:i,t))},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,a){var i,o=this.lambda,s=this.escapeExpression,r="<a\n    class='"+s(o(null!=(i=null!=t?t.option:t)?i.css:i,t))+" btn-block'\n    href='";return i=e.if.call(t,null!=(i=null!=t?t.option:t)?i.popup:i,{name:"if",hash:{},fn:this.program(1,a),inverse:this.program(3,a),data:a}),null!=i&&(r+=i),r+="'\n    title=\""+s(o(null!=(i=null!=t?t.option:t)?i.title:i,t))+'"\n    ',i=e.if.call(t,null!=(i=null!=t?t.option:t)?i.onclick:i,{name:"if",hash:{},fn:this.program(5,a),inverse:this.noop,data:a}),null!=i&&(r+=i),r+="\n    ",i=e.if.call(t,null!=(i=null!=t?t.option:t)?i.attrs:i,{name:"if",hash:{},fn:this.program(7,a),inverse:this.noop,data:a}),null!=i&&(r+=i),r+">\n    <i class='"+s(o(null!=(i=null!=t?t.option:t)?i.icon:i,t))+"'></i> "+s(o(null!=(i=null!=t?t.option:t)?i.label:i,t))+"\n</a>\n"},useData:!0})},function(t,e,n){var a=n(2);t.exports=(a.default||a).template({1:function(t,e,n,a){var i,o,s="function",r=e.helperMissing,l=this.escapeExpression,u="    <div class='form-group date'>\n        <label for='altdate'>"+l((o=null!=(o=e.title||(null!=t?t.title:t))?o:r,typeof o===s?o.call(t,{name:"title",hash:{},data:a}):o))+'</label>\n        <input class="form-control" name="altdate" type="text" autocomplete="off" />\n        <input class="form-control" name="'+l((o=null!=(o=e.field_name||(null!=t?t.field_name:t))?o:r,typeof o===s?o.call(t,{name:"field_name",hash:{},data:a}):o))+'" type="hidden" />\n';return i=e.if.call(t,null!=t?t.description:t,{name:"if",hash:{},fn:this.program(2,a),inverse:this.noop,data:a}),null!=i&&(u+=i),u+"    </div>\n"},2:function(t,e,n,a){var i,o="function",s=e.helperMissing,r=this.escapeExpression;return"        <span class='help-block'>"+r((i=null!=(i=e.description||(null!=t?t.description:t))?i:s,typeof i===o?i.call(t,{name:"description",hash:{},data:a}):i))+"</span>\n"},4:function(t,e,n,a){var i,o="function",s=e.helperMissing,r=this.escapeExpression;return"    <div class='form-group date'>\n        <label>Date</label>\n        <div class='form-control'>\n            "+r((i=null!=(i=e.date||(null!=t?t.date:t))?i:s,typeof i===o?i.call(t,{name:"date",hash:{},data:a}):i))+"\n        </div>\n    </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,a){var i,o="";return i=e.if.call(t,null!=t?t.editable:t,{name:"if",hash:{},fn:this.program(1,a),inverse:this.program(4,a),data:a}),null!=i&&(o+=i),o},useData:!0})},function(t,e,n){var a=n(2);t.exports=(a.default||a).template({1:function(t,e,n,a){var i,o="function",s=e.helperMissing,r=this.escapeExpression;return"<label for="+r((i=null!=(i=e.field_name||(null!=t?t.field_name:t))?i:s,typeof i===o?i.call(t,{name:"field_name",hash:{},data:a}):i))+">"+r((i=null!=(i=e.title||(null!=t?t.title:t))?i:s,typeof i===o?i.call(t,{name:"title",hash:{},data:a}):i))+"</label>"},3:function(t,e,n,a){return"<div class='input-group'>"},5:function(t,e,n,a){var i,o,s="function",r=e.helperMissing,l='<div class="input-group-addon">';return o=null!=(o=e.addon||(null!=t?t.addon:t))?o:r,i=typeof o===s?o.call(t,{name:"addon",hash:{},data:a}):o,null!=i&&(l+=i),l+"</div>"},7:function(t,e,n,a){return"</div>"},9:function(t,e,n,a){var i,o="function",s=e.helperMissing,r=this.escapeExpression;return"<span class='help-block'><small>"+r((i=null!=(i=e.description||(null!=t?t.description:t))?i:s,typeof i===o?i.call(t,{name:"description",hash:{},data:a}):i))+"</small></span>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,a){var i,o,s="function",r=e.helperMissing,l=this.escapeExpression,u="";return i=e.if.call(t,null!=t?t.title:t,{name:"if",hash:{},fn:this.program(1,a),inverse:this.noop,data:a}),null!=i&&(u+=i),u+="\n",i=e.if.call(t,null!=t?t.addon:t,{name:"if",hash:{},fn:this.program(3,a),inverse:this.noop,data:a}),null!=i&&(u+=i),u+="<input class='form-control "+l((o=null!=(o=e.css_class||(null!=t?t.css_class:t))?o:r,typeof o===s?o.call(t,{name:"css_class",hash:{},data:a}):o))+"' type='"+l((o=null!=(o=e.type||(null!=t?t.type:t))?o:r,typeof o===s?o.call(t,{name:"type",hash:{},data:a}):o))+"' value='"+l((o=null!=(o=e.value||(null!=t?t.value:t))?o:r,typeof o===s?o.call(t,{name:"value",hash:{},data:a}):o))+"' name=\""+l((o=null!=(o=e.field_name||(null!=t?t.field_name:t))?o:r,typeof o===s?o.call(t,{name:"field_name",hash:{},data:a}):o))+'"></input>',i=e.if.call(t,null!=t?t.addon:t,{name:"if",hash:{},fn:this.program(5,a),inverse:this.noop,data:a}),null!=i&&(u+=i),i=e.if.call(t,null!=t?t.addon:t,{name:"if",hash:{},fn:this.program(7,a),inverse:this.noop,data:a}),null!=i&&(u+=i),u+="\n",i=e.if.call(t,null!=t?t.description:t,{name:"if",hash:{},fn:this.program(9,a),inverse:this.noop,data:a}),null!=i&&(u+=i),u},useData:!0})},function(t,e,n){var a=n(2);t.exports=(a.default||a).template({1:function(t,e,n,a){var i,o="function",s=e.helperMissing,r=this.escapeExpression;return"<label for='"+r((i=null!=(i=e.field_name||(null!=t?t.field_name:t))?i:s,typeof i===o?i.call(t,{name:"field_name",hash:{},data:a}):i))+"'>"+r((i=null!=(i=e.title||(null!=t?t.title:t))?i:s,typeof i===o?i.call(t,{name:"title",hash:{},data:a}):i))+"</label>\n"},3:function(t,e,n,a){return"multiple"},5:function(t,e,n,a,i){var o,s=this.escapeExpression,r=this.lambda,l="    <option value='"+s(e.lookup.call(t,t,null!=i[1]?i[1].id_key:i[1],{name:"lookup",hash:{},data:a}))+"' ";return o=e.if.call(t,null!=t?t.selected:t,{name:"if",hash:{},fn:this.program(6,a,i),inverse:this.noop,data:a}),null!=o&&(l+=o),l+">"+s(r(null!=t?t.label:t,t))+"</option>\n"},6:function(t,e,n,a){return"selected"},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,a,i){var o,s,r="function",l=e.helperMissing,u=this.escapeExpression,c="";return o=e.if.call(t,null!=t?t.title:t,{name:"if",hash:{},fn:this.program(1,a,i),inverse:this.noop,data:a}),null!=o&&(c+=o),c+="<select class='form-control' ",o=e.if.call(t,null!=t?t.multiple:t,{name:"if",hash:{},fn:this.program(3,a,i),inverse:this.noop,data:a}),null!=o&&(c+=o),c+=" name='"+u((s=null!=(s=e.field_name||(null!=t?t.field_name:t))?s:l,typeof s===r?s.call(t,{name:"field_name",hash:{},data:a}):s))+"'>\n",o=e.each.call(t,null!=t?t.options:t,{name:"each",hash:{},fn:this.program(5,a,i),inverse:this.noop,data:a}),null!=o&&(c+=o),c+"</select>\n"},useData:!0,useDepths:!0})},function(t,e,n){var a=n(2);t.exports=(a.default||a).template({1:function(t,e,n,a,i){var o,s=this.lambda,r=this.escapeExpression,l='    <label class="'+r(s(null!=t?t.css:t,t))+" ";return o=e.if.call(t,null!=t?t.selected:t,{name:"if",hash:{},fn:this.program(2,a,i),inverse:this.noop,data:a}),null!=o&&(l+=o),l+='">\n        <input\n            type="radio"\n            name="'+r(s(null!=i[1]?i[1].field_name:i[1],t))+'"\n            value="'+r(s(null!=t?t.value:t,t))+'"\n',o=e.if.call(t,null!=t?t.selected:t,{name:"if",hash:{},fn:this.program(4,a,i),inverse:this.noop,data:a}),null!=o&&(l+=o),l+'            autocomplete="off"\n            >\n            <i class=\''+r(s(null!=t?t.icon:t,t))+"'></i> "+r(s(null!=t?t.label:t,t))+"\n\n    </label>\n"},2:function(t,e,n,a){return"active"},4:function(t,e,n,a){return"            checked\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,a,i){var o,s=this.lambda,r=this.escapeExpression,l="<h4 class='text-center'>"+r(s(null!=(o=null!=t?t.options:t)?o.label:o,t))+"</h4>\n<hr />\n<div class='btn-group' data-toggle=\"buttons\">\n";return o=e.each.call(t,null!=t?t.buttons:t,{name:"each",hash:{},fn:this.program(1,a,i),inverse:this.noop,data:a}),null!=o&&(l+=o),l+"</div>\n"},useData:!0,useDepths:!0})},function(t,e,n){"use strict";var a=n(16),i=n(24).default,o=n(18).default,s=n(19),r=n(42),l=function(){var t=new a.HandlebarsEnvironment;return s.extend(t,a),t.SafeString=i,t.Exception=o,t.Utils=s,t.escapeExpression=s.escapeExpression,t.VM=r,t.template=function(e){return r.template(e,t)},t},u=l();u.create=l,u.default=u,e.default=u},function(t,e,n){"use strict";function a(t){var e=t&&t[0]||1,n=d;if(e!==n){if(e<n){var a=h[n],i=h[e];throw new c("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+a+") or downgrade your runtime to an older version ("+i+").")}throw new c("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").");
}}function i(t,e){if(!e)throw new c("No environment passed to template");if(!t||!t.main)throw new c("Unknown template object: "+typeof t);e.VM.checkRevision(t.compiler);var n=function(n,a,i,o,s,r,l,d,h){s&&(o=u.extend({},o,s));var f=e.VM.invokePartial.call(this,n,i,o,r,l,d,h);if(null==f&&e.compile){var p={helpers:r,partials:l,data:d,depths:h};l[i]=e.compile(n,{data:void 0!==d,compat:t.compat},e),f=l[i](o,p)}if(null!=f){if(a){for(var m=f.split("\n"),g=0,v=m.length;g<v&&(m[g]||g+1!==v);g++)m[g]=a+m[g];f=m.join("\n")}return f}throw new c("The partial "+i+" could not be compiled when running in runtime-only mode")},a={lookup:function(t,e){for(var n=t.length,a=0;a<n;a++)if(t[a]&&null!=t[a][e])return t[a][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:u.escapeExpression,invokePartial:n,fn:function(e){return t[e]},programs:[],program:function(t,e,n){var a=this.programs[t],i=this.fn(t);return e||n?a=o(this,t,i,e,n):a||(a=this.programs[t]=o(this,t,i)),a},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=u.extend({},e,t)),n},noop:e.VM.noop,compilerInfo:t.compiler},i=function(e,n){n=n||{};var o=n.data;i._setup(n),!n.partial&&t.useData&&(o=l(e,o));var s;return t.useDepths&&(s=n.depths?[e].concat(n.depths):[e]),t.main.call(a,e,a.helpers,a.partials,o,s)};return i.isTop=!0,i._setup=function(n){n.partial?(a.helpers=n.helpers,a.partials=n.partials):(a.helpers=a.merge(n.helpers,e.helpers),t.usePartial&&(a.partials=a.merge(n.partials,e.partials)))},i._child=function(e,n,i){if(t.useDepths&&!i)throw new c("must pass parent depths");return o(a,e,t[e],n,i)},i}function o(t,e,n,a,i){var o=function(e,o){return o=o||{},n.call(t,e,t.helpers,t.partials,o.data||a,i&&[e].concat(i))};return o.program=e,o.depth=i?i.length:0,o}function s(t,e,n,a,i,o,s){var r={partial:!0,helpers:a,partials:i,data:o,depths:s};if(void 0===t)throw new c("The partial "+e+" could not be found");if(t instanceof Function)return t(n,r)}function r(){return""}function l(t,e){return e&&"root"in e||(e=e?f(e):{},e.root=t),e}var u=n(19),c=n(18).default,d=n(16).COMPILER_REVISION,h=n(16).REVISION_CHANGES,f=n(16).createFrame;e.checkRevision=a,e.template=i,e.program=o,e.invokePartial=s,e.noop=r},function(t,e,n){var a,i,o;/*!
	 * jQuery UI Keycode 1.12.1
	 * http://jqueryui.com
	 *
	 * Copyright jQuery Foundation and other contributors
	 * Released under the MIT license.
	 * http://jquery.org/license
	 */
!function(s){i=[n(5),n(20)],a=s,o="function"==typeof a?a.apply(e,i):a,!(void 0!==o&&(t.exports=o))}(function(t){return t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}})},function(t,e,n){var a,i,o;/*!
	 * jQuery UI Datepicker 1.12.1
	 * http://jqueryui.com
	 *
	 * Copyright jQuery Foundation and other contributors
	 * Released under the MIT license.
	 * http://jquery.org/license
	 */
!function(s){i=[n(5),n(20),n(43)],a=s,o="function"==typeof a?a.apply(e,i):a,!(void 0!==o&&(t.exports=o))}(function(t){function e(t){for(var e,n;t.length&&t[0]!==document;){if(e=t.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(n=parseInt(t.css("zIndex"),10),!isNaN(n)&&0!==n))return n;t=t.parent()}return 0}function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=a(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function a(e){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",n,function(){t(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&t(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&t(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",n,i)}function i(){t.datepicker._isDisabledDatepicker(s.inline?s.dpDiv.parent()[0]:s.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&t(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&t(this).addClass("ui-datepicker-next-hover"))}function o(e,n){t.extend(e,n);for(var a in n)null==n[a]&&(e[a]=n[a]);return e}t.extend(t.ui,{datepicker:{version:"1.12.1"}});var s;return t.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return o(this._defaults,t||{}),this},_attachDatepicker:function(e,n){var a,i,o;a=e.nodeName.toLowerCase(),i="div"===a||"span"===a,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),i),o.settings=t.extend({},n||{}),"input"===a?this._connectDatepicker(e,o):i&&this._inlineDatepicker(e,o)},_newInst:function(e,n){var i=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:i,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?a(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,n){var a=t(e);n.append=t([]),n.trigger=t([]),a.hasClass(this.markerClassName)||(this._attachments(a,n),a.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(n),t.data(e,"datepicker",n),n.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,n){var a,i,o,s=this._get(n,"appendText"),r=this._get(n,"isRTL");n.append&&n.append.remove(),s&&(n.append=t("<span class='"+this._appendClass+"'>"+s+"</span>"),e[r?"before":"after"](n.append)),e.off("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),a=this._get(n,"showOn"),"focus"!==a&&"both"!==a||e.on("focus",this._showDatepicker),"button"!==a&&"both"!==a||(i=this._get(n,"buttonText"),o=this._get(n,"buttonImage"),n.trigger=t(this._get(n,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:i,title:i}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:i,title:i}):i)),e[r?"before":"after"](n.trigger),n.trigger.on("click",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,n,a,i,o=new Date(2009,11,20),s=this._get(t,"dateFormat");s.match(/[DM]/)&&(e=function(t){for(n=0,a=0,i=0;i<t.length;i++)t[i].length>n&&(n=t[i].length,a=i);return a},o.setMonth(e(this._get(t,s.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,n){var a=t(e);a.hasClass(this.markerClassName)||(a.addClass(this.markerClassName).append(n.dpDiv),t.data(e,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(e),n.dpDiv.css("display","block"))},_dialogDatepicker:function(e,n,a,i,s){var r,l,u,c,d,h=this._dialogInst;return h||(this.uuid+=1,r="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+r+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),h=this._dialogInst=this._newInst(this._dialogInput,!1),h.settings={},t.data(this._dialogInput[0],"datepicker",h)),o(h.settings,i||{}),n=n&&n.constructor===Date?this._formatDate(h,n):n,this._dialogInput.val(n),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(l=document.documentElement.clientWidth,u=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+c,u/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=a,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(e){var n,a=t(e),i=t.data(e,"datepicker");a.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===n?(i.append.remove(),i.trigger.remove(),a.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==n&&"span"!==n||a.removeClass(this.markerClassName).empty(),s===i&&(s=null))},_enableDatepicker:function(e){var n,a,i=t(e),o=t.data(e,"datepicker");i.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),"input"===n?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==n&&"span"!==n||(a=i.children("."+this._inlineClass),a.children().removeClass("ui-state-disabled"),a.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var n,a,i=t(e),o=t.data(e,"datepicker");i.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),"input"===n?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==n&&"span"!==n||(a=i.children("."+this._inlineClass),a.children().addClass("ui-state-disabled"),a.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,n,a){var i,s,r,l,u=this._getInst(e);return 2===arguments.length&&"string"==typeof n?"defaults"===n?t.extend({},t.datepicker._defaults):u?"all"===n?t.extend({},u.settings):this._get(u,n):null:(i=n||{},"string"==typeof n&&(i={},i[n]=a),void(u&&(this._curInst===u&&this._hideDatepicker(),s=this._getDateDatepicker(e,!0),r=this._getMinMaxDate(u,"min"),l=this._getMinMaxDate(u,"max"),o(u.settings,i),null!==r&&void 0!==i.dateFormat&&void 0===i.minDate&&(u.settings.minDate=this._formatDate(u,r)),null!==l&&void 0!==i.dateFormat&&void 0===i.maxDate&&(u.settings.maxDate=this._formatDate(u,l)),"disabled"in i&&(i.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),u),this._autoSize(u),this._setDate(u,s),this._updateAlternate(u),this._updateDatepicker(u))))},_changeDatepicker:function(t,e,n){this._optionDatepicker(t,e,n)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var n=this._getInst(t);n&&(this._setDate(n,e),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(t,e){var n=this._getInst(t);return n&&!n.inline&&this._setDateFromField(n,e),n?this._getDate(n):null},_doKeyDown:function(e){var n,a,i,o=t.datepicker._getInst(e.target),s=!0,r=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),s=!1;break;case 13:return i=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),i[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,i[0]),n=t.datepicker._get(o,"onSelect"),n?(a=t.datepicker._formatDate(o),n.apply(o.input?o.input[0]:null,[a,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),s=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),s=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?1:-1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),s=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?-1:1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),s=e.ctrlKey||e.metaKey;break;default:s=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):s=!1;s&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var n,a,i=t.datepicker._getInst(e.target);if(t.datepicker._get(i,"constrainInput"))return n=t.datepicker._possibleChars(t.datepicker._get(i,"dateFormat")),a=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||a<" "||!n||n.indexOf(a)>-1},_doKeyUp:function(e){var n,a=t.datepicker._getInst(e.target);if(a.input.val()!==a.lastVal)try{n=t.datepicker.parseDate(t.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,t.datepicker._getFormatConfig(a)),n&&(t.datepicker._setDateFromField(a),t.datepicker._updateAlternate(a),t.datepicker._updateDatepicker(a))}catch(t){}return!0},_showDatepicker:function(n){if(n=n.target||n,"input"!==n.nodeName.toLowerCase()&&(n=t("input",n.parentNode)[0]),!t.datepicker._isDisabledDatepicker(n)&&t.datepicker._lastInput!==n){var a,i,s,r,l,u,c;a=t.datepicker._getInst(n),t.datepicker._curInst&&t.datepicker._curInst!==a&&(t.datepicker._curInst.dpDiv.stop(!0,!0),a&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),i=t.datepicker._get(a,"beforeShow"),s=i?i.apply(n,[n,a]):{},s!==!1&&(o(a.settings,s),a.lastVal=null,t.datepicker._lastInput=n,t.datepicker._setDateFromField(a),t.datepicker._inDialog&&(n.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(n),t.datepicker._pos[1]+=n.offsetHeight),r=!1,t(n).parents().each(function(){return r|="fixed"===t(this).css("position"),!r}),l={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,a.dpDiv.empty(),a.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(a),l=t.datepicker._checkOffset(a,l,r),a.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":r?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),a.inline||(u=t.datepicker._get(a,"showAnim"),c=t.datepicker._get(a,"duration"),a.dpDiv.css("z-index",e(t(n))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[u]?a.dpDiv.show(u,t.datepicker._get(a,"showOptions"),c):a.dpDiv[u||"show"](u?c:null),t.datepicker._shouldFocusInput(a)&&a.input.trigger("focus"),t.datepicker._curInst=a))}},_updateDatepicker:function(e){this.maxRows=4,s=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var n,a=this._getNumberOfMonths(e),o=a[1],r=17,l=e.dpDiv.find("."+this._dayOverClass+" a");l.length>0&&i.apply(l.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),o>1&&e.dpDiv.addClass("ui-datepicker-multi-"+o).css("width",r*o+"em"),e.dpDiv[(1!==a[0]||1!==a[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(n=e.yearshtml,setTimeout(function(){n===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),n=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,n,a){var i=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),s=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(a?0:t(document).scrollLeft()),u=document.documentElement.clientHeight+(a?0:t(document).scrollTop());return n.left-=this._get(e,"isRTL")?i-s:0,n.left-=a&&n.left===e.input.offset().left?t(document).scrollLeft():0,n.top-=a&&n.top===e.input.offset().top+r?t(document).scrollTop():0,n.left-=Math.min(n.left,n.left+i>l&&l>i?Math.abs(n.left+i-l):0),n.top-=Math.min(n.top,n.top+o>u&&u>o?Math.abs(o+r):0),n},_findPos:function(e){for(var n,a=this._getInst(e),i=this._get(a,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[i?"previousSibling":"nextSibling"];return n=t(e).offset(),[n.left,n.top]},_hideDatepicker:function(e){var n,a,i,o,s=this._curInst;!s||e&&s!==t.data(e,"datepicker")||this._datepickerShowing&&(n=this._get(s,"showAnim"),a=this._get(s,"duration"),i=function(){t.datepicker._tidyDialog(s)},t.effects&&(t.effects.effect[n]||t.effects[n])?s.dpDiv.hide(n,t.datepicker._get(s,"showOptions"),a,i):s.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?a:null,i),n||i(),this._datepickerShowing=!1,o=this._get(s,"onClose"),o&&o.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var n=t(e.target),a=t.datepicker._getInst(n[0]);(n[0].id===t.datepicker._mainDivId||0!==n.parents("#"+t.datepicker._mainDivId).length||n.hasClass(t.datepicker.markerClassName)||n.closest("."+t.datepicker._triggerClass).length||!t.datepicker._datepickerShowing||t.datepicker._inDialog&&t.blockUI)&&(!n.hasClass(t.datepicker.markerClassName)||t.datepicker._curInst===a)||t.datepicker._hideDatepicker()}},_adjustDate:function(e,n,a){var i=t(e),o=this._getInst(i[0]);this._isDisabledDatepicker(i[0])||(this._adjustInstDate(o,n+("M"===a?this._get(o,"showCurrentAtPos"):0),a),this._updateDatepicker(o))},_gotoToday:function(e){var n,a=t(e),i=this._getInst(a[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(n=new Date,i.selectedDay=n.getDate(),i.drawMonth=i.selectedMonth=n.getMonth(),i.drawYear=i.selectedYear=n.getFullYear()),this._notifyChange(i),this._adjustDate(a)},_selectMonthYear:function(e,n,a){var i=t(e),o=this._getInst(i[0]);o["selected"+("M"===a?"Month":"Year")]=o["draw"+("M"===a?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(i)},_selectDay:function(e,n,a,i){var o,s=t(e);t(i).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||(o=this._getInst(s[0]),o.selectedDay=o.currentDay=t("a",i).html(),o.selectedMonth=o.currentMonth=n,o.selectedYear=o.currentYear=a,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var n=t(e);this._selectDate(n,"")},_selectDate:function(e,n){var a,i=t(e),o=this._getInst(i[0]);n=null!=n?n:this._formatDate(o),o.input&&o.input.val(n),this._updateAlternate(o),a=this._get(o,"onSelect"),a?a.apply(o.input?o.input[0]:null,[n,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var n,a,i,o=this._get(e,"altField");o&&(n=this._get(e,"altFormat")||this._get(e,"dateFormat"),a=this._getDate(e),i=this.formatDate(n,a,this._getFormatConfig(e)),t(o).val(i))},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1},parseDate:function(e,n,a){if(null==e||null==n)throw"Invalid arguments";if(n="object"==typeof n?n.toString():n+"",""===n)return null;var i,o,s,r,l=0,u=(a?a.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),d=(a?a.dayNamesShort:null)||this._defaults.dayNamesShort,h=(a?a.dayNames:null)||this._defaults.dayNames,f=(a?a.monthNamesShort:null)||this._defaults.monthNamesShort,p=(a?a.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,_=-1,b=!1,y=function(t){var n=i+1<e.length&&e.charAt(i+1)===t;return n&&i++,n},k=function(t){var e=y(t),a="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,i="y"===t?a:1,o=new RegExp("^\\d{"+i+","+a+"}"),s=n.substring(l).match(o);if(!s)throw"Missing number at position "+l;return l+=s[0].length,parseInt(s[0],10)},w=function(e,a,i){var o=-1,s=t.map(y(e)?i:a,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(s,function(t,e){var a=e[1];if(n.substr(l,a.length).toLowerCase()===a.toLowerCase())return o=e[0],l+=a.length,!1}),o!==-1)return o+1;throw"Unknown name at position "+l},D=function(){if(n.charAt(l)!==e.charAt(i))throw"Unexpected literal at position "+l;l++};for(i=0;i<e.length;i++)if(b)"'"!==e.charAt(i)||y("'")?D():b=!1;else switch(e.charAt(i)){case"d":v=k("d");break;case"D":w("D",d,h);break;case"o":_=k("o");break;case"m":g=k("m");break;case"M":g=w("M",f,p);break;case"y":m=k("y");break;case"@":r=new Date(k("@")),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"!":r=new Date((k("!")-this._ticksTo1970)/1e4),m=r.getFullYear(),g=r.getMonth()+1,v=r.getDate();break;case"'":y("'")?D():b=!0;break;default:D()}if(l<n.length&&(s=n.substr(l),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(m===-1?m=(new Date).getFullYear():m<100&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(m<=c?0:-100)),_>-1)for(g=1,v=_;o=this._getDaysInMonth(m,g-1),!(v<=o);)g++,v-=o;if(r=this._daylightSavingAdjust(new Date(m,g-1,v)),r.getFullYear()!==m||r.getMonth()+1!==g||r.getDate()!==v)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,n){if(!e)return"";var a,i=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,s=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,r=(n?n.monthNames:null)||this._defaults.monthNames,l=function(e){var n=a+1<t.length&&t.charAt(a+1)===e;return n&&a++,n},u=function(t,e,n){var a=""+e;if(l(t))for(;a.length<n;)a="0"+a;return a},c=function(t,e,n,a){return l(t)?a[e]:n[e]},d="",h=!1;if(e)for(a=0;a<t.length;a++)if(h)"'"!==t.charAt(a)||l("'")?d+=t.charAt(a):h=!1;else switch(t.charAt(a)){case"d":d+=u("d",e.getDate(),2);break;case"D":d+=c("D",e.getDay(),i,o);break;case"o":d+=u("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=u("m",e.getMonth()+1,2);break;case"M":d+=c("M",e.getMonth(),s,r);break;case"y":d+=l("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":d+=e.getTime();break;case"!":d+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":h=!0;break;default:d+=t.charAt(a)}return d},_possibleChars:function(t){var e,n="",a=!1,i=function(n){var a=e+1<t.length&&t.charAt(e+1)===n;return a&&e++,a};for(e=0;e<t.length;e++)if(a)"'"!==t.charAt(e)||i("'")?n+=t.charAt(e):a=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":i("'")?n+="'":a=!0;break;default:n+=t.charAt(e)}return n},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var n=this._get(t,"dateFormat"),a=t.lastVal=t.input?t.input.val():null,i=this._getDefaultDate(t),o=i,s=this._getFormatConfig(t);try{o=this.parseDate(n,a,s)||i}catch(t){a=e?"":a}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=a?o.getDate():0,t.currentMonth=a?o.getMonth():0,t.currentYear=a?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,n,a){var i=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},o=function(n){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),n,t.datepicker._getFormatConfig(e))}catch(t){}for(var a=(n.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,i=a.getFullYear(),o=a.getMonth(),s=a.getDate(),r=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=r.exec(n);l;){switch(l[2]||"d"){case"d":case"D":s+=parseInt(l[1],10);break;case"w":case"W":s+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(i,o));break;case"y":case"Y":i+=parseInt(l[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(i,o))}l=r.exec(n)}return new Date(i,o,s)},s=null==n||""===n?a:"string"==typeof n?o(n):"number"==typeof n?isNaN(n)?a:i(n):new Date(n.getTime());return s=s&&"Invalid Date"===s.toString()?a:s,s&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,n){var a=!e,i=t.selectedMonth,o=t.selectedYear,s=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=s.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=s.getMonth(),t.drawYear=t.selectedYear=t.currentYear=s.getFullYear(),i===t.selectedMonth&&o===t.selectedYear||n||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(a?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var n=this._get(e,"stepMonths"),a="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(a,-n,"M")},next:function(){t.datepicker._adjustDate(a,+n,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(a)},selectDay:function(){return t.datepicker._selectDay(a,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(a,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(a,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,n,a,i,o,s,r,l,u,c,d,h,f,p,m,g,v,_,b,y,k,w,D,M,x,C,O,T,S,I,F,A,N,P,j,E,V,Y,L,B=new Date,q=this._daylightSavingAdjust(new Date(B.getFullYear(),B.getMonth(),B.getDate())),R=this._get(t,"isRTL"),H=this._get(t,"showButtonPanel"),K=this._get(t,"hideIfNoPrevNext"),U=this._get(t,"navigationAsDateFormat"),z=this._getNumberOfMonths(t),W=this._get(t,"showCurrentAtPos"),J=this._get(t,"stepMonths"),$=1!==z[0]||1!==z[1],G=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(t,"min"),Q=this._getMinMaxDate(t,"max"),X=t.drawMonth-W,tt=t.drawYear;if(X<0&&(X+=12,tt--),Q)for(e=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-z[0]*z[1]+1,Q.getDate())),e=Z&&e<Z?Z:e;this._daylightSavingAdjust(new Date(tt,X,1))>e;)X--,X<0&&(X=11,tt--);for(t.drawMonth=X,t.drawYear=tt,n=this._get(t,"prevText"),n=U?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,X-J,1)),this._getFormatConfig(t)):n,a=this._canAdjustMonth(t,-1,tt,X)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(R?"e":"w")+"'>"+n+"</span></a>":K?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(R?"e":"w")+"'>"+n+"</span></a>",i=this._get(t,"nextText"),i=U?this.formatDate(i,this._daylightSavingAdjust(new Date(tt,X+J,1)),this._getFormatConfig(t)):i,o=this._canAdjustMonth(t,1,tt,X)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(R?"w":"e")+"'>"+i+"</span></a>":K?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(R?"w":"e")+"'>"+i+"</span></a>",s=this._get(t,"currentText"),r=this._get(t,"gotoCurrent")&&t.currentDay?G:q,s=U?this.formatDate(s,r,this._getFormatConfig(t)):s,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",u=H?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(R?l:"")+(this._isInRange(t,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(R?"":l)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,d=this._get(t,"showWeek"),h=this._get(t,"dayNames"),f=this._get(t,"dayNamesMin"),p=this._get(t,"monthNames"),m=this._get(t,"monthNamesShort"),g=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),_=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),y="",w=0;w<z[0];w++){for(D="",this.maxRows=4,M=0;M<z[1];M++){if(x=this._daylightSavingAdjust(new Date(tt,X,t.selectedDay)),C=" ui-corner-all",O="",$){if(O+="<div class='ui-datepicker-group",z[1]>1)switch(M){case 0:O+=" ui-datepicker-group-first",C=" ui-corner-"+(R?"right":"left");break;case z[1]-1:O+=" ui-datepicker-group-last",C=" ui-corner-"+(R?"left":"right");break;default:O+=" ui-datepicker-group-middle",C=""}O+="'>"}for(O+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+C+"'>"+(/all|left/.test(C)&&0===w?R?o:a:"")+(/all|right/.test(C)&&0===w?R?a:o:"")+this._generateMonthYearHeader(t,X,tt,Z,Q,w>0||M>0,p,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",T=d?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",k=0;k<7;k++)S=(k+c)%7,T+="<th scope='col'"+((k+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[S]+"'>"+f[S]+"</span></th>";for(O+=T+"</tr></thead><tbody>",I=this._getDaysInMonth(tt,X),tt===t.selectedYear&&X===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,I)),F=(this._getFirstDayOfMonth(tt,X)-c+7)%7,A=Math.ceil((F+I)/7),N=$&&this.maxRows>A?this.maxRows:A,this.maxRows=N,P=this._daylightSavingAdjust(new Date(tt,X,1-F)),j=0;j<N;j++){for(O+="<tr>",E=d?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(P)+"</td>":"",k=0;k<7;k++)V=g?g.apply(t.input?t.input[0]:null,[P]):[!0,""],Y=P.getMonth()!==X,L=Y&&!_||!V[0]||Z&&P<Z||Q&&P>Q,E+="<td class='"+((k+c+6)%7>=5?" ui-datepicker-week-end":"")+(Y?" ui-datepicker-other-month":"")+(P.getTime()===x.getTime()&&X===t.selectedMonth&&t._keyEvent||b.getTime()===P.getTime()&&b.getTime()===x.getTime()?" "+this._dayOverClass:"")+(L?" "+this._unselectableClass+" ui-state-disabled":"")+(Y&&!v?"":" "+V[1]+(P.getTime()===G.getTime()?" "+this._currentClass:"")+(P.getTime()===q.getTime()?" ui-datepicker-today":""))+"'"+(Y&&!v||!V[2]?"":" title='"+V[2].replace(/'/g,"&#39;")+"'")+(L?"":" data-handler='selectDay' data-event='click' data-month='"+P.getMonth()+"' data-year='"+P.getFullYear()+"'")+">"+(Y&&!v?"&#xa0;":L?"<span class='ui-state-default'>"+P.getDate()+"</span>":"<a class='ui-state-default"+(P.getTime()===q.getTime()?" ui-state-highlight":"")+(P.getTime()===G.getTime()?" ui-state-active":"")+(Y?" ui-priority-secondary":"")+"' href='#'>"+P.getDate()+"</a>")+"</td>",P.setDate(P.getDate()+1),P=this._daylightSavingAdjust(P);O+=E+"</tr>"}X++,X>11&&(X=0,tt++),O+="</tbody></table>"+($?"</div>"+(z[0]>0&&M===z[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),D+=O}y+=D}return y+=u,t._keyEvent=!1,y},_generateMonthYearHeader:function(t,e,n,a,i,o,s,r){var l,u,c,d,h,f,p,m,g=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),_=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",y="";if(o||!g)y+="<span class='ui-datepicker-month'>"+s[e]+"</span>";else{
for(l=a&&a.getFullYear()===n,u=i&&i.getFullYear()===n,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;c<12;c++)(!l||c>=a.getMonth())&&(!u||c<=i.getMonth())&&(y+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+r[c]+"</option>");y+="</select>"}if(_||(b+=y+(!o&&g&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(d=this._get(t,"yearRange").split(":"),h=(new Date).getFullYear(),f=function(t){var e=t.match(/c[+\-].*/)?n+parseInt(t.substring(1),10):t.match(/[+\-].*/)?h+parseInt(t,10):parseInt(t,10);return isNaN(e)?h:e},p=f(d[0]),m=Math.max(p,f(d[1]||"")),p=a?Math.max(p,a.getFullYear()):p,m=i?Math.min(m,i.getFullYear()):m,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";p<=m;p++)t.yearshtml+="<option value='"+p+"'"+(p===n?" selected='selected'":"")+">"+p+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),_&&(b+=(!o&&g&&v?"":"&#xa0;")+y),b+="</div>"},_adjustInstDate:function(t,e,n){var a=t.selectedYear+("Y"===n?e:0),i=t.selectedMonth+("M"===n?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(a,i))+("D"===n?e:0),s=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(a,i,o)));t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),"M"!==n&&"Y"!==n||this._notifyChange(t)},_restrictMinMax:function(t,e){var n=this._getMinMaxDate(t,"min"),a=this._getMinMaxDate(t,"max"),i=n&&e<n?n:e;return a&&i>a?a:i},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,n,a){var i=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(n,a+(e<0?e:i[0]*i[1]),1));return e<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var n,a,i=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),s=null,r=null,l=this._get(t,"yearRange");return l&&(n=l.split(":"),a=(new Date).getFullYear(),s=parseInt(n[0],10),r=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(s+=a),n[1].match(/[+\-].*/)&&(r+=a)),(!i||e.getTime()>=i.getTime())&&(!o||e.getTime()<=o.getTime())&&(!s||e.getFullYear()>=s)&&(!r||e.getFullYear()<=r)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,n,a){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var i=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(a,n,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),i,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(n)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n))},t.datepicker=new n,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1",t.datepicker})},,function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=a(i),s=o.default.Application.extend({region:"#js-main-area"}),r=new s;e.default=r},function(t,e,n){(function(t){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),o=a(i),s=n(6),r=o.default.Model.extend({getTypeOption:function(e){var n=this.get("type_id");return t.find(e,function(t){return t.value==n})},getTypeOptions:function(){return[]},getType:function(){var t=this.getTypeOptions();return this.getTypeOption(t)},getTypeLabel:function(){var t=this.getType();return this.getTypeOptions(),void 0===t?"":t.label},rollback:function(){this.get("id")&&this.url&&this.fetch()},duplicate:function(t){var e=(0,s.ajax_call)(this.url()+"?action=duplicate",t,"POST"),n=this;return e.done(function(t){n.collection.fetch()}),e}});e.default=r}).call(e,n(3))},function(t,e,n){(function(t){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(47),o=a(i),s=n(9),r=n(4),l=a(r),u=o.default.extend({defaults:{category:null,start:"",end:"",description:""},initialize:function(t){void 0===t.altdate&&void 0!==t.date&&this.set("altdate",(0,s.formatPaymentDate)(t.date)),this.config=l.default.channel("config"),this.expensekm_types=this.config.request("get:options","expensekm_types")},validation:{category:{required:!0,msg:"est requise"},type_id:{required:!0,msg:"est requis"},date:{required:!0,pattern:/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/,msg:"est requise"},km:{required:!0,pattern:/^[\+\-]?[0-9]+(([\.\,][0-9]{1})|([\.\,][0-9]{2}))?$/,msg:"doit être un nombre"}},getIndice:function(){var e=parseInt(this.get("type_id"),10),n=t.findWhere(this.expensekm_types,{value:e});return void 0===n?0:parseFloat(n.amount)},total:function(){var t=this.getKm(),e=this.getIndice();return t*e},getKm:function(){return parseFloat(this.get("km"))},getTypeOptions:function(){return this.expensekm_types}});e.default=u}).call(e,n(3))},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=a(i),s=o.default.View.extend({template:n(152),templateContext:function(){var t=this.getOption("colspan");return this.getOption("edit")&&(t+=1),{colspan:t}}});e.default=s},,,,,,,,,,,,,,function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(85),r=a(s),l=n(46),u=a(l),c=n(64),d=a(c),h=n(26),f=(a(h),n(28)),p=(a(f),n(27)),m=a(p),g=o.default.Object.extend({initialize:function(t){m.default.setFormConfig(t.form_config),d.default.loadModels(t.form_datas,t.form_config),AppOption.facade=d.default,AppOption.config=m.default,this.mainView=new r.default,u.default.showView(this.mainView)},status:function(t){this.mainView.showBox(t)},login:function(){this.mainView.showLogin()}});e.default=g},function(t,e,n){(function(t){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(71),r=a(s),l=n(69),u=a(l),c=n(70),d=a(c),h=n(68),f=a(h),p=o.default.Object.extend({channelName:"facade",radioEvents:{"changed:line":"computeLineTotal","changed:kmline":"computeKmLineTotal"},radioRequests:{"get:collection":"getCollectionRequest","get:totalmodel":"getTotalModelRequest","get:bookmarks":"getBookMarks"},loadModels:function(t,e){this.datas=t,this.models={},this.collections={},this.totalmodel=new r.default;var n=t.lines;this.collections.lines=new u.default(n);var a=t.kmlines;this.collections.kmlines=new d.default(a),this.bookmarks=new f.default(e.options.bookmarks),this.computeLineTotal(),this.computeKmLineTotal()},getBookMarks:function(){return this.bookmarks},computeLineTotal:function(e){var n;n=t.isUndefined(e)?["1","2"]:[e];var a=this.collections.lines,i={};t.each(n,function(t){i["ht_"+t]=a.total_ht(t),i["tva_"+t]=a.total_tva(t),i["ttc_"+t]=a.total(t)}),i.ht=a.total_ht(),i.tva=a.total_tva(),i.ttc=a.total(),this.totalmodel.set(i);var o=this.getChannel();t.each(n,function(t){o.trigger("change:lines_"+t)})},computeKmLineTotal:function(e){var n;n=t.isUndefined(e)?["1","2"]:[e];var a=this.collections.kmlines,i={};t.each(n,function(t){i["km_"+t]=a.total_km(t),i["km_ttc_"+t]=a.total(t)}),i.km=a.total_km(),i.km_ttc=a.total(),this.totalmodel.set(i);var o=this.getChannel();t.each(n,function(t){o.trigger("change:kmlines_"+t)})},getCollectionRequest:function(t){return this.collections[t]},getTotalModelRequest:function(){return this.totalmodel}}),m=new p;e.default=m}).call(e,n(3))},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=a(i),s=o.default.AppRouter.extend({appRoutes:{login:"login"}});e.default=s},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),o=a(i),s=n(67),r=a(s),l=o.default.Collection.extend({model:r.default});e.default=l},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),o=a(i),s=o.default.Model.extend({});e.default=s},function(t,e,n){(function(t){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),o=a(i),s=n(29),r=a(s),l=o.default.Collection.extend({url:"/api/v1/bookmarks",model:r.default,addBookMark:function(e){var n,a=["ht","tva","km","start","end","description","type_id","category"];console.log(e);var i=(n=t).pick.apply(n,[e.attributes].concat(a));console.log(i),this.create(i,{wait:!0})}});e.default=l}).call(e,n(3))},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),o=a(i),s=n(29),r=a(s),l=n(4),u=a(l),c=o.default.Collection.extend({model:r.default,initialize:function(){this.on("remove",this.channelCall),this.on("sync",this.channelCall),this.on("reset",this.channelCall)},channelCall:function(t){var e=u.default.channel("facade");e.trigger("changed:line",t.get("category"))},url:function(){return AppOption.context_url+"/lines"},comparator:function(t,e){var n=0;if(e.isSpecial())n=-1;else if(t.isSpecial())n=1;else{var a=t.get("category"),i=e.get("category");if(a<i?n=-1:a>i&&(n=1),0===n){var o=t.get("altdate"),s=t.get("altdate");o<s?n=-1:a>i&&(n=1)}}return n},total_ht:function(t){var e=0;return this.each(function(n){void 0!=t&&n.get("category")!=t||(e+=n.getHT())}),e},total_tva:function(t){var e=0;return this.each(function(n){void 0!=t&&n.get("category")!=t||(e+=n.getTva())}),e},total:function(t){var e=0;return this.each(function(n){void 0!=t&&n.get("category")!=t||(e+=n.total())}),e}});e.default=c},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),o=a(i),s=n(48),r=a(s),l=n(4),u=a(l),c=o.default.Collection.extend({model:r.default,initialize:function(){this.on("remove",this.channelCall),this.on("sync",this.channelCall),this.on("reset",this.channelCall)},channelCall:function(t){var e=u.default.channel("facade");e.trigger("changed:kmline",t.get("category"))},url:function(){return AppOption.context_url+"/kmlines"},total_km:function(t){var e=0;return this.each(function(n){void 0!=t&&n.get("category")!=t||(e+=n.getKm())}),e},total:function(t){var e=0;return this.each(function(n){void 0!=t&&n.get("category")!=t||(e+=n.total())}),e}});e.default=c},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),o=a(i),s=o.default.Model.extend({});e.default=s},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),o=a(i),s=n(1),r=a(s),l=n(32),u=a(l),c=n(34),d=a(c),h=r.default.CollectionView.extend({childTemplates:{anchor:u.default,toggle:d.default},tagName:"div",childView:function(t){var e=this.childTemplates[t.get("widget")];return o.default.isUndefined(e)&&console.log("Error : invalid widget type %s",t.get("widget")),e}});e.default=h},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(7),r=o.default.View.extend({tagName:"div",className:"row bookmark-line",template:n(149),ui:{delete_btn:".delete",insert_btn:".insert"},triggers:{"click @ui.delete_btn":"bookmark:delete","click @ui.insert_btn":"bookmark:insert"},templateContext:function(){var t=this.model.getTypeLabel();return{ht:(0,s.formatAmount)(this.model.get("ht")),tva:(0,s.formatAmount)(this.model.get("tva")),typelabel:t}}}),l=o.default.CollectionView.extend({childView:r,childViewTriggers:{"bookmark:delete":"bookmark:delete","bookmark:insert":"bookmark:insert"}});e.default=l},function(t,e,n){(function(t){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=a(i),s=o.default.View.extend({template:n(150),tagName:"footer",className:"sticky-footer hidden-md hidden-lg text-center",ui:{buttons:"button"},events:{"click @ui.buttons":"onButtonClick"},templateContext:function(){return{buttons:this.getOption("actions").status}},onButtonClick:function(e){var n=t(e.target),a=n.data("status"),i=n.data("title"),o=n.data("label"),s=n.data("url");this.triggerMethod("status:change",a,i,o,s)}});e.default=s}).call(e,n(5))},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(84),r=a(s),l=n(49),u=a(l),c=o.default.CollectionView.extend({tagName:"tbody",childViewTriggers:{edit:"line:edit",delete:"line:delete",bookmark:"bookmark:add",duplicate:"line:duplicate"},childView:r.default,emptyView:u.default,emptyViewOptions:function(){return{colspan:6,edit:this.getOption("edit")}},childViewOptions:function(){return{edit:this.getOption("edit")}},filter:function(t,e,n){return t.get("category")==this.getOption("category").value}});e.default=c},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(4),r=a(s),l=n(15),u=a(l),c=n(17),d=a(c),h=n(6),f=n(7),p=o.default.View.extend({behaviors:[u.default],template:n(151),regions:{select:".select"},ui:{cancel_btn:"button[type=reset]",form:"form"},events:{"submit @ui.form":"onSubmit","click @ui.cancel_btn":"onCancelClick"},initialize:function(){var t=r.default.channel("config");this.options=t.request("get:options","expenses")},onCancelClick:function(){this.triggerMethod("modal:close")},templateContext:function(){return{ht:(0,f.formatAmount)(this.model.get("ht")),tva:(0,f.formatAmount)(this.model.get("tva"))}},onRender:function(){var t=new d.default({options:this.options,title:"Feuille de note de dépenses vers laquelle dupliquer",id_key:"id",field_name:"sheet_id"});this.showChildView("select",t)},onSubmit:function(t){t.preventDefault();var e=(0,h.serializeForm)(this.getUI("form")),n=this.model.duplicate(e),a=this;n.done(function(){a.triggerMethod("modal:close")})}});e.default=p},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(15),r=a(s),l=n(78),u=a(l),c=n(4),d=a(c),h=n(73),f=a(h),p=o.default.View.extend({behaviors:[r.default],template:n(153),regions:{main:"#mainform-container",tel:"#telform-container",bookmark:"#bookmark-container"},ui:{main_tab:"ul.nav-tabs li.main a",tel_tab:"ul.nav-tabs li.tel a",modalbody:".modal-body"},childViewEvents:{"bookmark:insert":"onBookMarkInsert","success:sync":"onSuccessSync"},childViewTriggers:{"cancel:form":"modal:close","bookmark:delete":"bookmark:delete"},modelEvents:{"set:bookmark":"refreshForm"},initialize:function(){var t=d.default.channel("facade");this.bookmarks=t.request("get:bookmarks"),this.add=this.getOption("add"),this.tel=this.model.isSpecial()},refresh:function(){this.triggerMethod("line:add",this.model.get("category"))},onSuccessSync:function(){if(this.add){var t=this,e=this.getUI("modalbody");e.effect("highlight",{color:"#bbdfbb"},800,t.refresh.bind(this)),e.addClass("alert alert-success")}else this.triggerMethod("modal:close")},onModalBeforeClose:function(){this.model.rollback()},refreshForm:function(){this.model.isSpecial()?(this.showTelForm(),this.getUI("tel_tab").tab("show")):(this.showMainForm(),this.getUI("main_tab").tab("show"))},showMainForm:function(){if(!this.tel||this.add){var t=new u.default({model:this.model,destCollection:this.getOption("destCollection"),title:this.getOption("title"),tel:!1,add:this.add});this.showChildView("main",t)}},showTelForm:function(){if(this.tel||this.add){var t=new u.default({model:this.model,destCollection:this.getOption("destCollection"),title:this.getOption("title"),tel:!0,add:this.add});this.showChildView("tel",t)}},onBookMarkInsert:function(t){this.model.loadBookMark(t.model)},showBookMarks:function(){if(this.add&&this.bookmarks.length>0){var t=new f.default({collection:this.bookmarks});this.showChildView("bookmark",t)}},templateContext:function(){var t=this.add||this.tel,e=this.add||!this.tel;return{title:this.getOption("title"),add:this.add,show_tel_tab:this.tel,show_tel:t,show_bookmarks:this.add&&this.bookmarks.length>0,show_main:e}},onRender:function(){this.refreshForm(),this.showTelForm(),this.showBookMarks()}});e.default=p},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(12),r=a(s),l=n(21),u=a(l),c=n(13),d=a(c),h=n(17),f=a(h),p=n(4),m=a(p),g=o.default.View.extend({behaviors:[r.default],template:n(154),regions:{category:".category",date:".date",type_id:".type_id",description:".description",ht:".ht",tva:".tva"},childViewTriggers:{change:"data:modified"},initialize:function(){var t=m.default.channel("config");this.getOption("tel")?this.type_options=t.request("get:options","expensetel_types"):(this.type_options=t.request("get:options","expense_types"),this.categories=t.request("get:options","categories")),this.today=t.request("get:options","today")},onRender:function(){var t;t=this.getOption("tel")?new d.default({value:"1",field_name:"category",type:"hidden"}):new f.default({value:this.model.get("category"),field_name:"category",options:this.categories,id_key:"value",title:"Catégorie"}),this.showChildView("category",t),t=new u.default({date:this.model.get("date"),title:"Date",field_name:"date",default_value:this.today}),this.showChildView("date",t),t=new f.default({value:this.model.get("type_id"),title:"Type de frais",field_name:"type_id",options:this.type_options,id_key:"id"}),this.showChildView("type_id",t),this.getOption("tel")||(t=new d.default({value:this.model.get("description"),title:"Description",field_name:"description"}),this.showChildView("description",t)),t=new d.default({value:this.model.get("ht"),title:"Montant HT",field_name:"ht",addon:"€"}),this.showChildView("ht",t),t=new d.default({value:this.model.get("tva"),title:"Montant TVA",field_name:"tva",addon:"€"}),this.showChildView("tva",t)},templateContext:function(){return{title:this.getOption("title"),add:this.getOption("add")}}});e.default=g},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(82),r=a(s),l=n(49),u=a(l),c=o.default.CollectionView.extend({tagName:"tbody",childViewTriggers:{edit:"kmline:edit",delete:"kmline:delete",duplicate:"kmline:duplicate"},childView:r.default,emptyView:u.default,emptyViewOptions:function(){return{colspan:6,edit:this.getOption("edit")}},childViewOptions:function(){return{edit:this.getOption("edit")}},filter:function(t,e,n){return t.get("category")==this.getOption("category").value}});e.default=c},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(22),r=a(s),l=n(21),u=a(l),c=n(13),d=a(c),h=n(17),f=a(h),p=n(4),m=a(p),g=o.default.View.extend({behaviors:[r.default],template:n(155),regions:{category:".category",date:".date",type_id:".type_id",start:".start",end:".end",km:".km",description:".description"},childViewTriggers:{change:"data:modified"},initialize:function(){var t=m.default.channel("config");this.type_options=t.request("get:options","expensekm_types"),this.categories=t.request("get:options","categories"),this.today=t.request("get:options","today")},refreshForm:function(){var t=new f.default({value:this.model.get("category"),field_name:"category",options:this.categories,id_key:"value",title:"Catégorie"});this.showChildView("category",t),t=new u.default({date:this.model.get("date"),title:"Date",field_name:"date",default_value:this.today}),this.showChildView("date",t),t=new f.default({value:this.model.get("type_id"),title:"Type de frais",field_name:"type_id",options:this.type_options,id_key:"id"}),this.showChildView("type_id",t),t=new d.default({value:this.model.get("start"),title:"Point de départ",field_name:"start"}),this.showChildView("start",t),t=new d.default({value:this.model.get("end"),title:"Point d'arrivée",field_name:"end"}),this.showChildView("end",t),t=new d.default({value:this.model.get("km"),title:"Nombre de kilomètres",field_name:"km",addon:"km"}),this.showChildView("km",t),t=new d.default({value:this.model.get("description"),title:"Description",description:"Le cas échéant, indiquer la prestation liée à ces dépenses",field_name:"description"}),this.showChildView("description",t)},templateContext:function(){return{title:this.getOption("title")}},onRender:function(){this.refreshForm()}});e.default=g},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(79),r=a(s),l=n(4),u=a(l),c=n(7),d=o.default.View.extend({template:n(156),regions:{lines:{el:"tbody",replaceElement:!0}},ui:{add_btn:"button.add",total_km:".total_km",total_ttc:".total_ttc"},triggers:{"click @ui.add_btn":"kmline:add"},childViewTriggers:{"kmline:edit":"kmline:edit","kmline:delete":"kmline:delete","kmline:duplicate":"kmline:duplicate"},collectionEvents:{"change:category":"render"},initialize:function(){var t=u.default.channel("facade");this.totalmodel=t.request("get:totalmodel"),this.categoryName=this.getOption("category").value,this.listenTo(t,"change:kmlines_"+this.categoryName,this.showTotals.bind(this))},showTotals:function(){this.getUI("total_km").html(this.totalmodel.get("km_"+this.categoryName)+" km"),this.getUI("total_ttc").html((0,c.formatAmount)(this.totalmodel.get("km_ttc_"+this.categoryName)))},templateContext:function(){return{category:this.getOption("category"),edit:this.getOption("edit")}},onRender:function(){var t=new r.default({collection:this.collection,category:this.getOption("category"),edit:this.getOption("edit")});this.showChildView("lines",t)},onAttach:function(){this.showTotals()}});e.default=d},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(7),r=o.default.View.extend({tagName:"tr",template:n(157),modelEvents:{change:"render"},ui:{edit:"button.edit",delete:"button.delete",duplicate:"button.duplicate"},triggers:{"click @ui.edit":"edit","click @ui.delete":"delete","click @ui.duplicate":"duplicate"},templateContext:function(){var t=this.model.total(),e=this.model.getTypeLabel();return{edit:this.getOption("edit"),typelabel:e,total:(0,s.formatAmount)(t)}}});e.default=r},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(75),r=a(s),l=n(4),u=a(l),c=n(7),d=o.default.View.extend({template:n(158),regions:{lines:{el:"tbody",replaceElement:!0}},ui:{add_btn:"button.add",total_ht:".total_ht",total_tva:".total_tva",total_ttc:".total_ttc"},triggers:{"click @ui.add_btn":"line:add"},childViewTriggers:{"line:edit":"line:edit","line:delete":"line:delete","line:duplicate":"line:duplicate","bookmark:add":"bookmark:add"},collectionEvents:{"change:category":"render"},initialize:function(){var t=u.default.channel("facade");this.totalmodel=t.request("get:totalmodel"),this.categoryName=this.getOption("category").value,this.listenTo(t,"change:lines_"+this.categoryName,this.showTotals.bind(this))},showTotals:function(){this.getUI("total_ht").html((0,c.formatAmount)(this.totalmodel.get("ht_"+this.categoryName))),this.getUI("total_tva").html((0,c.formatAmount)(this.totalmodel.get("tva_"+this.categoryName))),this.getUI("total_ttc").html((0,c.formatAmount)(this.totalmodel.get("ttc_"+this.categoryName)))},templateContext:function(){return{category:this.getOption("category"),edit:this.getOption("edit")}},onRender:function(){var t=new r.default({collection:this.collection,category:this.getOption("category"),edit:this.getOption("edit")});this.showChildView("lines",t)},onAttach:function(){this.showTotals()}});e.default=d},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(7),r=n(159),l=n(160);n(201);var u=o.default.View.extend({tagName:"tr",ui:{edit:"button.edit",delete:"button.delete",duplicate:"button.duplicate",bookmark:"button.bookmark"},triggers:{"click @ui.edit":"edit","click @ui.delete":"delete","click @ui.duplicate":"duplicate","click @ui.bookmark":"bookmark"},modelEvents:{change:"render"},getTemplate:function(){return this.model.isSpecial()?r:l},highlightBookMark:function(){console.log("Highlight bookmark"),this.getUI("bookmark").effect("highlight",{color:"#ceff99"},"slow")},templateContext:function(){var t=this.model.total(),e=this.model.getTypeLabel();return{edit:this.getOption("edit"),typelabel:e,total:(0,s.formatAmount)(t),ht_label:(0,s.formatAmount)(this.model.get("ht")),tva_label:(0,s.formatAmount)(this.model.get("tva"))}}});e.default=u},function(t,e,n){(function(t){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(4),r=a(s),l=n(86),u=a(l),c=n(87),d=a(c),h=n(74),f=a(h),p=n(29),m=a(p),g=n(48),v=a(g),_=n(83),b=a(_),y=n(81),k=a(y),w=n(77),D=a(w),M=n(80),x=a(M),C=n(76),O=a(C),T=n(89),S=a(T),I=n(88),F=a(I),A=n(11),N=o.default.View.extend({className:"container-fluid page-content",template:n(161),regions:{modalRegion:".modalRegion",internalLines:".internal-lines",internalKmLines:".internal-kmlines",internalTotal:".internal-total",activityLines:".activity-lines",activityKmLines:".activity-kmlines",activityTotal:".activity-total",totals:".totals",footer:{el:".footer-actions",replaceElement:!0},rightbar:"#rightbar"},ui:{internal:"#internal-container",activity:"#activity-container"},childViewEvents:{"line:add":"onLineAdd","line:edit":"onLineEdit","line:delete":"onLineDelete","kmline:add":"onKmLineAdd","kmline:edit":"onKmLineEdit","kmline:delete":"onLineDelete","line:duplicate":"onLineDuplicate","kmline:duplicate":"onLineDuplicate","bookmark:add":"onBookMarkAdd","bookmark:delete":"onBookMarkDelete","status:change":"onStatusChange"},initialize:function(){this.facade=r.default.channel("facade"),this.config=r.default.channel("config"),this.categories=this.config.request("get:options","categories"),this.edit=this.config.request("get:options","edit")},onLineAdd:function(e){var n;n=t.isNumber(e)||t.isString(e)?e:e.getOption("category").value;var a=new m.default({category:n});this.showLineForm(a,!0,"Enregistrer une dépense")},onKmLineAdd:function(t){var e=t.getOption("category").value,n=new v.default({category:e});this.showKmLineForm(n,!0,"Enregistrer une dépense")},onLineEdit:function(t){this.showLineForm(t.model,!1,"Modifier une dépense")},onKmLineEdit:function(t){this.showKmLineForm(t.model,!1,"Modifier une dépense")},showLineForm:function(t,e,n){var a=new D.default({title:n,add:e,model:t,destCollection:this.facade.request("get:collection","lines")});this.showChildView("modalRegion",a)},showKmLineForm:function(t,e,n){var a=new x.default({title:n,add:e,model:t,destCollection:this.facade.request("get:collection","kmlines")});this.showChildView("modalRegion",a)},showDuplicateForm:function(t){var e=new O.default({model:t});this.showChildView("modalRegion",e)},onLineDuplicate:function(t){this.showDuplicateForm(t.model)},onDeleteSuccess:function(){(0,A.displayServerSuccess)("Vos données ont bien été supprimées")},onDeleteError:function(){(0,A.displayServerError)("Une erreur a été rencontrée lors de la suppression de cet élément")},onLineDelete:function(t){var e=window.confirm("Êtes-vous sûr de vouloir supprimer cette dépense ?");e&&t.model.destroy({success:this.onDeleteSuccess,error:this.onDeleteError})},onBookMarkAdd:function(t){var e=this.facade.request("get:bookmarks");e.addBookMark(t.model),t.highlightBookMark()},onBookMarkDelete:function(t){var e=window.confirm("Êtes-vous sûr de vouloir supprimer ce favoris ?");e&&t.model.destroy({success:this.onDeleteSuccess,error:this.onDeleteError})},showInternalTab:function(){var t=this.facade.request("get:collection","lines"),e=new b.default({collection:t,category:this.categories[0],edit:this.edit});this.showChildView("internalLines",e);var n=this.config.request("get:options","expensekm_types");0!==n.length&&(t=this.facade.request("get:collection","kmlines"),e=new k.default({collection:t,category:this.categories[0],edit:this.edit}),this.showChildView("internalKmLines",e))},showActitityTab:function(){var t=this.facade.request("get:collection","lines"),e=new b.default({collection:t,category:this.categories[1],edit:this.edit});this.showChildView("activityLines",e);var n=this.config.request("get:options","expensekm_types");0!==n.length&&(t=this.facade.request("get:collection","kmlines"),e=new k.default({collection:t,category:this.categories[1],edit:this.edit}),this.showChildView("activityKmLines",e))},showActions:function(){var t=new u.default({actions:this.config.request("get:form_actions")});this.showChildView("rightbar",t),t=new f.default({actions:this.config.request("get:form_actions")}),this.showChildView("footer",t)},showTotals:function(){var t=this.facade.request("get:totalmodel"),e=new S.default({model:t});this.showChildView("totals",e),e=new F.default({model:t,category:1}),this.showChildView("internalTotal",e),e=new F.default({model:t,category:2}),this.showChildView("activityTotal",e)},onRender:function(){this.showInternalTab(),this.showActitityTab(),this.showTotals(),this.showActions()},onStatusChange:function(t,e,n,a){var i=new d.default({status:t,title:e,label:n,url:a});this.showChildView("modalRegion",i)}});e.default=N}).call(e,n(3))},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(5),o=a(i),s=n(1),r=a(s),l=n(66),u=a(l),c=n(72),d=a(c),h=(n(7),n(4)),f=(a(h),n(162)),p=r.default.View.extend({regions:{container:".child-container"},ui:{buttons:"button"},events:{"click @ui.buttons":"onButtonClick"},modelEvents:{change:"render"},template:f,templateContext:function(){return{buttons:this.getOption("actions").status}},onButtonClick:function(t){var e=(0,o.default)(t.target),n=e.data("status"),a=e.data("title"),i=e.data("label"),s=e.data("url");this.triggerMethod("status:change",n,a,i,s)},onRender:function(){var t=new u.default(this.getOption("actions").others);this.showChildView("container",new d.default({collection:t}))}});e.default=p},function(t,e,n){(function(t){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{
value:!0});var i=n(1),o=a(i),s=n(15),r=a(s),l=n(6),u=n(4),c=(a(u),n(9),n(163)),d=o.default.View.extend({template:c,ui:{textarea:"textarea",btn_cancel:".cancel",submit:"button[type=submit]",form:"form"},behaviors:{modal:{behaviorClass:r.default}},events:{"click @ui.btn_cancel":"destroy","click @ui.submit":"onSubmit"},submitCallback:function(t){},submitErroCallback:function(e){(0,l.hideLoader)();var n="";e.responseJSON.errors&&t.each(e.responseJSON.errors,function(t,e){n+="   "+e+":"+t}),""==n&&(n="Votre document est incomplet, merci de vérifier votre saisie."),window.alert(n)},onSubmit:function(t){t.preventDefault();var e=(0,l.serializeForm)(this.getUI("form"));e.submit=this.getOption("status");var n=this.getOption("url");(0,l.showLoader)(),this.serverRequest=(0,l.ajax_call)(n,e,"POST"),this.serverRequest.then(this.submitCallback.bind(this),this.submitErroCallback.bind(this))},templateContext:function(){var t={title:this.getOption("title"),label:this.getOption("label"),status:this.getOption("status"),url:this.getOption("url")};return t}});e.default=d}).call(e,n(3))},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(4),r=(a(s),n(7)),l=o.default.View.extend({tagName:"div",template:n(164),modelEvents:{"change:ttc":"render","change:km_ttc":"render"},templateContext:function(){return{ttc:(0,r.formatAmount)(this.model.get("ttc")+this.model.get("km_ttc"))}}});e.default=l},function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=a(i),s=n(4),r=(a(s),n(7)),l=o.default.View.extend({tagName:"div",template:n(165),modelEvents:{"change:ttc":"render","change:ht":"render","change:tva":"render","change:km_ttc":"render","change:km":"render"},templateContext:function(){return{ht:(0,r.formatAmount)(this.model.get("ht")),tva:(0,r.formatAmount)(this.model.get("tva")),ttc:(0,r.formatAmount)(this.model.get("ttc")+this.model.get("km_ttc")),total_km:(0,r.formatAmount)(this.model.get("km"))}}});e.default=l},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var a=n(2);t.exports=(a.default||a).template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,a){var i,o,s="function",r=e.helperMissing,l=this.escapeExpression,u="<div class='col-xs-6'>\n"+l((o=null!=(o=e.description||(null!=t?t.description:t))?o:r,typeof o===s?o.call(t,{name:"description",hash:{},data:a}):o))+" <br /> HT ";return o=null!=(o=e.ht||(null!=t?t.ht:t))?o:r,i=typeof o===s?o.call(t,{name:"ht",hash:{},data:a}):o,null!=i&&(u+=i),u+=" - TVA ",o=null!=(o=e.tva||(null!=t?t.tva:t))?o:r,i=typeof o===s?o.call(t,{name:"tva",hash:{},data:a}):o,null!=i&&(u+=i),u+" <br />"+l((o=null!=(o=e.typelabel||(null!=t?t.typelabel:t))?o:r,typeof o===s?o.call(t,{name:"typelabel",hash:{},data:a}):o))+'\n</div>\n<div class=\'col-xs-6\'>\n<div class="btn-group" role="group" aria-label="actions">\n<button class=\'btn btn-success insert\'><i class="glyphicon glyphicon-ok"></i>&nbsp;Sélectionner</button>\n<button class=\'btn btn-danger delete\'><i class="glyphicon glyphicon-remove-sign"></i>&nbsp;Supprimer</button>\n</div>\n</div>\n'},useData:!0})},function(t,e,n){var a=n(2);t.exports=(a.default||a).template({1:function(t,e,n,a){var i=this.lambda,o=this.escapeExpression;return"    <button\n        class='btn "+o(i(null!=t?t.css:t,t))+"'\n        data-url='"+o(i(null!=t?t.url:t,t))+"'\n        data-title='"+o(i(null!=t?t.title:t,t))+"'\n        data-label='"+o(i(null!=t?t.label:t,t))+"'\n        data-status='"+o(i(null!=t?t.status:t,t))+"'>\n    <i class='glyphicon glyphicon-"+o(i(null!=t?t.icon:t,t))+"'></i> <br />\n    "+o(i(null!=t?t.label:t,t))+"\n    </button>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,a){var i,o="";return i=e.each.call(t,null!=t?t.buttons:t,{name:"each",hash:{},fn:this.program(1,a),inverse:this.noop,data:a}),null!=i&&(o+=i),o},useData:!0})},function(t,e,n){var a=n(2);t.exports=(a.default||a).template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,a){var i,o,s="function",r=e.helperMissing,l=this.escapeExpression,u='<div class="modal-dialog" role="document">\n    <div class="modal-content">\n        <form>\n            <div class="modal-header">\n              <button tabindex=\'-1\' type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n              <h4 class="modal-title">Dupliquer une note de dépense</h4>\n            </div>\n            <div class="modal-body">\n                <div>\n                Note de dépenses : '+l((o=null!=(o=e.description||(null!=t?t.description:t))?o:r,typeof o===s?o.call(t,{name:"description",hash:{},data:a}):o))+"<br />\n                HT : ";return o=null!=(o=e.ht||(null!=t?t.ht:t))?o:r,i=typeof o===s?o.call(t,{name:"ht",hash:{},data:a}):o,null!=i&&(u+=i),u+=" TVA : ",o=null!=(o=e.tva||(null!=t?t.tva:t))?o:r,i=typeof o===s?o.call(t,{name:"tva",hash:{},data:a}):o,null!=i&&(u+=i),u+"\n                </div>\n                <div class='select'></div>\n            </div>\n            <div class=\"modal-footer\">\n                <button\n                    class='btn btn-success primary-action'\n                    type='submit'\n                    value='submit'>\n                    Dupliquer\n                </button>\n                <button\n                    class='btn btn-default secondary-action'\n                    type='reset'\n                    value='submit'>\n                    Annuler\n                </button>\n            </div>\n        </form>\n    </div><!-- /.modal-content -->\n</div><!-- /.modal-dialog -->\n\n"},useData:!0})},function(t,e,n){var a=n(2);t.exports=(a.default||a).template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,a){var i,o="function",s=e.helperMissing,r=this.escapeExpression;return"<td colspan='"+r((i=null!=(i=e.colspan||(null!=t?t.colspan:t))?i:s,typeof i===o?i.call(t,{name:"colspan",hash:{},data:a}):i))+"'>Aucune dépense n'a été configurée</td>\n"},useData:!0})},function(t,e,n){var a=n(2);t.exports=(a.default||a).template({1:function(t,e,n,a){var i,o='            <ul class="nav nav-tabs" role="tablist">\n                <li role="presentation" class="active main">\n                    <a href="#mainform-container"\n                        aria-controls="form-container"\n                        role="tab"\n                        data-toggle="tab"\n                        tabindex=\'-1\'\n                        >\n                        Frais généraux\n                    </a>\n                </li>\n                <li role="presentation" class=\'tel\'>\n                    <a href="#telform-container"\n                        aria-controls="telform-container"\n                        role="tab"\n                        data-toggle="tab"\n                        tabindex=\'-1\'\n                        >\n                        Frais téléphoniques\n                    </a>\n                </li>\n';return i=e.if.call(t,null!=t?t.show_bookmarks:t,{name:"if",hash:{},fn:this.program(2,a),inverse:this.noop,data:a}),null!=i&&(o+=i),o+"            </ul>\n"},2:function(t,e,n,a){return'                    <li role="presentation">\n                        <a href="#bookmark-container"\n                            aria-controls="bookmark-container"\n                            role="tab"\n                            tabindex=\'-1\'\n                            data-toggle="tab">\n                            Favoris\n                        </a>\n                    </li>\n'},4:function(t,e,n,a){return'                <div\n                    role="tabpanel"\n                    class="tab-pane fade in active"\n                    id="mainform-container">\n                </div>\n'},6:function(t,e,n,a){var i,o='                <div\n                    role="tabpanel"\n                    class="tab-pane fade in ';return i=e.if.call(t,null!=t?t.show_tel_tab:t,{name:"if",hash:{},fn:this.program(7,a),inverse:this.noop,data:a}),null!=i&&(o+=i),o+'"\n                    id="telform-container">\n                </div>\n'},7:function(t,e,n,a){return"active"},9:function(t,e,n,a){return'                    <div\n                        role="tabpanel"\n                        class="tab-pane fade in"\n                        id="bookmark-container">\n                    </div>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,a){var i,o,s="function",r=e.helperMissing,l=this.escapeExpression,u='<div class="modal-dialog" role="document">\n    <div class="modal-content">\n            <div class="modal-header">\n              <button tabindex=\'-1\' type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n              <h4 class="modal-title">'+l((o=null!=(o=e.title||(null!=t?t.title:t))?o:r,typeof o===s?o.call(t,{name:"title",hash:{},data:a}):o))+'</h4>\n            </div>\n            <div class="modal-body">\n';return i=e.if.call(t,null!=t?t.add:t,{name:"if",hash:{},fn:this.program(1,a),inverse:this.noop,data:a}),null!=i&&(u+=i),u+="            <div class='tab-content'>\n",i=e.if.call(t,null!=t?t.show_main:t,{name:"if",hash:{},fn:this.program(4,a),inverse:this.noop,data:a}),null!=i&&(u+=i),i=e.if.call(t,null!=t?t.show_tel:t,{name:"if",hash:{},fn:this.program(6,a),inverse:this.noop,data:a}),null!=i&&(u+=i),i=e.if.call(t,null!=t?t.show_bookmarks:t,{name:"if",hash:{},fn:this.program(9,a),inverse:this.noop,data:a}),null!=i&&(u+=i),u+'            </div>\n            <div class="modal-footer">\n            </div>\n    </div><!-- /.modal-content -->\n</div><!-- /.modal-dialog -->\n'},useData:!0})},function(t,e,n){var a=n(2);t.exports=(a.default||a).template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,a){var i,o="function",s=e.helperMissing,r=this.escapeExpression;return"<form class='form expense-form'>\n    <div class='category'></div>\n    <div class='date required'></div>\n    <div class='type_id required'></div>\n    <div class='description required'></div>\n    <div class='ht'></div>\n    <div class='tva'></div>\n    <button\n        class='btn btn-success'\n        type='submit'\n        value='submit'>\n        "+r((i=null!=(i=e.title||(null!=t?t.title:t))?i:s,typeof i===o?i.call(t,{name:"title",hash:{},data:a}):i))+"\n    </button>\n\n    <button\n        class='btn btn-default secondary-action'\n        type='reset'\n        value='submit'>\n        Annuler\n    </button>\n</form>\n"},useData:!0})},function(t,e,n){var a=n(2);t.exports=(a.default||a).template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,a){var i,o="function",s=e.helperMissing,r=this.escapeExpression;return'<div class="modal-dialog" role="document">\n    <div class="modal-content">\n        <form class=\'form expense-form\'>\n            <div class="modal-header">\n              <button tabindex=\'-1\' type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n              <h4 class="modal-title">'+r((i=null!=(i=e.title||(null!=t?t.title:t))?i:s,typeof i===o?i.call(t,{name:"title",hash:{},data:a}):i))+"</h4>\n            </div>\n            <div class=\"modal-body\">\n                    <div class='category'></div>\n                    <div class='date required'></div>\n                    <div class='type_id required'></div>\n                    <div class='start required'></div>\n                    <div class='end required'></div>\n                    <div class='km required'></div>\n                    <div class='description required'></div>\n            </div>\n            <div class=\"modal-footer\">\n                    <button\n                        class='btn btn-success primary-action'\n                        type='submit'\n                        value='submit'>\n                        "+r((i=null!=(i=e.title||(null!=t?t.title:t))?i:s,typeof i===o?i.call(t,{name:"title",hash:{},data:a}):i))+"\n                    </button>\n                    <button\n                        class='btn btn-default secondary-action'\n                        type='reset'\n                        value='submit'>\n                        Annuler\n                    </button>\n            </div>\n        </form>\n    </div><!-- /.modal-content -->\n</div><!-- /.modal-dialog -->\n"},useData:!0})},function(t,e,n){var a=n(2);t.exports=(a.default||a).template({1:function(t,e,n,a){return"        <button class='btn btn-primary primary-action add'>\n            <i class='glyphicon glyphicon-plus-sign'></i>&nbsp;Ajouter une dépense\n        </button>\n"},3:function(t,e,n,a){return'        <th class="hidden-print">Actions</th>\n'},5:function(t,e,n,a){return'            <td class="hidden-print"></td>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,a){var i,o,s,r="function",l=e.helperMissing,u=e.blockHelperMissing,c='<div class="row">\n    <div class="col-xs-12">\n        <h3 style="margin-top:0px">\n            Dépenses kilométriques\n        </h3>\n';return o=null!=(o=e.edit||(null!=t?t.edit:t))?o:l,s={name:"edit",hash:{},fn:this.program(1,a),inverse:this.noop,data:a},i=typeof o===r?o.call(t,s):o,e.edit||(i=u.call(t,i,s)),null!=i&&(c+=i),c+='    </div>\n</div>\n\n<table class="opa table table-striped table-bordered table-condensed">\n    <thead>\n        <th>Date</th>\n        <th>Type</th>\n        <th>Prestation</th>\n        <th>Point de départ</th>\n        <th>Point d\'arrivée</th>\n        <th>Kms</th>\n        <th>Indemnités</th>\n',o=null!=(o=e.edit||(null!=t?t.edit:t))?o:l,s={name:"edit",hash:{},fn:this.program(3,a),inverse:this.noop,data:a},i=typeof o===r?o.call(t,s):o,e.edit||(i=u.call(t,i,s)),null!=i&&(c+=i),c+="    </thead>\n    <tbody class='lines'>\n    </tbody>\n    <tfoot>\n        <tr>\n            <td colspan='5'>Total</td>\n            <td class='total_km'></td>\n            <td class='total_ttc'></td>\n",o=null!=(o=e.edit||(null!=t?t.edit:t))?o:l,s={name:"edit",hash:{},fn:this.program(5,a),inverse:this.noop,data:a},i=typeof o===r?o.call(t,s):o,e.edit||(i=u.call(t,i,s)),null!=i&&(c+=i),c+"        </tr>\n    </tfoot>\n</table>\n\n"},useData:!0})},function(t,e,n){var a=n(2);t.exports=(a.default||a).template({1:function(t,e,n,a){return"<td class=\"hidden-print\">\n<button class='btn btn-default edit'><i class='glyphicon glyphicon-pencil'></i>&nbsp;Modifier</button>\n<button class='btn btn-default delete'><i class='glyphicon glyphicon-remove-sign'></i>&nbsp;Supprimer</button>\n<button class='btn btn-default duplicate'><i class='fa fa-copy'></i>&nbsp;Dupliquer</button>\n</td>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,a){var i,o,s,r="function",l=e.helperMissing,u=this.escapeExpression,c=e.blockHelperMissing,d="<td>"+u((o=null!=(o=e.altdate||(null!=t?t.altdate:t))?o:l,typeof o===r?o.call(t,{name:"altdate",hash:{},data:a}):o))+"</td>\n<td>"+u((o=null!=(o=e.typelabel||(null!=t?t.typelabel:t))?o:l,typeof o===r?o.call(t,{name:"typelabel",hash:{},data:a}):o))+"</td>\n<td>"+u((o=null!=(o=e.description||(null!=t?t.description:t))?o:l,typeof o===r?o.call(t,{name:"description",hash:{},data:a}):o))+"</td>\n<td>"+u((o=null!=(o=e.start||(null!=t?t.start:t))?o:l,typeof o===r?o.call(t,{name:"start",hash:{},data:a}):o))+"</td>\n<td>"+u((o=null!=(o=e.end||(null!=t?t.end:t))?o:l,typeof o===r?o.call(t,{name:"end",hash:{},data:a}):o))+"</td>\n<td>"+u((o=null!=(o=e.km||(null!=t?t.km:t))?o:l,typeof o===r?o.call(t,{name:"km",hash:{},data:a}):o))+" km</td>\n<td>";return o=null!=(o=e.total||(null!=t?t.total:t))?o:l,i=typeof o===r?o.call(t,{name:"total",hash:{},data:a}):o,null!=i&&(d+=i),d+="</td>\n",o=null!=(o=e.edit||(null!=t?t.edit:t))?o:l,s={name:"edit",hash:{},fn:this.program(1,a),inverse:this.noop,data:a},i=typeof o===r?o.call(t,s):o,e.edit||(i=c.call(t,i,s)),null!=i&&(d+=i),d},useData:!0})},function(t,e,n){var a=n(2);t.exports=(a.default||a).template({1:function(t,e,n,a){return"        <button class='btn btn-primary primary-action add'>\n            <i class='glyphicon glyphicon-plus-sign'></i>&nbsp;Ajouter une dépense\n        </button>\n"},3:function(t,e,n,a){return'        <th class="hidden-print">Actions</th>\n'},5:function(t,e,n,a){return'            <td class="hidden-print"></td>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,a){var i,o,s,r=this.lambda,l=this.escapeExpression,u="function",c=e.helperMissing,d=e.blockHelperMissing,h='<div class="row">\n    <div class="col-xs-12">\n        <h2 style="margin-top:0px">\n            '+l(r(null!=(i=null!=t?t.category:t)?i.label:i,t))+'\n        </h2>\n        <span class="help-block">\n            '+l(r(null!=(i=null!=t?t.category:t)?i.description:i,t))+"\n        </span>\n";return o=null!=(o=e.edit||(null!=t?t.edit:t))?o:c,s={name:"edit",hash:{},fn:this.program(1,a),inverse:this.noop,data:a},i=typeof o===u?o.call(t,s):o,e.edit||(i=d.call(t,i,s)),null!=i&&(h+=i),h+='    </div>\n</div>\n<table class="opa table table-bordered table-condensed">\n    <thead>\n        <th>Date</th>\n        <th>Type de dépense</th>\n        <th>Description</th>\n        <th>Montant HT</th>\n        <th>Tva</th>\n        <th>Total TTC</th>\n',o=null!=(o=e.edit||(null!=t?t.edit:t))?o:c,s={name:"edit",hash:{},fn:this.program(3,a),inverse:this.noop,data:a},i=typeof o===u?o.call(t,s):o,e.edit||(i=d.call(t,i,s)),null!=i&&(h+=i),h+="    </thead>\n    <tbody class='lines'>\n    </tbody>\n    <tfoot>\n        <tr>\n            <td colspan='3'>Total</td>\n            <td class='total_ht'></td>\n            <td class='total_tva'></td>\n            <td class='total_ttc'></td>\n",o=null!=(o=e.edit||(null!=t?t.edit:t))?o:c,s={name:"edit",hash:{},fn:this.program(5,a),inverse:this.noop,data:a},i=typeof o===u?o.call(t,s):o,e.edit||(i=d.call(t,i,s)),null!=i&&(h+=i),h+"        </tr>\n    </tfoot>\n</table>\n"},useData:!0})},function(t,e,n){var a=n(2);t.exports=(a.default||a).template({1:function(t,e,n,a){return"<td class='hidden-print'>\n<button class='btn btn-default edit'><i class='glyphicon glyphicon-pencil'></i>&nbsp;Modifier</button>\n<button class='btn btn-default delete'><i class='glyphicon glyphicon-remove-sign'></i>&nbsp;Supprimer</button>\n<button class='btn btn-default duplicate'><i class='fa fa-copy'></i>&nbsp;Dupliquer</button>\n<button class='btn btn-default bookmark'><i class='glyphicon glyphicon-star-empty'></i></button>\n</td>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,a){var i,o,s,r="function",l=e.helperMissing,u=this.escapeExpression,c=e.blockHelperMissing,d="<td>";return o=null!=(o=e.altdate||(null!=t?t.altdate:t))?o:l,i=typeof o===r?o.call(t,{name:"altdate",hash:{},data:a}):o,null!=i&&(d+=i),d+="</td>\n<td colspan='2'>"+u((o=null!=(o=e.typelabel||(null!=t?t.typelabel:t))?o:l,typeof o===r?o.call(t,{name:"typelabel",hash:{},data:a}):o))+"</td>\n<td>"+u((o=null!=(o=e.ht||(null!=t?t.ht:t))?o:l,typeof o===r?o.call(t,{name:"ht",hash:{},data:a}):o))+"</td>\n<td>"+u((o=null!=(o=e.tva||(null!=t?t.tva:t))?o:l,typeof o===r?o.call(t,{name:"tva",hash:{},data:a}):o))+"</td>\n<td>",o=null!=(o=e.total||(null!=t?t.total:t))?o:l,i=typeof o===r?o.call(t,{name:"total",hash:{},data:a}):o,null!=i&&(d+=i),d+="</td>\n",o=null!=(o=e.edit||(null!=t?t.edit:t))?o:l,s={name:"edit",hash:{},fn:this.program(1,a),inverse:this.noop,data:a},i=typeof o===r?o.call(t,s):o,e.edit||(i=c.call(t,i,s)),null!=i&&(d+=i),d},useData:!0})},function(t,e,n){var a=n(2);t.exports=(a.default||a).template({1:function(t,e,n,a){return"<td class='hidden-print'>\n<button class='btn btn-default edit'><i class='glyphicon glyphicon-pencil'></i>&nbsp;Modifier</button>\n<button class='btn btn-default delete'><i class='glyphicon glyphicon-remove-sign'></i>&nbsp;Supprimer</button>\n<button class='btn btn-default duplicate'><i class='fa fa-copy'></i>&nbsp;Dupliquer</button>\n<button class='btn btn-default bookmark'><i class='glyphicon glyphicon-star-empty'></i></button>\n</td>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,a){var i,o,s,r="function",l=e.helperMissing,u=this.escapeExpression,c=e.blockHelperMissing,d="<td>";return o=null!=(o=e.altdate||(null!=t?t.altdate:t))?o:l,i=typeof o===r?o.call(t,{name:"altdate",hash:{},data:a}):o,null!=i&&(d+=i),d+="</td>\n<td>"+u((o=null!=(o=e.typelabel||(null!=t?t.typelabel:t))?o:l,typeof o===r?o.call(t,{name:"typelabel",hash:{},data:a}):o))+"</td>\n<td>"+u((o=null!=(o=e.description||(null!=t?t.description:t))?o:l,typeof o===r?o.call(t,{name:"description",hash:{},data:a}):o))+"</td>\n<td>",o=null!=(o=e.ht_label||(null!=t?t.ht_label:t))?o:l,i=typeof o===r?o.call(t,{name:"ht_label",hash:{},data:a}):o,null!=i&&(d+=i),d+="</td>\n<td>",o=null!=(o=e.tva_label||(null!=t?t.tva_label:t))?o:l,i=typeof o===r?o.call(t,{name:"tva_label",hash:{},data:a}):o,null!=i&&(d+=i),d+="</td>\n<td>",o=null!=(o=e.total||(null!=t?t.total:t))?o:l,i=typeof o===r?o.call(t,{name:"total",hash:{},data:a}):o,null!=i&&(d+=i),d+="</td>\n",o=null!=(o=e.edit||(null!=t?t.edit:t))?o:l,s={name:"edit",hash:{},fn:this.program(1,a),inverse:this.noop,data:a},i=typeof o===r?o.call(t,s):o,e.edit||(i=c.call(t,i,s)),null!=i&&(d+=i),d},useData:!0})},function(t,e,n){var a=n(2);t.exports=(a.default||a).template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,a){return'<div class=\'row\'>\n    <div class=\'col-xs-12 col-md-9 col-print-12\'>\n        <div class=\'modalRegion\'></div>\n        <div class=\'totals\'></div>\n        <div class=\'form-section\'>\n            <div class=\'content\'>\n                <ul class="nav nav-tabs" role="tablist">\n                    <li role="presentation" class="active">\n                        <a href="#internal-container"\n                            aria-controls="internal-container"\n                            role="tab"\n                            data-toggle="tab">\n                            Frais\n                        </a>\n                    </li>\n                    <li role="presentation">\n                        <a href="#activity-container"\n                            aria-controls="activity-container"\n                            role="tab"\n                            data-toggle="tab">\n                            Achats\n                        </a>\n                    </li>\n                </ul>\n                <div class=\'tab-content content\'>\n                    <div\n                        role="tabpanel"\n                        class="tab-pane fade in active"\n                        id="internal-container">\n                        <div class=\'internal-lines\'>\n                        </div>\n                        <div class=\'internal-kmlines\'>\n                        </div>\n                        <div class=\'internal-total\'>\n                        </div>\n                    </div>\n                    <div\n                        role="tabpanel"\n                        class="tab-pane fade"\n                        id="activity-container">\n                        <div class=\'activity-lines\'>\n                        </div>\n                        <div class=\'activity-kmlines\'>\n                        </div>\n                        <div class=\'activity-total\'>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div\n        class=\'expense-desktop-actions hidden-xs hidden-sm col-md-3 hidden-print\'\n        id="rightbar"\n        >\n    </div>\n</div>\n<footer class=\'footer-actions hidden-print\'></footer>\n'},useData:!0})},function(t,e,n){var a=n(2);t.exports=(a.default||a).template({1:function(t,e,n,a){var i,o="";return i=e.each.call(t,null!=t?t.buttons:t,{name:"each",hash:{},fn:this.program(2,a),inverse:this.noop,data:a}),null!=i&&(o+=i),o+"<hr />\n"},2:function(t,e,n,a){var i=this.lambda,o=this.escapeExpression;return"    <button\n        class='btn btn-block "+o(i(null!=t?t.css:t,t))+"'\n        title=\""+o(i(null!=t?t.title:t,t))+"\"\n        data-url='"+o(i(null!=t?t.url:t,t))+"'\n        data-title='"+o(i(null!=t?t.title:t,t))+"'\n        data-label='"+o(i(null!=t?t.label:t,t))+"'\n        data-status='"+o(i(null!=t?t.status:t,t))+"'>\n    <i class='glyphicon glyphicon-"+o(i(null!=t?t.icon:t,t))+"'></i>\n    "+o(i(null!=t?t.label:t,t))+"\n    </button>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,a){var i,o="<div>\n<h3 class='text-center'>Actions</h3>\n<hr />\n";return i=e.if.call(t,null!=t?t.buttons:t,{name:"if",hash:{},fn:this.program(1,a),inverse:this.noop,data:a}),null!=i&&(o+=i),o+"<div class='child-container'></div>\n</div>\n"},useData:!0})},function(t,e,n){var a=n(2);t.exports=(a.default||a).template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,a){var i,o="function",s=e.helperMissing,r=this.escapeExpression;return'<div class="modal-dialog" role="document">\n\t<div class="modal-content">\n\t  <form class=\'form\' data-url=\''+r((i=null!=(i=e.url||(null!=t?t.url:t))?i:s,typeof i===o?i.call(t,{name:"url",hash:{},data:a}):i))+'\' method=\'POST\'>\n          <div class="modal-header">\n            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n            <h4 class="modal-title">'+r((i=null!=(i=e.title||(null!=t?t.title:t))?i:s,typeof i===o?i.call(t,{name:"title",hash:{},data:a}):i))+"</h4>\n          </div>\n          <div class=\"modal-body\">\n                <div class='form-group'>\n                    <label for='comment'>Commentaires</label>\n                    <textarea class='form-control' name='comment' rows=4></textarea>\n                </div>\n          </div>\n          <div class=\"modal-footer\">\n            <button class='btn btn-success primary-action' type='submit' name='submit' value='"+r((i=null!=(i=e.status||(null!=t?t.status:t))?i:s,typeof i===o?i.call(t,{name:"status",hash:{},data:a}):i))+"'>"+r((i=null!=(i=e.label||(null!=t?t.label:t))?i:s,typeof i===o?i.call(t,{name:"label",hash:{},data:a}):i))+"</button>\n            <button class='btn btn-default secondary-action' data-dismiss='modal'>Annuler</button>\n          </div>\n\t  </form>\n\t</div><!-- /.modal-content -->\n</div><!-- /.modal-dialog -->\n"},useData:!0})},function(t,e,n){var a=n(2);t.exports=(a.default||a).template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,a){var i,o,s="function",r=e.helperMissing,l="<div class='totals form-section'>\n    <div class=\"text-center\">Total TTC : ";return o=null!=(o=e.ttc||(null!=t?t.ttc:t))?o:r,i=typeof o===s?o.call(t,{name:"ttc",hash:{},data:a}):o,null!=i&&(l+=i),l+"</div>\n</div>\n"},useData:!0})},function(t,e,n){var a=n(2);t.exports=(a.default||a).template({compiler:[6,">= 2.0.0-beta.1"],main:function(t,e,n,a){var i,o,s="function",r=e.helperMissing,l="<div class='totals form-section'>\n    <div class=\"text-center\">Total HT : ";return o=null!=(o=e.ht||(null!=t?t.ht:t))?o:r,i=typeof o===s?o.call(t,{name:"ht",hash:{},data:a}):o,null!=i&&(l+=i),l+='</div>\n    <div class="text-center">Total TVA : ',o=null!=(o=e.tva||(null!=t?t.tva:t))?o:r,i=typeof o===s?o.call(t,{name:"tva",hash:{},data:a}):o,null!=i&&(l+=i),l+='</div>\n    <div class="text-center">Total TTC : ',o=null!=(o=e.ttc||(null!=t?t.ttc:t))?o:r,i=typeof o===s?o.call(t,{name:"ttc",hash:{},data:a}):o,null!=i&&(l+=i),l+"</div>\n</div>\n"},useData:!0})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var a,i,o;/*!
	 * jQuery UI Effects 1.12.1
	 * http://jqueryui.com
	 *
	 * Copyright jQuery Foundation and other contributors
	 * Released under the MIT license.
	 * http://jquery.org/license
	 */
!function(s){i=[n(5),n(20)],a=s,o="function"==typeof a?a.apply(e,i):a,!(void 0!==o&&(t.exports=o))}(function(t){var e="ui-effects-",n="ui-effects-style",a="ui-effects-animated",i=t;/*!
	 * jQuery Color Animations v2.1.2
	 * https://github.com/jquery/jquery-color
	 *
	 * Copyright 2014 jQuery Foundation and other contributors
	 * Released under the MIT license.
	 * http://jquery.org/license
	 *
	 * Date: Wed Jan 16 08:47:09 2013 -0600
	 */
return t.effects={effect:{}},function(t,e){function n(t,e,n){var a=d[e.type]||{};return null==t?n||!e.def?null:e.def:(t=a.floor?~~t:parseFloat(t),isNaN(t)?e.def:a.mod?(t+a.mod)%a.mod:0>t?0:a.max<t?a.max:t)}function a(e){var n=u(),a=n._rgba=[];return e=e.toLowerCase(),p(l,function(t,i){var o,s=i.re.exec(e),r=s&&i.parse(s),l=i.space||"rgba";if(r)return o=n[l](r),n[c[l].cache]=o[c[l].cache],a=n._rgba=o._rgba,!1}),a.length?("0,0,0,0"===a.join()&&t.extend(a,o.transparent),n):o[e]}function i(t,e,n){return n=(n+1)%1,6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}var o,s="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],u=t.Color=function(e,n,a,i){return new t.Color.fn.parse(e,n,a,i)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=u.support={},f=t("<p>")[0],p=t.each;f.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=f.style.backgroundColor.indexOf("rgba")>-1,p(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),u.fn=t.extend(u.prototype,{parse:function(i,s,r,l){if(i===e)return this._rgba=[null,null,null,null],this;(i.jquery||i.nodeType)&&(i=t(i).css(s),s=e);var d=this,h=t.type(i),f=this._rgba=[];return s!==e&&(i=[i,s,r,l],h="array"),"string"===h?this.parse(a(i)||o._default):"array"===h?(p(c.rgba.props,function(t,e){f[e.idx]=n(i[e.idx],e)}),this):"object"===h?(i instanceof u?p(c,function(t,e){i[e.cache]&&(d[e.cache]=i[e.cache].slice())}):p(c,function(e,a){var o=a.cache;p(a.props,function(t,e){if(!d[o]&&a.to){if("alpha"===t||null==i[t])return;d[o]=a.to(d._rgba)}d[o][e.idx]=n(i[t],e,!0)}),d[o]&&t.inArray(null,d[o].slice(0,3))<0&&(d[o][3]=1,a.from&&(d._rgba=a.from(d[o])))}),this):void 0},is:function(t){var e=u(t),n=!0,a=this;return p(c,function(t,i){var o,s=e[i.cache];return s&&(o=a[i.cache]||i.to&&i.to(a._rgba)||[],p(i.props,function(t,e){if(null!=s[e.idx])return n=s[e.idx]===o[e.idx]})),n}),n},_space:function(){var t=[],e=this;return p(c,function(n,a){e[a.cache]&&t.push(n)}),t.pop()},transition:function(t,e){var a=u(t),i=a._space(),o=c[i],s=0===this.alpha()?u("transparent"):this,r=s[o.cache]||o.to(s._rgba),l=r.slice();return a=a[o.cache],p(o.props,function(t,i){var o=i.idx,s=r[o],u=a[o],c=d[i.type]||{};null!==u&&(null===s?l[o]=u:(c.mod&&(u-s>c.mod/2?s+=c.mod:s-u>c.mod/2&&(s-=c.mod)),l[o]=n((u-s)*e+s,i)))}),this[i](l)},blend:function(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),a=n.pop(),i=u(e)._rgba;return u(t.map(n,function(t,e){return(1-a)*i[e]+a*t}))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===n[3]&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t});return 1===n[3]&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),a=n.pop();return e&&n.push(~~(255*a)),"#"+t.map(n,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),u.fn.parse.prototype=u.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,a=t[0]/255,i=t[1]/255,o=t[2]/255,s=t[3],r=Math.max(a,i,o),l=Math.min(a,i,o),u=r-l,c=r+l,d=.5*c;return e=l===r?0:a===r?60*(i-o)/u+360:i===r?60*(o-a)/u+120:60*(a-i)/u+240,n=0===u?0:d<=.5?u/c:u/(2-c),[Math.round(e)%360,n,d,null==s?1:s]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],a=t[2],o=t[3],s=a<=.5?a*(1+n):a+n-a*n,r=2*a-s;return[Math.round(255*i(r,s,e+1/3)),Math.round(255*i(r,s,e)),Math.round(255*i(r,s,e-1/3)),o]},p(c,function(a,i){var o=i.props,s=i.cache,l=i.to,c=i.from;u.fn[a]=function(a){if(l&&!this[s]&&(this[s]=l(this._rgba)),a===e)return this[s].slice();var i,r=t.type(a),d="array"===r||"object"===r?a:arguments,h=this[s].slice();return p(o,function(t,e){var a=d["object"===r?t:e.idx];null==a&&(a=h[e.idx]),h[e.idx]=n(a,e)}),c?(i=u(c(h)),i[s]=h,i):u(h)},p(o,function(e,n){u.fn[e]||(u.fn[e]=function(i){var o,s=t.type(i),l="alpha"===e?this._hsla?"hsla":"rgba":a,u=this[l](),c=u[n.idx];return"undefined"===s?c:("function"===s&&(i=i.call(this,c),s=t.type(i)),null==i&&n.empty?this:("string"===s&&(o=r.exec(i),o&&(i=c+parseFloat(o[2])*("+"===o[1]?1:-1))),u[n.idx]=i,this[l](u)))})})}),u.hook=function(e){var n=e.split(" ");p(n,function(e,n){t.cssHooks[n]={set:function(e,i){var o,s,r="";if("transparent"!==i&&("string"!==t.type(i)||(o=a(i)))){if(i=u(o||i),!h.rgba&&1!==i._rgba[3]){for(s="backgroundColor"===n?e.parentNode:e;(""===r||"transparent"===r)&&s&&s.style;)try{r=t.css(s,"backgroundColor"),s=s.parentNode}catch(t){}i=i.blend(r&&"transparent"!==r?r:"_default")}i=i.toRgbaString()}try{e.style[n]=i}catch(t){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=u(e.elem,n),e.end=u(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}})},u.hook(s),t.cssHooks.borderColor={expand:function(t){var e={};return p(["Top","Right","Bottom","Left"],function(n,a){e["border"+a+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(i),function(){function e(e){var n,a,i=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(i&&i.length&&i[0]&&i[i[0]])for(a=i.length;a--;)n=i[a],"string"==typeof i[n]&&(o[t.camelCase(n)]=i[n]);else for(n in i)"string"==typeof i[n]&&(o[n]=i[n]);return o}function n(e,n){var a,i,s={};for(a in n)i=n[a],e[a]!==i&&(o[a]||!t.fx.step[a]&&isNaN(parseFloat(i))||(s[a]=i));return s}var a=["add","remove","toggle"],o={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,n){t.fx.step[n]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(i.style(t.elem,n,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(i,o,s,r){var l=t.speed(o,s,r);return this.queue(function(){var o,s=t(this),r=s.attr("class")||"",u=l.children?s.find("*").addBack():s;u=u.map(function(){var n=t(this);return{el:n,start:e(this)}}),o=function(){t.each(a,function(t,e){i[e]&&s[e+"Class"](i[e])})},o(),u=u.map(function(){return this.end=e(this.el[0]),this.diff=n(this.start,this.end),this}),s.attr("class",r),u=u.map(function(){var e=this,n=t.Deferred(),a=t.extend({},l,{queue:!1,complete:function(){n.resolve(e)}});return this.el.animate(this.diff,a),n.promise()}),t.when.apply(t,u.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(s[0])})})},t.fn.extend({addClass:function(e){return function(n,a,i,o){return a?t.effects.animateClass.call(this,{add:n},a,i,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(n,a,i,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:n},a,i,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(n,a,i,o,s){return"boolean"==typeof a||void 0===a?i?t.effects.animateClass.call(this,a?{add:n}:{remove:n},i,o,s):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:n},a,i,o)}}(t.fn.toggleClass),switchClass:function(e,n,a,i,o){return t.effects.animateClass.call(this,{add:n,remove:e},a,i,o)}})}(),function(){function i(e,n,a,i){return t.isPlainObject(e)&&(n=e,e=e.effect),e={effect:e},null==n&&(n={}),t.isFunction(n)&&(i=n,a=null,n={}),("number"==typeof n||t.fx.speeds[n])&&(i=a,a=n,n={}),t.isFunction(a)&&(i=a,a=null),n&&t.extend(e,n),a=a||n.duration,e.duration=t.fx.off?0:"number"==typeof a?a:a in t.fx.speeds?t.fx.speeds[a]:t.fx.speeds._default,e.complete=i||n.complete,e}function o(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||"string"==typeof e&&!t.effects.effect[e]||!!t.isFunction(e)||"object"==typeof e&&!e.effect}function s(t,e){var n=e.outerWidth(),a=e.outerHeight(),i=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,o=i.exec(t)||["",0,n,a,0];return{top:parseFloat(o[1])||0,right:"auto"===o[2]?n:parseFloat(o[2]),bottom:"auto"===o[3]?a:parseFloat(o[3]),left:parseFloat(o[4])||0}}t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=function(e){return function(n){return!!t(n).data(a)||e(n)}}(t.expr.filters.animated)),t.uiBackCompat!==!1&&t.extend(t.effects,{save:function(t,n){for(var a=0,i=n.length;a<i;a++)null!==n[a]&&t.data(e+n[a],t[0].style[n[a]])},restore:function(t,n){for(var a,i=0,o=n.length;i<o;i++)null!==n[i]&&(a=t.data(e+n[i]),t.css(n[i],a))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var n={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},a=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),i={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(t){o=document.body}return e.wrap(a),(e[0]===o||t.contains(e[0],o))&&t(o).trigger("focus"),a=e.parent(),"static"===e.css("position")?(a.css({position:"relative"}),e.css({position:"relative"})):(t.extend(n,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,a){n[a]=e.css(a),isNaN(parseInt(n[a],10))&&(n[a]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(i),a.css(n).show()},removeWrapper:function(e){var n=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===n||t.contains(e[0],n))&&t(n).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.1",define:function(e,n,a){return a||(a=n,n="effect"),t.effects.effect[e]=a,t.effects.effect[e].mode=n,a},scaledDimensions:function(t,e,n){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var a="horizontal"!==n?(e||100)/100:1,i="vertical"!==n?(e||100)/100:1;return{height:t.height()*i,width:t.width()*a,outerHeight:t.outerHeight()*i,outerWidth:t.outerWidth()*a}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,n){var a=t.queue();e>1&&a.splice.apply(a,[1,0].concat(a.splice(e,n))),t.dequeue()},saveStyle:function(t){t.data(n,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(n)||"",t.removeData(n)},mode:function(t,e){var n=t.is(":hidden");return"toggle"===e&&(e=n?"show":"hide"),(n?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var n,a;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":a=0;break;case"center":a=.5;break;case"right":a=1;break;default:a=t[1]/e.width}return{x:a,y:n}},createPlaceholder:function(n){var a,i=n.css("position"),o=n.position();return n.css({marginTop:n.css("marginTop"),marginBottom:n.css("marginBottom"),marginLeft:n.css("marginLeft"),marginRight:n.css("marginRight")}).outerWidth(n.outerWidth()).outerHeight(n.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",a=t("<"+n[0].nodeName+">").insertAfter(n).css({display:/^(inline|ruby)/.test(n.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:n.css("marginTop"),marginBottom:n.css("marginBottom"),marginLeft:n.css("marginLeft"),marginRight:n.css("marginRight"),float:n.css("float")}).outerWidth(n.outerWidth()).outerHeight(n.outerHeight()).addClass("ui-effects-placeholder"),n.data(e+"placeholder",a)),n.css({position:i,left:o.left,top:o.top}),a},removePlaceholder:function(t){var n=e+"placeholder",a=t.data(n);a&&(a.remove(),t.removeData(n))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,n,a,i){return i=i||{},t.each(n,function(t,n){var o=e.cssUnit(n);o[0]>0&&(i[n]=o[0]*a+o[1])}),i}}),t.fn.extend({effect:function(){function e(e){function i(){l.removeData(a),t.effects.cleanUp(l),"hide"===n.mode&&l.hide(),r()}function r(){t.isFunction(u)&&u.call(l[0]),t.isFunction(e)&&e()}var l=t(this);n.mode=d.shift(),t.uiBackCompat===!1||s?"none"===n.mode?(l[c](),r()):o.call(l[0],n,i):(l.is(":hidden")?"hide"===c:"show"===c)?(l[c](),r()):o.call(l[0],n,r)}var n=i.apply(this,arguments),o=t.effects.effect[n.effect],s=o.mode,r=n.queue,l=r||"fx",u=n.complete,c=n.mode,d=[],h=function(e){var n=t(this),i=t.effects.mode(n,c)||s;n.data(a,!0),d.push(i),s&&("show"===i||i===s&&"hide"===i)&&n.show(),s&&"none"===i||t.effects.saveStyle(n),t.isFunction(e)&&e()};return t.fx.off||!o?c?this[c](n.duration,u):this.each(function(){u&&u.call(this)}):r===!1?this.each(h).each(e):this.queue(l,h).queue(l,e)},show:function(t){return function(e){if(o(e))return t.apply(this,arguments);var n=i.apply(this,arguments);return n.mode="show",this.effect.call(this,n)}}(t.fn.show),hide:function(t){return function(e){if(o(e))return t.apply(this,arguments);var n=i.apply(this,arguments);return n.mode="hide",this.effect.call(this,n)}}(t.fn.hide),toggle:function(t){return function(e){if(o(e)||"boolean"==typeof e)return t.apply(this,arguments);var n=i.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)}}(t.fn.toggle),cssUnit:function(e){var n=this.css(e),a=[];return t.each(["em","px","%","pt"],function(t,e){n.indexOf(e)>0&&(a=[parseFloat(n),e])}),a},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):s(this.css("clip"),this)},transfer:function(e,n){var a=t(this),i=t(e.to),o="fixed"===i.css("position"),s=t("body"),r=o?s.scrollTop():0,l=o?s.scrollLeft():0,u=i.offset(),c={top:u.top-r,left:u.left-l,height:i.innerHeight(),width:i.innerWidth()},d=a.offset(),h=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:d.top-r,left:d.left-l,height:a.innerHeight(),width:a.innerWidth(),position:o?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){h.remove(),t.isFunction(n)&&n()})}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=s(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,n){e[n]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,n){t.easing["easeIn"+e]=n,t.easing["easeOut"+e]=function(t){return 1-n(1-t)},t.easing["easeInOut"+e]=function(t){return t<.5?n(2*t)/2:1-n(t*-2+2)/2}})}(),t.effects})},function(t,e,n){var a,i,o;/*!
	 * jQuery UI Effects Highlight 1.12.1
	 * http://jqueryui.com
	 *
	 * Copyright jQuery Foundation and other contributors
	 * Released under the MIT license.
	 * http://jquery.org/license
	 */
!function(s){i=[n(5),n(20),n(200)],a=s,o="function"==typeof a?a.apply(e,i):a,!(void 0!==o&&(t.exports=o))}(function(t){return t.effects.define("highlight","show",function(e,n){var a=t(this),i={backgroundColor:a.css("backgroundColor")};"hide"===e.mode&&(i.opacity=0),t.effects.saveStyle(a),a.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(i,{queue:!1,duration:e.duration,easing:e.easing,complete:n})})})}]);