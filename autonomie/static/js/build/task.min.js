webpackJsonp([1],[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var a=n(5),s=i(a),o=n(36);i(o),n(46);var l=n(3),r=(i(l),n(8)),d=i(r),u=n(1),c=(i(u),n(51)),h=i(c),f=n(11),p=i(f),m=n(14),v=n(94),g=i(v),_=n(92),b=i(_),y=n(6);(0,y.setupAjaxCallbacks)(),h.default.on("start",function(e,t){console.log("  => Starting the app"),AppOption.form_config=t.form_config,(0,m.setupBbValidationCallbacks)(p.default.callbacks),(0,m.setupBbValidationPatterns)(p.default);var n=new b.default(t);new g.default({controller:n}),d.default.history.start(),(0,y.hideLoader)()}),(0,s.default)(function(){console.log("# Retrieving datas from the server"),console.log(AppOption.form_config_url);var e=(0,y.ajax_call)(AppOption.form_config_url);console.log(AppOption.context_url);var t=(0,y.ajax_call)(AppOption.context_url);s.default.when(e,t).done(function(e,t){console.log("  => Datas retrieved"),h.default.start({form_config:e[0],form_datas:t[0]})})})},,function(e,t,n){e.exports=n(42)},,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.hideLoader=t.showLoader=t.setupAjaxCallbacks=t.serializeForm=t.getOpt=t.findCurrentSelected=t.getDefaultItem=t.updateSelectOptions=t.ajax_call=t.setDatePicker=void 0;var a=n(3),s=i(a),o=n(5),l=i(o),r=n(10);n(5);var d=(n(45),t.setDatePicker=function(e,t,n,i){var a={altFormat:"yy-mm-dd",dateFormat:"dd/mm/yy",altField:t};s.default.extend(a,i),e.datepicker(a),null===n||s.default.isUndefined(n)?s.default.isUndefined(a.default_value)||(n=(0,r.parseDate)(a.default_value),e.datepicker("setDate",n)):(n=(0,r.parseDate)(n),e.datepicker("setDate",n))},t.ajax_call=function(e,t,n,i){var t=t||{},n=n||"GET",a={url:e,data:t,method:n,dataType:"json",cache:!1};return"POST"==n&&(a.data=JSON.stringify(t),a.contentType="application/json; charset=UTF-8",a.processData=!1),s.default.extend(a,i),l.default.ajax(a)},t.updateSelectOptions=function(e,t,n){s.default.isArray(t)||(t=[t]),s.default.isUndefined(n)&&(n="value");var i=!1;if(s.default.each(e,function(e){delete e.selected,s.default.contains(t,e[n])&&(e.selected="true",i=!0)}),!i){var a=d(e);s.default.isUndefined(a)||(a.selected=!0,i=!0)}return i},t.getDefaultItem=function(e){var t=s.default.find(e,function(e){return 1==e.default});return t});t.findCurrentSelected=function(e,t,n){return s.default.find(e,function(e){return e[n]==t})},t.getOpt=function(e,t,n){var i=e.getOption(t);return s.default.isUndefined(i)&&(i=n),i},t.serializeForm=function(e){var t={},n=e.serializeArray();return l.default.each(n,function(){t[this.name]?(t[this.name].push||(t[this.name]=[t[this.name]]),t[this.name].push(this.value||"")):t[this.name]=this.value||""}),t},t.setupAjaxCallbacks=function(){(0,l.default)(document).ajaxComplete(function(e,t,n){if(401==t.status)window.location.replace("#login");else{var i=t.responseJSON;!s.default.isUndefined(i)&&i.redirect&&(window.location.href=i.redirect)}})},t.showLoader=function(){(0,l.default)("#loading-box").show()},t.hideLoader=function(){(0,l.default)("#loading-box").hide()}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(){if("EPSILON"in Number)return Number.EPSILON;var e=1;do e/=2;while(1+e/2!=1);return e}function s(e){if(l.default.isUndefined(e.toPrecision))return e;var t=a(),n=e.toPrecision(6)-e;return n*=n,0===n?e:n<t?e.toPrecision(6):e}Object.defineProperty(t,"__esModule",{value:!0}),t.getPercent=t.getTvaPart=t.trailingZeros=t.formatAmount=t.isNotFormattable=t.formatPrice=t.round=t.strToFloat=void 0;var o=n(3),l=i(o),r=(t.strToFloat=function(e){var t;return l.default.isNumber(e)?e:((l.default.isUndefined(e)||l.default.isNull(e))&&(e="0.00"),e=e.replace(",","."),t=parseFloat(e),isNaN(t)?0:t)},t.round=function(e){var t=100*e;return t=Math.round(t),t/100}),d=t.formatPrice=function(e,t){e=s(e);var n,i,a,o;return t&&(e=r(e)),i=String(e).split("."),void 0!=i[1]?(a=i[1],a.length>4&&(n=!0),a=a.substr(0,4),a=c(a,t)):a="00",o=i[0]+","+a,n&&(o+="..."),o},u=t.isNotFormattable=function(e){var t=" "+e;return t.indexOf("€")>=0||t.indexOf("&nbsp;&euro;")>=0},c=(t.formatAmount=function(e,t){return void 0===t&&(t=!0),u(e)?e:d(e,t)+"&nbsp;&euro;"},t.trailingZeros=function(e,t){1===e.length&&(e+=0);var n;if(!t)for(n=e.substr(e.length-1);e.length>2&&"0"==n;)e=e.substr(0,e.length-1),n=e.substr(e.length-1);return e});t.getTvaPart=function(e,t){return e*t/100},t.getPercent=function(e,t){return r(e*t/100)}},,function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(11),l=i(o),r=n(6),d=n(25),u=i(d),c=n(4),h=i(c),f=s.default.Behavior.extend({behaviors:[u.default],ui:{form:"form",submit:"button[type=submit]",reset:"button[type=reset]"},events:{"submit @ui.form":"onSubmitForm","click @ui.reset":"onCancelClick"},defaults:{errorMessage:"Une erreur est survenue"},serializeForm:function(){return(0,r.serializeForm)(this.getUI("form"))},onSyncError:function(e,t,n){var i=h.default.channel("message");i.trigger("error:backbone",n),l.default.unbind(this.view)},onSyncSuccess:function(e,t,n){var i=h.default.channel("message");i.trigger("success:backbone",n),l.default.unbind(this.view),console.log("Trigger success:sync from FormBehavior"),this.view.triggerMethod("success:sync")},syncServer:function(t,n){var n=n||!1,t=t||this.view.model.toJSON();if(n||l.default.bind(this.view,{attributes:function(n){return e.keys(t)}}),this.view.model.isValid(e.keys(t))){var i=void 0;i=this.view.model.get("id")?this.editSubmit(t):this.addSubmit(t),console.log(i),i.done(this.onSyncSuccess.bind(this)).fail(this.onSyncError.bind(this))}},addSubmit:function(e){console.log("FormBehavior.addSubmit");var t=this.view.getOption("destCollection"),n=t._prepareModel(e),i=n.save(null,{wait:!0,sort:!0});return i=i.done(function(e,n,i){return t.add(e,i),n})},editSubmit:function(e){return console.log("FormBehavior.editSubmit"),this.view.model.save(e,{wait:!0,patch:!0})},onSubmitForm:function(e){console.log("FormBehavior.onSubmitForm"),e.preventDefault();var t=this.serializeForm();this.view.model.set(t,{validate:!0}),this.syncServer(t)},onDataPersisted:function(e){console.log("FormBehavior.onDataPersisted"),this.syncServer(e,!0)},onCancelClick:function(){console.log("FormBehavior.onCancelClick"),console.log("Trigger reset:model from FormBehavior"),this.view.triggerMethod("reset:model"),console.log("Trigger cancel:form from FormBehavior"),this.view.triggerMethod("cancel:form")},onResetModel:function(){console.log("FormBehavior.onResetModel"),this.view.model.rollback()}});t.default=f}).call(t,n(3))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(t.getOneMonthAgo=function(){var e=new Date,t=e.getUTCFullYear(),n=e.getUTCMonth()-1,i=e.getUTCDate();return new Date(t,n,i)},t.parseDate=function(e){var t=e.split("-"),n=parseInt(t[0],10),i=parseInt(t[1],10)-1,a=parseInt(t[2],10);return new Date(n,i,a)}),i=(t.getDateFromIso=n,t.formatPaymentDate=function(e){if(""!==e&&null!==e){var t=n(e);return a(t)}return""}),a=(t.formatDate=i,t.dateToIso=function(e){var t=e.getFullYear(),n=e.getMonth()+1,i=e.getDate();return i<10&&(i="0"+i),n<10&&(n="0"+n),t+"-"+n+"-"+i},t.dateToLocaleFormat=function(e){var t=e.getFullYear(),n=e.getMonth()+1,i=e.getDate();return i<10&&(i="0"+i),n<10&&(n="0"+n),i+"-"+n+"-"+t})},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(6),l=s.default.View.extend({tagName:"div",className:"form-group",template:n(39),ui:{input:"input"},events:{"keyup @ui.input":"onKeyUp","blur @ui.input":"onBlur"},onKeyUp:function(){this.triggerMethod("change",this.getOption("field_name"),this.getUI("input").val())},onBlur:function(){this.triggerMethod("finish",this.getOption("field_name"),this.getUI("input").val())},templateContext:function(){return{value:this.getOption("value"),title:(0,o.getOpt)(this,"title",""),field_name:this.getOption("field_name"),description:(0,o.getOpt)(this,"description",!1),type:(0,o.getOpt)(this,"type","text"),addon:(0,o.getOpt)(this,"addon",""),css_class:(0,o.getOpt)(this,"css","")}}});t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(6),l=n(57),r=i(l),d=n(203),u=s.default.View.extend({tagName:"div",className:"form-group",template:d,ui:{textarea:"textarea"},events:{"keyup @ui.textarea":"onKeyUp","blur @ui.textarea":"onBlur"},onKeyUp:function(){this.triggerMethod("change",this.getOption("field_name"),this.getUI("textarea").val())},onBlur:function(){this.triggerMethod("finish",this.getOption("field_name"),this.getUI("textarea").val())},getTagId:function(){var e=(0,o.getOpt)(this,"cid","");if(""===e)return!1;var t=this.getOption("field_name");return t+"-"+e},templateContext:function(){return{title:this.getOption("title"),description:this.getOption("description"),field_name:this.getOption("field_name"),value:(0,o.getOpt)(this,"value",""),rows:(0,o.getOpt)(this,"rows",3),editable:(0,o.getOpt)(this,"editable",!0),tagId:this.getTagId(),placeholder:(0,o.getOpt)(this,"placeholder",!1)}},onAttach:function(){var e=(0,o.getOpt)(this,"tinymce",!1);if(e){var t=this.onBlur.bind(this),n=this.onKeyUp.bind(this);(0,r.default)({selector:"#"+this.getTagId(),init_instance_callback:function(e){e.on("blur",t),e.on("keyup",n),e.on("change",function(){tinymce.triggerSave()})}})}}});t.default=u},function(e,t,n){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){var n=e.parents(".form-group");n.addClass("has-error"),0===n.find(".help-block").length&&n.append('<span class="help-block error-message"></span>');var i=n.find(".help-block");return i.text(t)},i=function(e){var t=e.parents(".form-group");return t.removeClass("has-error"),t.find(".error-message").remove(),e},a=t.BootstrapOnValidForm=function(e,t,n){var a;a=e.$("["+n+"="+t+"]"),i(a)},s=t.BootstrapOnInvalidForm=function(e,t,i,a){var s;s=e.$("["+a+"="+t+"]"),n(s,i)},o=(t.setupBbValidationCallbacks=function(t){e.extend(t,{valid:a,invalid:s})},function(e){});t.displayServerError=function(e){o({msg:e,error:!0})},t.displayServerSuccess=function(e){o({msg:e})},t.setupBbValidationPatterns=function(t){e.extend(t.patterns,{amount:/^-?(\d+(?:[\.\,]\d{1,5})?)$/,amount2:/^-?(\d+(?:[\.\,]\d{1,2})?)$/}),e.extend(t.messages,{amount:"Doit être un nombre avec au maximum 5 chiffres après la virgule",amount2:"Doit être un nombre avec au maximum 2 chiffres après la virgule"})}}).call(t,n(3))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=s.default.Behavior.extend({defaults:{modalClasses:"",modalOptions:{keyboard:"false",backdrop:"static"}},ui:{close:".close"},events:{"hidden.bs.modal":"triggerFinish","click @ui.close":"onClose"},onRender:function(){this.view.$el.addClass("modal "+this.getOption("modalClasses"))},onAttach:function(){this.view.$el.modal(this.getOption("modalOptions")||{})},onClose:function(){console.log("Trigger modal:beforeClose from ModalBehavior"),this.view.triggerMethod("modal:beforeClose"),console.log("Trigger modal:close from ModalBehavior"),this.view.triggerMethod("modal:close")},onModalClose:function(){console.log("ModalBehavior.onModalClose"),this.view.$el.modal("hide")},triggerFinish:function(){console.log("Trigger destroy:modal from ModalBehavior"),this.view.triggerMethod("destroy:modal")}});t.default=o},function(e,t,n){"use strict";function i(e,t){this.helpers=e||{},this.partials=t||{},a(this)}function a(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new o("Missing helper: '"+arguments[arguments.length-1].name+"'")}),e.registerHelper("blockHelperMissing",function(t,n){var i=n.inverse,a=n.fn;if(t===!0)return a(this);if(t===!1||null==t)return i(this);if(u(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):i(this);if(n.data&&n.ids){var o=v(n.data);o.contextPath=s.appendContextPath(n.data.contextPath,n.name),n={data:o}}return a(t,n)}),e.registerHelper("each",function(e,t){if(!t)throw new o("Must pass iterator to #each");var n,i,a=t.fn,l=t.inverse,r=0,d="";if(t.data&&t.ids&&(i=s.appendContextPath(t.data.contextPath,t.ids[0])+"."),c(e)&&(e=e.call(this)),t.data&&(n=v(t.data)),e&&"object"==typeof e)if(u(e))for(var h=e.length;r<h;r++)n&&(n.index=r,n.first=0===r,n.last=r===e.length-1,i&&(n.contextPath=i+r)),d+=a(e[r],{data:n});else for(var f in e)e.hasOwnProperty(f)&&(n&&(n.key=f,n.index=r,n.first=0===r,i&&(n.contextPath=i+f)),d+=a(e[f],{data:n}),r++);return 0===r&&(d=l(this)),d}),e.registerHelper("if",function(e,t){return c(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||s.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers.if.call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),e.registerHelper("with",function(e,t){c(e)&&(e=e.call(this));var n=t.fn;if(s.isEmpty(e))return t.inverse(this);if(t.data&&t.ids){var i=v(t.data);i.contextPath=s.appendContextPath(t.data.contextPath,t.ids[0]),t={data:i}}return n(e,t)}),e.registerHelper("log",function(t,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;e.log(i,t)}),e.registerHelper("lookup",function(e,t){return e&&e[t]})}var s=n(19),o=n(18).default,l="2.0.0";t.VERSION=l;var r=6;t.COMPILER_REVISION=r;var d={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};t.REVISION_CHANGES=d;var u=s.isArray,c=s.isFunction,h=s.toString,f="[object Object]";t.HandlebarsEnvironment=i,i.prototype={constructor:i,logger:p,log:m,registerHelper:function(e,t){if(h.call(e)===f){if(t)throw new o("Arg not supported with multiple helpers");s.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){h.call(e)===f?s.extend(this.partials,e):this.partials[e]=t},unregisterPartial:function(e){delete this.partials[e]}};var p={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(e,t){if(p.level<=e){var n=p.methodMap[e];"undefined"!=typeof console&&console[n]&&console[n].call(console,t)}}};t.logger=p;var m=p.log;t.log=m;var v=function(e){var t=s.extend({},e);return t._parent=e,t};t.createFrame=v},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),s=i(a),o=n(1),l=i(o),r=n(6),d=n(40),u=l.default.View.extend({tagName:"div",className:"form-group",template:d,ui:{select:"select"},events:{"change @ui.select":"onChange"},onChange:function(e){this.triggerMethod("finish",this.getOption("field_name"),this.getUI("select").val())},hasVoid:function(e){return!s.default.isUndefined(s.default.find(e,function(e){return""==e.label}))},templateContext:function(){var e=(0,r.getOpt)(this,"id_key","value"),t=this.getOption("options"),n=this.getOption("value"),i=(0,r.getOpt)(this,"add_default",!1),a=(0,r.updateSelectOptions)(t,n,e);if(!a&&i&&!this.hasVoid(t)){var s={};s.value="",s.label="",t.unshift(s)}var o=this.getOption("title"),l=this.getOption("field_name"),d=(0,r.getOpt)(this,"multiple",!1);return{options:t,title:o,field_name:l,id_key:e,multiple:d}}});t.default=u},function(e,t){"use strict";function n(e,t){var n;t&&t.firstLine&&(n=t.firstLine,e+=" - "+n+":"+t.firstColumn);for(var a=Error.prototype.constructor.call(this,e),s=0;s<i.length;s++)this[i[s]]=a[i[s]];n&&(this.lineNumber=n,this.column=t.firstColumn)}var i=["description","fileName","lineNumber","message","name","number","stack"];n.prototype=new Error,t.default=n},function(e,t,n){"use strict";function i(e){return d[e]}function a(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}function s(e){return e instanceof r?e.toString():null==e?"":e?(e=""+e,c.test(e)?e.replace(u,i):e):e+""}function o(e){return!e&&0!==e||!(!p(e)||0!==e.length)}function l(e,t){return(e?e+".":"")+t}var r=n(24).default,d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},u=/[&<>"'`]/g,c=/[&<>"'`]/;t.extend=a;var h=Object.prototype.toString;t.toString=h;var f=function(e){return"function"==typeof e};f(/x/)&&(f=function(e){return"function"==typeof e&&"[object Function]"===h.call(e)});var f;t.isFunction=f;var p=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===h.call(e)};t.isArray=p,t.escapeExpression=s,t.isEmpty=o,t.appendContextPath=l},function(e,t,n){var i,a,s;!function(o){a=[n(5)],i=o,s="function"==typeof i?i.apply(t,a):i,!(void 0!==s&&(e.exports=s))}(function(e){return e.ui=e.ui||{},e.ui.version="1.12.1"})},function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),s=(i(a),n(1)),o=i(s),l=n(6),r=n(10),d=n(38),u=o.default.View.extend({template:d,ui:{altdate:"input[name=altdate]"},onDateSelect:function(){var t=e(this.getSelector()).val();this.triggerMethod("finish",this.getOption("field_name"),t)},getSelector:function(){return"input[name="+(0,l.getOpt)(this,"field_name","date")+"]"},onAttach:function(){if((0,l.getOpt)(this,"editable",!0)){var e=(0,r.dateToIso)(new Date),t={onSelect:this.onDateSelect.bind(this),default_value:(0,l.getOpt)(this,"default_value",e)};(0,l.getOpt)(this,"current_year",!1)&&(t.changeYear=!1,t.yearRange="-0:+0");var n=this.getOption("date"),i=this.getSelector();(0,l.setDatePicker)(this.getUI("altdate"),i,n,t)}},templateContext:function(){var e={editable:(0,l.getOpt)(this,"editable",!0),title:(0,l.getOpt)(this,"title","Date"),description:(0,l.getOpt)(this,"description",""),field_name:(0,l.getOpt)(this,"field_name","date")};return(0,l.getOpt)(this,"editable",!0)||(e.date=(0,r.formatDate)(this.getOption("date"))),e}});t.default=u}).call(t,n(5))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=(n(14),n(15)),l=i(o),r=n(9),d=i(r),u=s.default.Behavior.extend({behaviors:[l.default,d.default],onSuccessSync:function(){console.log("ModalFormBehavior.onSuccessSync"),console.log("Trigger modal:close from ModalFormBehavior"),this.view.triggerMethod("modal:close")},onModalBeforeClose:function(){console.log("Trigger reset:model from ModalFormBehavior"),this.view.triggerMethod("reset:model")},onCancelForm:function(){console.log("ModalFormBehavior.onCancelForm"),console.log("Trigger modal:close from ModalFormBehavior"),this.view.triggerMethod("modal:close")},onModalClose:function(){console.log("ModalFormBehavior.onModalClose")}});t.default=u},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),s=i(a),o=n(8),l=i(o),r=l.default.Model.extend({props:null,constructor:function(){s.default.isNull(this.props)||(arguments[0]=s.default.pick(arguments[0],this.props),arguments[0]=s.default.omit(arguments[0],function(e){return s.default.isNull(e)||s.default.isUndefined(e)})),l.default.Model.apply(this,arguments)},toJSON:function(e){var t=s.default.clone(this.attributes);return s.default.isNull(this.props)||(t=s.default.pick(t,this.props),t=s.default.omit(t,function(e){return s.default.isNull(e)||s.default.isUndefined(e)})),t},rollback:function(){this.get("id")&&this.fetch()}});t.default=r},function(e,t){"use strict";function n(e){this.string=e}n.prototype.toString=function(){return""+this.string},t.default=n},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(11),l=i(o),r=s.default.Behavior.extend({onDataPersist:function(e,t){console.log("BaseFormBehavior.onDataPersist"),l.default.unbind(this.view),l.default.bind(this.view,{attributes:function(t){return[e]}});var n={};n[e]=t,this.view.model.set(n),this.view.triggerMethod("data:persisted",n)},onDataModified:function(e,t){l.default.unbind(this.view),l.default.bind(this.view,{attributes:function(t){return[e]}});var n={};n[e]=t,this.view.model.set(n),this.view.model.isValid()}});t.default=r},function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(6),l=s.default.Object.extend({channelName:"auth",url:"/api/v1/login",radioEvents:{login:"onLogin"},initialize:function(){this.ok_callback=null,this.error_callback=null},setAuthCallbacks:function(e){this.callbacks=e},onLogin:function(e,t,n){this.callbacks,this.ok_callback=t,this.error_callback=n,(0,o.ajax_call)(this.url,e,"POST",{success:this.onAuthSuccess.bind(this),error:this.onAuthError.bind(this)})},onAuthSuccess:function(t){"success"==t.status?(e.each(this.callbacks,function(e){e()}),this.ok_callback(t)):this.error_callback(t)},onAuthError:function(t){400==t.status?e.has(t.responseJSON,"errors")?this.error_callback(t.responseJSON.errors):this.error_callback():alert("Erreur serveur : contactez votre administrateur")}}),r=new l;t.default=r}).call(t,n(3))},function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(4),l=(i(o),s.default.Object.extend({channelName:"config",radioRequests:{"get:options":"getFormOptions","has:form_section":"hasFormSection","get:form_section":"getFormSection","get:form_actions":"getFormActions"},setFormConfig:function(e){this.form_config=e},getFormOptions:function(e){return this.form_config.options[e]},hasFormSection:function(t){return e.has(this.form_config.sections,t)},getFormSection:function(e){return this.form_config.sections[e]},getFormActions:function(){return this.form_config.actions}})),r=new l;t.default=r}).call(t,n(3))},function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(4),l=(i(o),s.default.Object.extend({channelName:"message",radioEvents:{success:"logSuccess",error:"logError","error:ajax":"onAjaxError","success:ajax":"onAjaxSuccess","error:backbone":"onAjaxError","success:backbone":"onAjaxSuccess"},logSuccess:function(e,t){console.log("MessageBus : "+t),this.getChannel().request("notify:success",t)},logError:function(e,t){console.error("MessageBus : "+t),this.getChannel().request("notify:error",t)},extractJsonMessage:function(t){var n=t.responseJSON,i=null;return e.isUndefined(n)?403==t.status?i="Opération non permise":501==t.status&&(i="Une erreur inconnue est survenue, contactez votre administrateur"):e.isUndefined(n.message)?e.isUndefined(n.messages)?e.isUndefined(n.errors)?e.isUndefined(n.error)?"success"==n.status?i="Opération réussie":200==t.status&&(i="Opération réussie"):i=n.error:i=n.errors.join("<br />"):i=n.messages.join("<br />"):i=n.message,i},onAjaxError:function(t){var n=this.extractJsonMessage(t);e.isNull(n)||this.getChannel().request("notify:error",n)},onAjaxSuccess:function(e){}})),r=new l;t.default=r}).call(t,n(3))},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=(i(a),n(7)),o=n(23),l=i(o),r=l.default.extend({props:["id","amount","tva","ht","description"],validation:{description:{required:!0,msg:"Remise : Veuillez saisir un objet"},amount:{required:!0,pattern:"amount",msg:"Remise : Veuillez saisir un coup unitaire, dans la limite de 5 chiffres après la virgule"},tva:{required:!0,pattern:"number",msg:"Remise : Veuillez sélectionner une TVA"}},ht:function(){return-1*(0,s.strToFloat)(this.get("amount"))},tva_value:function(){var e=this.get("tva");return e<0&&(e=0),e},tva:function(){return(0,s.getTvaPart)(this.ht(),this.tva_value())},ttc:function(){return this.ht()+this.tva()}});t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),s=i(a),o=n(8),l=i(o),r=l.default.Collection.extend({comparator:"order",initialize:function(e){this.on("change:reorder",this.updateModelOrder),this.updateModelOrder(!1)},updateModelOrder:function(e){s.default.isUndefined(e)&&(e=!0),this.each(function(t,n){t.set("order",n),e&&t.save({order:n},{patch:!0})})},getMinOrder:function(){if(0==this.models.length)return 0;var e=s.default.min(this.models,function(e){return e.get("order")});return e.get("order")},getMaxOrder:function(){if(0==this.models.length)return 0;var e=s.default.max(this.models,function(e){return e.get("order")});return e.get("order")},moveUp:function(e){var t=this.indexOf(e);t>0&&(this.models.splice(t-1,0,this.models.splice(t,1)[0]),this.trigger("change:reorder"))},moveDown:function(e){var t=this.indexOf(e);t<this.models.length&&(this.models.splice(t+1,0,this.models.splice(t,1)[0]),this.trigger("change:reorder"))}});t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=s.default.View.extend({tagName:"div",className:"alert alert-danger",template:n(178),initialize:function(){this.errors=this.getOption("errors")},templateContext:function(){return{errors:this.errors}}});t.default=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=(n(6),n(7)),l=s.default.View.extend({tagName:"div",template:n(37),ui:{anchor:"a"},events:{"click @ui.anchor":"onClick"},onClick:function(){console.log("Clicked"),console.log(this.model);var e=this.model.get("option");if(e.popup){var t=screen.width,n=screen.height,i=(0,o.getPercent)(t,60),a=(0,o.getPercent)(n,60),s=e.url,l=e.title;window.open(s+"?popup=true",l,"width="+i+",height="+a)}}});t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(6),l=s.default.View.extend({tagName:"div",template:n(201),templateContext:function(){var e=this.getOption("values"),t=(0,o.getOpt)(this,"label","");return Array.isArray(e)||(e=[{label:t,value:e}]),{values:e}}});t.default=l},function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(6),l=n(41),r=s.default.View.extend({template:l,ui:{buttons:".btn"},events:{"click @ui.buttons":"onClick"},onClick:function(t){var n=this.model.get("options").url,i=e(t.target).find("input").val();(0,o.ajax_call)(n,{submit:i},"POST",{success:this.refresh})},refresh:function(){window.location.reload()},templateContext:function(){var e=this.model.get("options").buttons,t=this.model.get("options").current_value;return(0,o.updateSelectOptions)(e,t,"status"),console.log(e),console.log(t),{name:this.model.get("options").name,buttons:e}}});t.default=r}).call(t,n(5))},,function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i){return"#"},3:function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return o(s(null!=(a=null!=e?e.option:e)?a.url:a,e))},5:function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return'onclick="'+o(s(null!=(a=null!=e?e.option:e)?a.onclick:a,e))+'"'},7:function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression;return" "+o(s(null!=(a=null!=e?e.option:e)?a.attrs:a,e))},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,s=this.lambda,o=this.escapeExpression,l="<a\n    class='"+o(s(null!=(a=null!=e?e.option:e)?a.css:a,e))+" btn-block'\n    href='";return a=t.if.call(e,null!=(a=null!=e?e.option:e)?a.popup:a,{name:"if",hash:{},fn:this.program(1,i),inverse:this.program(3,i),data:i}),null!=a&&(l+=a),l+="'\n    title=\""+o(s(null!=(a=null!=e?e.option:e)?a.title:a,e))+'"\n    ',a=t.if.call(e,null!=(a=null!=e?e.option:e)?a.onclick:a,{name:"if",hash:{},fn:this.program(5,i),inverse:this.noop,data:i}),null!=a&&(l+=a),l+="\n    ",a=t.if.call(e,null!=(a=null!=e?e.option:e)?a.attrs:a,{name:"if",hash:{},fn:this.program(7,i),inverse:this.noop,data:i}),null!=a&&(l+=a),l+">\n    <i class='"+o(s(null!=(a=null!=e?e.option:e)?a.icon:a,e))+"'></i> "+o(s(null!=(a=null!=e?e.option:e)?a.label:a,e))+"\n</a>\n"},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i){var a,s,o="function",l=t.helperMissing,r=this.escapeExpression,d="    <div class='form-group date'>\n        <label for='altdate'>"+r((s=null!=(s=t.title||(null!=e?e.title:e))?s:l,typeof s===o?s.call(e,{name:"title",hash:{},data:i}):s))+'</label>\n        <input class="form-control" name="altdate" type="text" autocomplete="off" />\n        <input class="form-control" name="'+r((s=null!=(s=t.field_name||(null!=e?e.field_name:e))?s:l,typeof s===o?s.call(e,{name:"field_name",hash:{},data:i}):s))+'" type="hidden" />\n';return a=t.if.call(e,null!=e?e.description:e,{name:"if",hash:{},fn:this.program(2,i),inverse:this.noop,data:i}),null!=a&&(d+=a),d+"    </div>\n"},2:function(e,t,n,i){var a,s="function",o=t.helperMissing,l=this.escapeExpression;return"        <span class='help-block'>"+l((a=null!=(a=t.description||(null!=e?e.description:e))?a:o,typeof a===s?a.call(e,{name:"description",hash:{},data:i}):a))+"</span>\n"},4:function(e,t,n,i){var a,s="function",o=t.helperMissing,l=this.escapeExpression;return"    <div class='form-group date'>\n        <label>Date</label>\n        <div class='form-control'>\n            "+l((a=null!=(a=t.date||(null!=e?e.date:e))?a:o,typeof a===s?a.call(e,{name:"date",hash:{},data:i}):a))+"\n        </div>\n    </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,s="";return a=t.if.call(e,null!=e?e.editable:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.program(4,i),data:i}),null!=a&&(s+=a),s},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i){var a,s="function",o=t.helperMissing,l=this.escapeExpression;return"<label for="+l((a=null!=(a=t.field_name||(null!=e?e.field_name:e))?a:o,typeof a===s?a.call(e,{name:"field_name",hash:{},data:i}):a))+">"+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:o,typeof a===s?a.call(e,{name:"title",hash:{},data:i}):a))+"</label>"},3:function(e,t,n,i){return"<div class='input-group'>"},5:function(e,t,n,i){var a,s,o="function",l=t.helperMissing,r='<div class="input-group-addon">';return s=null!=(s=t.addon||(null!=e?e.addon:e))?s:l,a=typeof s===o?s.call(e,{name:"addon",hash:{},data:i}):s,null!=a&&(r+=a),r+"</div>"},7:function(e,t,n,i){return"</div>"},9:function(e,t,n,i){var a,s="function",o=t.helperMissing,l=this.escapeExpression;return"<span class='help-block'><small>"+l((a=null!=(a=t.description||(null!=e?e.description:e))?a:o,typeof a===s?a.call(e,{name:"description",hash:{},data:i}):a))+"</small></span>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,s,o="function",l=t.helperMissing,r=this.escapeExpression,d="";return a=t.if.call(e,null!=e?e.title:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop,data:i}),null!=a&&(d+=a),d+="\n",a=t.if.call(e,null!=e?e.addon:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.noop,data:i}),null!=a&&(d+=a),d+="<input class='form-control "+r((s=null!=(s=t.css_class||(null!=e?e.css_class:e))?s:l,typeof s===o?s.call(e,{name:"css_class",hash:{},data:i}):s))+"' type='"+r((s=null!=(s=t.type||(null!=e?e.type:e))?s:l,typeof s===o?s.call(e,{name:"type",hash:{},data:i}):s))+"' value='"+r((s=null!=(s=t.value||(null!=e?e.value:e))?s:l,typeof s===o?s.call(e,{name:"value",hash:{},data:i}):s))+"' name=\""+r((s=null!=(s=t.field_name||(null!=e?e.field_name:e))?s:l,typeof s===o?s.call(e,{name:"field_name",hash:{},data:i}):s))+'"></input>',a=t.if.call(e,null!=e?e.addon:e,{name:"if",hash:{},fn:this.program(5,i),inverse:this.noop,data:i}),null!=a&&(d+=a),a=t.if.call(e,null!=e?e.addon:e,{name:"if",hash:{},fn:this.program(7,i),inverse:this.noop,data:i
}),null!=a&&(d+=a),d+="\n",a=t.if.call(e,null!=e?e.description:e,{name:"if",hash:{},fn:this.program(9,i),inverse:this.noop,data:i}),null!=a&&(d+=a),d},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i){var a,s="function",o=t.helperMissing,l=this.escapeExpression;return"<label for='"+l((a=null!=(a=t.field_name||(null!=e?e.field_name:e))?a:o,typeof a===s?a.call(e,{name:"field_name",hash:{},data:i}):a))+"'>"+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:o,typeof a===s?a.call(e,{name:"title",hash:{},data:i}):a))+"</label>\n"},3:function(e,t,n,i){return"multiple"},5:function(e,t,n,i,a){var s,o=this.escapeExpression,l=this.lambda,r="    <option value='"+o(t.lookup.call(e,e,null!=a[1]?a[1].id_key:a[1],{name:"lookup",hash:{},data:i}))+"' ";return s=t.if.call(e,null!=e?e.selected:e,{name:"if",hash:{},fn:this.program(6,i,a),inverse:this.noop,data:i}),null!=s&&(r+=s),r+">"+o(l(null!=e?e.label:e,e))+"</option>\n"},6:function(e,t,n,i){return"selected"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i,a){var s,o,l="function",r=t.helperMissing,d=this.escapeExpression,u="";return s=t.if.call(e,null!=e?e.title:e,{name:"if",hash:{},fn:this.program(1,i,a),inverse:this.noop,data:i}),null!=s&&(u+=s),u+="<select class='form-control' ",s=t.if.call(e,null!=e?e.multiple:e,{name:"if",hash:{},fn:this.program(3,i,a),inverse:this.noop,data:i}),null!=s&&(u+=s),u+=" name='"+d((o=null!=(o=t.field_name||(null!=e?e.field_name:e))?o:r,typeof o===l?o.call(e,{name:"field_name",hash:{},data:i}):o))+"'>\n",s=t.each.call(e,null!=e?e.options:e,{name:"each",hash:{},fn:this.program(5,i,a),inverse:this.noop,data:i}),null!=s&&(u+=s),u+"</select>\n"},useData:!0,useDepths:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i,a){var s,o=this.lambda,l=this.escapeExpression,r='    <label class="'+l(o(null!=e?e.css:e,e))+" ";return s=t.if.call(e,null!=e?e.selected:e,{name:"if",hash:{},fn:this.program(2,i,a),inverse:this.noop,data:i}),null!=s&&(r+=s),r+='">\n        <input\n            type="radio"\n            name="'+l(o(null!=a[1]?a[1].field_name:a[1],e))+'"\n            value="'+l(o(null!=e?e.value:e,e))+'"\n',s=t.if.call(e,null!=e?e.selected:e,{name:"if",hash:{},fn:this.program(4,i,a),inverse:this.noop,data:i}),null!=s&&(r+=s),r+'            autocomplete="off"\n            >\n            <i class=\''+l(o(null!=e?e.icon:e,e))+"'></i> "+l(o(null!=e?e.label:e,e))+"\n\n    </label>\n"},2:function(e,t,n,i){return"active"},4:function(e,t,n,i){return"            checked\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i,a){var s,o=this.lambda,l=this.escapeExpression,r="<h4 class='text-center'>"+l(o(null!=(s=null!=e?e.options:e)?s.label:s,e))+"</h4>\n<hr />\n<div class='btn-group' data-toggle=\"buttons\">\n";return s=t.each.call(e,null!=e?e.buttons:e,{name:"each",hash:{},fn:this.program(1,i,a),inverse:this.noop,data:i}),null!=s&&(r+=s),r+"</div>\n"},useData:!0,useDepths:!0})},function(e,t,n){"use strict";var i=n(16),a=n(24).default,s=n(18).default,o=n(19),l=n(43),r=function(){var e=new i.HandlebarsEnvironment;return o.extend(e,i),e.SafeString=a,e.Exception=s,e.Utils=o,e.escapeExpression=o.escapeExpression,e.VM=l,e.template=function(t){return l.template(t,e)},e},d=r();d.create=r,d.default=d,t.default=d},function(e,t,n){"use strict";function i(e){var t=e&&e[0]||1,n=c;if(t!==n){if(t<n){var i=h[n],a=h[t];throw new u("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+a+").")}throw new u("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function a(e,t){if(!t)throw new u("No environment passed to template");if(!e||!e.main)throw new u("Unknown template object: "+typeof e);t.VM.checkRevision(e.compiler);var n=function(n,i,a,s,o,l,r,c,h){o&&(s=d.extend({},s,o));var f=t.VM.invokePartial.call(this,n,a,s,l,r,c,h);if(null==f&&t.compile){var p={helpers:l,partials:r,data:c,depths:h};r[a]=t.compile(n,{data:void 0!==c,compat:e.compat},t),f=r[a](s,p)}if(null!=f){if(i){for(var m=f.split("\n"),v=0,g=m.length;v<g&&(m[v]||v+1!==g);v++)m[v]=i+m[v];f=m.join("\n")}return f}throw new u("The partial "+a+" could not be compiled when running in runtime-only mode")},i={lookup:function(e,t){for(var n=e.length,i=0;i<n;i++)if(e[i]&&null!=e[i][t])return e[i][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:d.escapeExpression,invokePartial:n,fn:function(t){return e[t]},programs:[],program:function(e,t,n){var i=this.programs[e],a=this.fn(e);return t||n?i=s(this,e,a,t,n):i||(i=this.programs[e]=s(this,e,a)),i},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=d.extend({},t,e)),n},noop:t.VM.noop,compilerInfo:e.compiler},a=function(t,n){n=n||{};var s=n.data;a._setup(n),!n.partial&&e.useData&&(s=r(t,s));var o;return e.useDepths&&(o=n.depths?[t].concat(n.depths):[t]),e.main.call(i,t,i.helpers,i.partials,s,o)};return a.isTop=!0,a._setup=function(n){n.partial?(i.helpers=n.helpers,i.partials=n.partials):(i.helpers=i.merge(n.helpers,t.helpers),e.usePartial&&(i.partials=i.merge(n.partials,t.partials)))},a._child=function(t,n,a){if(e.useDepths&&!a)throw new u("must pass parent depths");return s(i,t,e[t],n,a)},a}function s(e,t,n,i,a){var s=function(t,s){return s=s||{},n.call(e,t,e.helpers,e.partials,s.data||i,a&&[t].concat(a))};return s.program=t,s.depth=a?a.length:0,s}function o(e,t,n,i,a,s,o){var l={partial:!0,helpers:i,partials:a,data:s,depths:o};if(void 0===e)throw new u("The partial "+t+" could not be found");if(e instanceof Function)return e(n,l)}function l(){return""}function r(e,t){return t&&"root"in t||(t=t?f(t):{},t.root=e),t}var d=n(19),u=n(18).default,c=n(16).COMPILER_REVISION,h=n(16).REVISION_CHANGES,f=n(16).createFrame;t.checkRevision=i,t.template=a,t.program=s,t.invokePartial=o,t.noop=l},function(e,t,n){var i,a,s;/*!
	 * jQuery UI Keycode 1.12.1
	 * http://jqueryui.com
	 *
	 * Copyright jQuery Foundation and other contributors
	 * Released under the MIT license.
	 * http://jquery.org/license
	 */
!function(o){a=[n(5),n(20)],i=o,s="function"==typeof i?i.apply(t,a):i,!(void 0!==s&&(e.exports=s))}(function(e){return e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}})},function(e,t,n){var i,a,s;/*!
	 * jQuery UI Datepicker 1.12.1
	 * http://jqueryui.com
	 *
	 * Copyright jQuery Foundation and other contributors
	 * Released under the MIT license.
	 * http://jquery.org/license
	 */
!function(o){a=[n(5),n(20),n(44)],i=o,s="function"==typeof i?i.apply(t,a):i,!(void 0!==s&&(e.exports=s))}(function(e){function t(e){for(var t,n;e.length&&e[0]!==document;){if(t=e.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(n=parseInt(e.css("zIndex"),10),!isNaN(n)&&0!==n))return n;e=e.parent()}return 0}function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=i(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function i(t){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.on("mouseout",n,function(){e(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&e(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&e(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",n,a)}function a(){e.datepicker._isDisabledDatepicker(o.inline?o.dpDiv.parent()[0]:o.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&e(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&e(this).addClass("ui-datepicker-next-hover"))}function s(t,n){e.extend(t,n);for(var i in n)null==n[i]&&(t[i]=n[i]);return t}e.extend(e.ui,{datepicker:{version:"1.12.1"}});var o;return e.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return s(this._defaults,e||{}),this},_attachDatepicker:function(t,n){var i,a,s;i=t.nodeName.toLowerCase(),a="div"===i||"span"===i,t.id||(this.uuid+=1,t.id="dp"+this.uuid),s=this._newInst(e(t),a),s.settings=e.extend({},n||{}),"input"===i?this._connectDatepicker(t,s):a&&this._inlineDatepicker(t,s)},_newInst:function(t,n){var a=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:a,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?i(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,n){var i=e(t);n.append=e([]),n.trigger=e([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(n),e.data(t,"datepicker",n),n.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,n){var i,a,s,o=this._get(n,"appendText"),l=this._get(n,"isRTL");n.append&&n.append.remove(),o&&(n.append=e("<span class='"+this._appendClass+"'>"+o+"</span>"),t[l?"before":"after"](n.append)),t.off("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),i=this._get(n,"showOn"),"focus"!==i&&"both"!==i||t.on("focus",this._showDatepicker),"button"!==i&&"both"!==i||(a=this._get(n,"buttonText"),s=this._get(n,"buttonImage"),n.trigger=e(this._get(n,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:s,alt:a,title:a}):e("<button type='button'></button>").addClass(this._triggerClass).html(s?e("<img/>").attr({src:s,alt:a,title:a}):a)),t[l?"before":"after"](n.trigger),n.trigger.on("click",function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,i,a,s=new Date(2009,11,20),o=this._get(e,"dateFormat");o.match(/[DM]/)&&(t=function(e){for(n=0,i=0,a=0;a<e.length;a++)e[a].length>n&&(n=e[a].length,i=a);return i},s.setMonth(t(this._get(e,o.match(/MM/)?"monthNames":"monthNamesShort"))),s.setDate(t(this._get(e,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-s.getDay())),e.input.attr("size",this._formatDate(e,s).length)}},_inlineDatepicker:function(t,n){var i=e(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),e.data(t,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(t),n.dpDiv.css("display","block"))},_dialogDatepicker:function(t,n,i,a,o){var l,r,d,u,c,h=this._dialogInst;return h||(this.uuid+=1,l="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+l+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),e("body").append(this._dialogInput),h=this._dialogInst=this._newInst(this._dialogInput,!1),h.settings={},e.data(this._dialogInput[0],"datepicker",h)),s(h.settings,a||{}),n=n&&n.constructor===Date?this._formatDate(h,n):n,this._dialogInput.val(n),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(r=document.documentElement.clientWidth,d=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[r/2-100+u,d/2-150+c]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(t){var n,i=e(t),a=e.data(t,"datepicker");i.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===n?(a.append.remove(),a.trigger.remove(),i.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==n&&"span"!==n||i.removeClass(this.markerClassName).empty(),o===a&&(o=null))},_enableDatepicker:function(t){var n,i,a=e(t),s=e.data(t,"datepicker");a.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),"input"===n?(t.disabled=!1,s.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==n&&"span"!==n||(i=a.children("."+this._inlineClass),i.children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var n,i,a=e(t),s=e.data(t,"datepicker");a.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),"input"===n?(t.disabled=!0,s.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==n&&"span"!==n||(i=a.children("."+this._inlineClass),i.children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,n,i){var a,o,l,r,d=this._getInst(t);return 2===arguments.length&&"string"==typeof n?"defaults"===n?e.extend({},e.datepicker._defaults):d?"all"===n?e.extend({},d.settings):this._get(d,n):null:(a=n||{},"string"==typeof n&&(a={},a[n]=i),void(d&&(this._curInst===d&&this._hideDatepicker(),o=this._getDateDatepicker(t,!0),l=this._getMinMaxDate(d,"min"),r=this._getMinMaxDate(d,"max"),s(d.settings,a),null!==l&&void 0!==a.dateFormat&&void 0===a.minDate&&(d.settings.minDate=this._formatDate(d,l)),null!==r&&void 0!==a.dateFormat&&void 0===a.maxDate&&(d.settings.maxDate=this._formatDate(d,r)),"disabled"in a&&(a.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),d),this._autoSize(d),this._setDate(d,o),this._updateAlternate(d),this._updateDatepicker(d))))},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(t){var n,i,a,s=e.datepicker._getInst(t.target),o=!0,l=s.dpDiv.is(".ui-datepicker-rtl");if(s._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),o=!1;break;case 13:return a=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",s.dpDiv),a[0]&&e.datepicker._selectDay(t.target,s.selectedMonth,s.selectedYear,a[0]),n=e.datepicker._get(s,"onSelect"),n?(i=e.datepicker._formatDate(s),n.apply(s.input?s.input[0]:null,[i,s])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),o=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),o=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,l?1:-1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),o=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,l?-1:1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),o=t.ctrlKey||t.metaKey;break;default:o=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):o=!1;o&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var n,i,a=e.datepicker._getInst(t.target);if(e.datepicker._get(a,"constrainInput"))return n=e.datepicker._possibleChars(e.datepicker._get(a,"dateFormat")),i=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||i<" "||!n||n.indexOf(i)>-1},_doKeyUp:function(t){var n,i=e.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal)try{n=e.datepicker.parseDate(e.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,e.datepicker._getFormatConfig(i)),n&&(e.datepicker._setDateFromField(i),e.datepicker._updateAlternate(i),e.datepicker._updateDatepicker(i))}catch(e){}return!0},_showDatepicker:function(n){if(n=n.target||n,"input"!==n.nodeName.toLowerCase()&&(n=e("input",n.parentNode)[0]),!e.datepicker._isDisabledDatepicker(n)&&e.datepicker._lastInput!==n){var i,a,o,l,r,d,u;i=e.datepicker._getInst(n),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),a=e.datepicker._get(i,"beforeShow"),o=a?a.apply(n,[n,i]):{},o!==!1&&(s(i.settings,o),i.lastVal=null,e.datepicker._lastInput=n,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(n.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(n),e.datepicker._pos[1]+=n.offsetHeight),l=!1,e(n).parents().each(function(){return l|="fixed"===e(this).css("position"),!l}),r={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),r=e.datepicker._checkOffset(i,r,l),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":l?"fixed":"absolute",display:"none",left:r.left+"px",top:r.top+"px"}),i.inline||(d=e.datepicker._get(i,"showAnim"),u=e.datepicker._get(i,"duration"),i.dpDiv.css("z-index",t(e(n))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[d]?i.dpDiv.show(d,e.datepicker._get(i,"showOptions"),u):i.dpDiv[d||"show"](d?u:null),e.datepicker._shouldFocusInput(i)&&i.input.trigger("focus"),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,o=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var n,i=this._getNumberOfMonths(t),s=i[1],l=17,r=t.dpDiv.find("."+this._dayOverClass+" a");r.length>0&&a.apply(r.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),s>1&&t.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",l*s+"em"),t.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.trigger("focus"),t.yearshtml&&(n=t.yearshtml,setTimeout(function(){n===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),n=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,n,i){var a=t.dpDiv.outerWidth(),s=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,l=t.input?t.input.outerHeight():0,r=document.documentElement.clientWidth+(i?0:e(document).scrollLeft()),d=document.documentElement.clientHeight+(i?0:e(document).scrollTop());return n.left-=this._get(t,"isRTL")?a-o:0,n.left-=i&&n.left===t.input.offset().left?e(document).scrollLeft():0,n.top-=i&&n.top===t.input.offset().top+l?e(document).scrollTop():0,n.left-=Math.min(n.left,n.left+a>r&&r>a?Math.abs(n.left+a-r):0),n.top-=Math.min(n.top,n.top+s>d&&d>s?Math.abs(s+l):0),n},_findPos:function(t){for(var n,i=this._getInst(t),a=this._get(i,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[a?"previousSibling":"nextSibling"];return n=e(t).offset(),[n.left,n.top]},_hideDatepicker:function(t){var n,i,a,s,o=this._curInst;!o||t&&o!==e.data(t,"datepicker")||this._datepickerShowing&&(n=this._get(o,"showAnim"),i=this._get(o,"duration"),a=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[n]||e.effects[n])?o.dpDiv.hide(n,e.datepicker._get(o,"showOptions"),i,a):o.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,a),n||a(),this._datepickerShowing=!1,s=this._get(o,"onClose"),s&&s.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var n=e(t.target),i=e.datepicker._getInst(n[0]);(n[0].id===e.datepicker._mainDivId||0!==n.parents("#"+e.datepicker._mainDivId).length||n.hasClass(e.datepicker.markerClassName)||n.closest("."+e.datepicker._triggerClass).length||!e.datepicker._datepickerShowing||e.datepicker._inDialog&&e.blockUI)&&(!n.hasClass(e.datepicker.markerClassName)||e.datepicker._curInst===i)||e.datepicker._hideDatepicker()}},_adjustDate:function(t,n,i){var a=e(t),s=this._getInst(a[0]);this._isDisabledDatepicker(a[0])||(this._adjustInstDate(s,n+("M"===i?this._get(s,"showCurrentAtPos"):0),i),this._updateDatepicker(s))},_gotoToday:function(t){var n,i=e(t),a=this._getInst(i[0]);this._get(a,"gotoCurrent")&&a.currentDay?(a.selectedDay=a.currentDay,a.drawMonth=a.selectedMonth=a.currentMonth,a.drawYear=a.selectedYear=a.currentYear):(n=new Date,a.selectedDay=n.getDate(),a.drawMonth=a.selectedMonth=n.getMonth(),a.drawYear=a.selectedYear=n.getFullYear()),this._notifyChange(a),this._adjustDate(i)},_selectMonthYear:function(t,n,i){var a=e(t),s=this._getInst(a[0]);s["selected"+("M"===i?"Month":"Year")]=s["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(a)},_selectDay:function(t,n,i,a){var s,o=e(t);e(a).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||(s=this._getInst(o[0]),s.selectedDay=s.currentDay=e("a",a).html(),s.selectedMonth=s.currentMonth=n,s.selectedYear=s.currentYear=i,this._selectDate(t,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear)))},_clearDate:function(t){var n=e(t);this._selectDate(n,"")},_selectDate:function(t,n){var i,a=e(t),s=this._getInst(a[0]);n=null!=n?n:this._formatDate(s),s.input&&s.input.val(n),this._updateAlternate(s),i=this._get(s,"onSelect"),i?i.apply(s.input?s.input[0]:null,[n,s]):s.input&&s.input.trigger("change"),s.inline?this._updateDatepicker(s):(this._hideDatepicker(),this._lastInput=s.input[0],"object"!=typeof s.input[0]&&s.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(t){var n,i,a,s=this._get(t,"altField");s&&(n=this._get(t,"altFormat")||this._get(t,"dateFormat"),i=this._getDate(t),a=this.formatDate(n,i,this._getFormatConfig(t)),e(s).val(a))},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(t,n,i){if(null==t||null==n)throw"Invalid arguments";if(n="object"==typeof n?n.toString():n+"",""===n)return null;var a,s,o,l,r=0,d=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof d?d:(new Date).getFullYear()%100+parseInt(d,10),c=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,h=(i?i.dayNames:null)||this._defaults.dayNames,f=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,p=(i?i.monthNames:null)||this._defaults.monthNames,m=-1,v=-1,g=-1,_=-1,b=!1,y=function(e){var n=a+1<t.length&&t.charAt(a+1)===e;return n&&a++,n},w=function(e){var t=y(e),i="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,a="y"===e?i:1,s=new RegExp("^\\d{"+a+","+i+"}"),o=n.substring(r).match(s);if(!o)throw"Missing number at position "+r;return r+=o[0].length,parseInt(o[0],10)},k=function(t,i,a){var s=-1,o=e.map(y(t)?a:i,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(o,function(e,t){var i=t[1];if(n.substr(r,i.length).toLowerCase()===i.toLowerCase())return s=t[0],r+=i.length,!1}),s!==-1)return s+1;throw"Unknown name at position "+r},x=function(){if(n.charAt(r)!==t.charAt(a))throw"Unexpected literal at position "+r;r++};for(a=0;a<t.length;a++)if(b)"'"!==t.charAt(a)||y("'")?x():b=!1;else switch(t.charAt(a)){case"d":g=w("d");break;case"D":k("D",c,h);break;case"o":_=w("o");break;case"m":v=w("m");break;case"M":v=k("M",f,p);break;case"y":m=w("y");break;case"@":l=new Date(w("@")),m=l.getFullYear(),v=l.getMonth()+1,g=l.getDate();break;case"!":l=new Date((w("!")-this._ticksTo1970)/1e4),m=l.getFullYear(),v=l.getMonth()+1,g=l.getDate();break;case"'":y("'")?x():b=!0;break;default:x()}if(r<n.length&&(o=n.substr(r),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(m===-1?m=(new Date).getFullYear():m<100&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(m<=u?0:-100)),_>-1)for(v=1,g=_;s=this._getDaysInMonth(m,v-1),!(g<=s);)v++,g-=s;if(l=this._daylightSavingAdjust(new Date(m,v-1,g)),l.getFullYear()!==m||l.getMonth()+1!==v||l.getDate()!==g)throw"Invalid date";return l},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,n){if(!t)return"";var i,a=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,s=(n?n.dayNames:null)||this._defaults.dayNames,o=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,l=(n?n.monthNames:null)||this._defaults.monthNames,r=function(t){var n=i+1<e.length&&e.charAt(i+1)===t;return n&&i++,n},d=function(e,t,n){var i=""+t;if(r(e))for(;i.length<n;)i="0"+i;return i},u=function(e,t,n,i){return r(e)?i[t]:n[t]},c="",h=!1;if(t)for(i=0;i<e.length;i++)if(h)"'"!==e.charAt(i)||r("'")?c+=e.charAt(i):h=!1;else switch(e.charAt(i)){case"d":c+=d("d",t.getDate(),2);break;case"D":c+=u("D",t.getDay(),a,s);break;case"o":c+=d("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":c+=d("m",t.getMonth()+1,2);break;case"M":c+=u("M",t.getMonth(),o,l);break;case"y":c+=r("y")?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":c+=t.getTime();break;case"!":c+=1e4*t.getTime()+this._ticksTo1970;break;case"'":r("'")?c+="'":h=!0;break;default:c+=e.charAt(i)}return c},_possibleChars:function(e){var t,n="",i=!1,a=function(n){var i=t+1<e.length&&e.charAt(t+1)===n;return i&&t++,i};for(t=0;t<e.length;t++)if(i)"'"!==e.charAt(t)||a("'")?n+=e.charAt(t):i=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":a("'")?n+="'":i=!0;break;default:n+=e.charAt(t)}return n},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),i=e.lastVal=e.input?e.input.val():null,a=this._getDefaultDate(e),s=a,o=this._getFormatConfig(e);try{s=this.parseDate(n,i,o)||a}catch(e){i=t?"":i}e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),e.currentDay=i?s.getDate():0,e.currentMonth=i?s.getMonth():0,e.currentYear=i?s.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,n,i){var a=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},s=function(n){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),n,e.datepicker._getFormatConfig(t))}catch(e){}for(var i=(n.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,a=i.getFullYear(),s=i.getMonth(),o=i.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,r=l.exec(n);r;){switch(r[2]||"d"){case"d":case"D":o+=parseInt(r[1],10);break;case"w":case"W":o+=7*parseInt(r[1],10);break;case"m":case"M":s+=parseInt(r[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(a,s));break;case"y":case"Y":a+=parseInt(r[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(a,s))}r=l.exec(n)}return new Date(a,s,o)},o=null==n||""===n?i:"string"==typeof n?s(n):"number"==typeof n?isNaN(n)?i:a(n):new Date(n.getTime());return o=o&&"Invalid Date"===o.toString()?i:o,o&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var i=!t,a=e.selectedMonth,s=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),a===e.selectedMonth&&s===e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(i?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var n=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(i,-n,"M")},next:function(){e.datepicker._adjustDate(i,+n,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(i)},selectDay:function(){return e.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(i,this,"Y"),!1}};e(this).on(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,n,i,a,s,o,l,r,d,u,c,h,f,p,m,v,g,_,b,y,w,k,x,M,D,C,O,V,T,S,E,P,A,I,F,j,N,L,q,R=new Date,U=this._daylightSavingAdjust(new Date(R.getFullYear(),R.getMonth(),R.getDate())),Y=this._get(e,"isRTL"),z=this._get(e,"showButtonPanel"),B=this._get(e,"hideIfNoPrevNext"),H=this._get(e,"navigationAsDateFormat"),K=this._getNumberOfMonths(e),G=this._get(e,"showCurrentAtPos"),W=this._get(e,"stepMonths"),$=1!==K[0]||1!==K[1],J=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(e,"min"),Q=this._getMinMaxDate(e,"max"),X=e.drawMonth-G,ee=e.drawYear;if(X<0&&(X+=12,ee--),Q)for(t=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-K[0]*K[1]+1,Q.getDate())),t=Z&&t<Z?Z:t;this._daylightSavingAdjust(new Date(ee,X,1))>t;)X--,X<0&&(X=11,ee--);for(e.drawMonth=X,e.drawYear=ee,n=this._get(e,"prevText"),n=H?this.formatDate(n,this._daylightSavingAdjust(new Date(ee,X-W,1)),this._getFormatConfig(e)):n,i=this._canAdjustMonth(e,-1,ee,X)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+n+"</span></a>":B?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+n+"</span></a>",a=this._get(e,"nextText"),a=H?this.formatDate(a,this._daylightSavingAdjust(new Date(ee,X+W,1)),this._getFormatConfig(e)):a,s=this._canAdjustMonth(e,1,ee,X)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+a+"</span></a>":B?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+a+"</span></a>",o=this._get(e,"currentText"),l=this._get(e,"gotoCurrent")&&e.currentDay?J:U,o=H?this.formatDate(o,l,this._getFormatConfig(e)):o,r=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",d=z?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Y?r:"")+(this._isInRange(e,l)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(Y?"":r)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,c=this._get(e,"showWeek"),h=this._get(e,"dayNames"),f=this._get(e,"dayNamesMin"),p=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),v=this._get(e,"beforeShowDay"),g=this._get(e,"showOtherMonths"),_=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),y="",k=0;k<K[0];k++){for(x="",this.maxRows=4,M=0;M<K[1];M++){if(D=this._daylightSavingAdjust(new Date(ee,X,e.selectedDay)),C=" ui-corner-all",O="",$){if(O+="<div class='ui-datepicker-group",K[1]>1)switch(M){case 0:O+=" ui-datepicker-group-first",C=" ui-corner-"+(Y?"right":"left");break;case K[1]-1:O+=" ui-datepicker-group-last",C=" ui-corner-"+(Y?"left":"right");break;default:O+=" ui-datepicker-group-middle",C=""}O+="'>"}for(O+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+C+"'>"+(/all|left/.test(C)&&0===k?Y?s:i:"")+(/all|right/.test(C)&&0===k?Y?i:s:"")+this._generateMonthYearHeader(e,X,ee,Z,Q,k>0||M>0,p,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",V=c?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",w=0;w<7;w++)T=(w+u)%7,V+="<th scope='col'"+((w+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[T]+"'>"+f[T]+"</span></th>";for(O+=V+"</tr></thead><tbody>",S=this._getDaysInMonth(ee,X),ee===e.selectedYear&&X===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,S)),E=(this._getFirstDayOfMonth(ee,X)-u+7)%7,P=Math.ceil((E+S)/7),A=$&&this.maxRows>P?this.maxRows:P,this.maxRows=A,I=this._daylightSavingAdjust(new Date(ee,X,1-E)),F=0;F<A;F++){for(O+="<tr>",j=c?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(I)+"</td>":"",w=0;w<7;w++)N=v?v.apply(e.input?e.input[0]:null,[I]):[!0,""],L=I.getMonth()!==X,q=L&&!_||!N[0]||Z&&I<Z||Q&&I>Q,j+="<td class='"+((w+u+6)%7>=5?" ui-datepicker-week-end":"")+(L?" ui-datepicker-other-month":"")+(I.getTime()===D.getTime()&&X===e.selectedMonth&&e._keyEvent||b.getTime()===I.getTime()&&b.getTime()===D.getTime()?" "+this._dayOverClass:"")+(q?" "+this._unselectableClass+" ui-state-disabled":"")+(L&&!g?"":" "+N[1]+(I.getTime()===J.getTime()?" "+this._currentClass:"")+(I.getTime()===U.getTime()?" ui-datepicker-today":""))+"'"+(L&&!g||!N[2]?"":" title='"+N[2].replace(/'/g,"&#39;")+"'")+(q?"":" data-handler='selectDay' data-event='click' data-month='"+I.getMonth()+"' data-year='"+I.getFullYear()+"'")+">"+(L&&!g?"&#xa0;":q?"<span class='ui-state-default'>"+I.getDate()+"</span>":"<a class='ui-state-default"+(I.getTime()===U.getTime()?" ui-state-highlight":"")+(I.getTime()===J.getTime()?" ui-state-active":"")+(L?" ui-priority-secondary":"")+"' href='#'>"+I.getDate()+"</a>")+"</td>",I.setDate(I.getDate()+1),I=this._daylightSavingAdjust(I);O+=j+"</tr>"}X++,X>11&&(X=0,ee++),O+="</tbody></table>"+($?"</div>"+(K[0]>0&&M===K[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=O}y+=x}return y+=d,e._keyEvent=!1,y},_generateMonthYearHeader:function(e,t,n,i,a,s,o,l){var r,d,u,c,h,f,p,m,v=this._get(e,"changeMonth"),g=this._get(e,"changeYear"),_=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",y="";if(s||!v)y+="<span class='ui-datepicker-month'>"+o[t]+"</span>";else{
for(r=i&&i.getFullYear()===n,d=a&&a.getFullYear()===n,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;u<12;u++)(!r||u>=i.getMonth())&&(!d||u<=a.getMonth())&&(y+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+l[u]+"</option>");y+="</select>"}if(_||(b+=y+(!s&&v&&g?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",s||!g)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(c=this._get(e,"yearRange").split(":"),h=(new Date).getFullYear(),f=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t},p=f(c[0]),m=Math.max(p,f(c[1]||"")),p=i?Math.max(p,i.getFullYear()):p,m=a?Math.min(m,a.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";p<=m;p++)e.yearshtml+="<option value='"+p+"'"+(p===n?" selected='selected'":"")+">"+p+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),_&&(b+=(!s&&v&&g?"":"&#xa0;")+y),b+="</div>"},_adjustInstDate:function(e,t,n){var i=e.selectedYear+("Y"===n?t:0),a=e.selectedMonth+("M"===n?t:0),s=Math.min(e.selectedDay,this._getDaysInMonth(i,a))+("D"===n?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,a,s)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),"M"!==n&&"Y"!==n||this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),a=n&&t<n?n:t;return i&&a>i?i:a},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,i){var a=this._getNumberOfMonths(e),s=this._daylightSavingAdjust(new Date(n,i+(t<0?t:a[0]*a[1]),1));return t<0&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(e,s)},_isInRange:function(e,t){var n,i,a=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),o=null,l=null,r=this._get(e,"yearRange");return r&&(n=r.split(":"),i=(new Date).getFullYear(),o=parseInt(n[0],10),l=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(o+=i),n[1].match(/[+\-].*/)&&(l+=i)),(!a||t.getTime()>=a.getTime())&&(!s||t.getTime()<=s.getTime())&&(!o||t.getFullYear()>=o)&&(!l||t.getFullYear()<=l)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,i){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var a=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(i,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),a,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).on("mousedown",e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(n)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n))},e.datepicker=new n,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.12.1",e.datepicker})},,,,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=s.default.Application.extend({region:"#js-main-area"}),l=new o;t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=(i(a),n(23)),o=i(s),l=n(10),r=n(7),d=o.default.extend({props:["id","task_id","order","description","amount","date"],defaults:{date:(0,l.dateToIso)(new Date),order:1},validation:{description:{required:!0,msg:"Veuillez saisir un objet"},amount:{required:!0,pattern:"amount2",msg:"Veuillez saisir un montant, dans la limite de 2 chiffres après la virgule"}},isLast:function(){var e=this.get("order"),t=this.collection.getMaxOrder();return e==t},isFirst:function(){var e=this.model.collection.getMinOrder(),t=this.get("order");return t==e},getAmount:function(){return(0,r.strToFloat)(this.get("amount"))}});t.default=d},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),s=(i(a),n(103)),o=i(s),l=n(23),r=i(l),d=r.default.extend({props:["id","order","title","description","lines","task_id"],validation:{lines:function(e){if(0===e.length)return"Veuillez saisir au moins une prestation"}},initialize:function(){this.populate(),this.on("change:id",this.populate.bind(this)),this.listenTo(this.lines,"add",this.updateLines),this.listenTo(this.lines,"sync",this.updateLines),this.listenTo(this.lines,"remove",this.updateLines)},populate:function(){this.get("id")&&(this.lines=new o.default(this.get("lines")),this.lines.url=this.url()+"/task_lines")},updateLines:function(){this.set("lines",this.lines.toJSON())},loadProductGroup:function(e){this.set("title",e.title),this.set("description",e.description),this.trigger("set:product_group")},ht:function(){return this.lines.ht()},tvaParts:function(){return this.lines.tvaParts()},ttc:function(){return this.lines.ttc()}});t.default=d},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),s=(i(a),n(8)),o=(i(s),n(7)),l=n(23),r=i(l),d=r.default.extend({props:["id","order","description","cost","quantity","unity","tva","product_id","task_id"],validation:{description:{required:!0,msg:"Veuillez saisir un objet"},cost:{required:!0,pattern:"amount",msg:"Veuillez saisir un coup unitaire, dans la limite de 5 chiffres après la virgule"},quantity:{required:!0,pattern:"amount",msg:"Veuillez saisir une quantité, dans la limite de 5 chiffres après la virgule"},tva:{required:!0,pattern:"number",msg:"Veuillez sélectionner une TVA"}},ht:function(){return(0,o.strToFloat)(this.get("cost"))*(0,o.strToFloat)(this.get("quantity"))},tva_value:function(){var e=this.get("tva");return e<0&&(e=0),e},tva:function(){var e=(0,o.getTvaPart)(this.ht(),this.tva_value());return e},ttc:function(){return this.ht()+this.tva()},loadProduct:function(e){this.set("description",e.label),this.set("cost",e.value),this.set("quantity",1),this.set("tva",e.tva),this.trigger("set:product")}});t.default=d},function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(6),l=n(170),r=s.default.View.extend({tree_options:{plugins:["checkbox","types","search"],types:{default:{icon:"glyphicon glyphicon-triangle-right"},product:{icon:"glyphicon glyphicon-file"},group:{icon:"glyphicon glyphicon-book"}},search:{show_only_matches:!0,case_insensitive:!0},core:{multiple:!0}},template:l,ui:{tree:".tree",search:"input[name=catalog_search]",edit_btn:"button.edit-catalog",insert_btn:"button.insert-catalog"},events:{"keyup @ui.search":"onSearch","click @ui.edit_btn":"onEdit","click @ui.insert_btn":"onInsert"},onSearch:function(){var e=this.getUI("search").val();this.getUI("tree").jstree("search",e)},onAttach:function(){var t=this.getOption("catalog");if(e.has(t,"void_message"))this.getUI("edit_btn").prop("disabled",!0),this.getUI("insert_btn").prop("disabled",!0),this.getUI("search").prop("disabled",!0),this.getUI("tree").html(t.void_message);else{var n=this.getUI("tree");this.tree_options.core.data=t.jstree,n.jstree(this.tree_options)}},productLoadCallback:function(e){this.triggerMethod("catalog:edit",e)},onEdit:function(){var t=null,n=this.getUI("tree").jstree("get_selected",!0);if(e.each(n,function(n){e.has(n.original,"url")&&(t=n.original.url)}),null===t)alert("Veuillez sélectionner au moins un élément");else{var i=(0,o.ajax_call)(t);i.done(this.productLoadCallback.bind(this))}},onInsert:function(){var t=[],n=this.getUI("tree").jstree("get_selected",!0);e.each(n,function(n){e.has(n.original,"id")&&t.push(n.original.id)}),0===t.length?alert("Veuillez sélectionner au moins un élément"):this.triggerMethod("catalog:insert",t)}});t.default=r}).call(t,n(3))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(7),l=n(10),r=s.default.View.extend({className:"row taskline",template:n(188),modelEvents:{change:"render"},ui:{up_button:"button.up",down_button:"button.down",edit_button:"button.edit",delete_button:"button.delete"},triggers:{"click @ui.up_button":"order:up","click @ui.down_button":"order:down","click @ui.edit_button":"edit","click @ui.delete_button":"delete"},templateContext:function(){var e=this.model.collection.getMinOrder(),t=this.model.collection.getMaxOrder(),n=this.model.get("order");return{edit:this.getOption("edit"),show_date:this.getOption("show_date"),date:(0,l.formatDate)(this.model.get("date")),amount:(0,o.formatAmount)(this.model.get("amount")),is_not_first:n!=e,is_not_before_last:n!=t-1,is_not_last:n!=t}}});t.default=r},,function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),s=i(a),o=n(1),l=i(o),r=n(6),d=n(199),u=l.default.View.extend({template:d,ui:{checkboxes:"input[type=checkbox]"},events:{"click @ui.checkboxes":"onClick"},getCurrentValues:function(){var t=this.$el.find("input[type=checkbox]:checked"),n=[];return e.each(t,function(e){n.push((0,s.default)(e).attr("value"))}),n},onClick:function(e){this.triggerMethod("finish",this.getOption("field_name"),this.getCurrentValues())},templateContext:function(){var e=(0,r.getOpt)(this,"id_key","id"),t=this.getOption("options"),n=this.getOption("value");return(0,r.updateSelectOptions)(t,n,e),{title:this.getOption("title"),description:this.getOption("description"),field_name:this.getOption("field_name"),options:t,editable:(0,r.getOpt)(this,"editable",!0)}}});t.default=u}).call(t,n(3))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),s=(i(a),n(1)),o=i(s),l=n(6),r=n(200),d=o.default.View.extend({template:r,ui:{checkbox:"input[type=checkbox]"},events:{"click @ui.checkbox":"onClick"},getCurrentValue:function(){var e=this.getUI("checkbox").prop("checked");return e?(0,l.getOpt)(this,"true_val","1"):(0,l.getOpt)(this,"false_val","0")},onClick:function(e){this.triggerMethod("finish",this.getOption("field_name"),this.getCurrentValue())},templateContext:function(){var e=(0,l.getOpt)(this,"true_val","1"),t=this.getOption("value")==e;return{title:this.getOption("title"),label:this.getOption("label"),description:this.getOption("description"),field_name:this.getOption("field_name"),checked:t,editable:(0,l.getOpt)(this,"editable",!0)}}});t.default=d},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(202),l=s.default.View.extend({template:o});t.default=l},,function(e,t,n){var i=n(2);e.exports=(i.default||i).template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){return"<div class='line'></div>\n"},useData:!0})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(15),l=i(o),r=n(4),d=i(r),u=n(150),c=s.default.View.extend({className:"modal-overlay",behaviors:[l.default],template:u,url:"/api/login/v1",ui:{form:"form",login:"input[name=login]",password:"input[type=password]",remember_me:"input[name=remember_me]",errors:".errors"},events:{"submit @ui.form":"onSubmit"},onSubmit:function(e){e.preventDefault(),this.getUI("errors").hide();var t={login:this.getUI("login").val(),password:this.getUI("password").val()};this.getUI("remember_me").is(":checked")&&(t.remember_me=!0);var n=d.default.channel("auth");n.trigger("login",t,this.success.bind(this),this.error.bind(this))},onModalBeforeClose:function(){console.log("Redirecting"),window.location.replace("#")},success:function(){this.triggerMethod("close")},error:function(){this.getUI("errors").html("Erreur d'authentification"),this.getUI("errors").show()}});t.default=c},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(118),l=i(o),r=n(51),d=i(r),u=n(93),c=i(u),h=n(26),f=i(h),p=n(28),m=(i(p),n(27)),v=i(m),g=s.default.Object.extend({initialize:function(e){v.default.setFormConfig(e.form_config),c.default.loadModels(e.form_datas),AppOption.facade=c.default,f.default.setAuthCallbacks([c.default.syncModel]),AppOption.facade=c.default,this.mainView=new l.default,d.default.showView(this.mainView)},status:function(e){this.mainView.showBox(e)},login:function(){this.mainView.showLogin()}});t.default=g},function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(97),l=i(o),r=n(102),d=i(r),u=n(98),c=i(u),h=n(100),f=i(h),p=n(101),m=i(p),v=n(104),g=i(v),_=n(4),b=i(_),y=s.default.Object.extend({channelName:"facade",ht:5,radioEvents:{"changed:task":"computeTotals","changed:discount":"computeMainTotals","changed:expense_ht":"computeMainTotals","changed:payment_lines":"updatePaymentLines","sync:model":"syncModel","save:model":"saveModel"},radioRequests:{"get:model":"getModelRequest","get:collection":"getCollectionRequest","get:paymentcollection":"getPaymentCollectionRequest","get:totalmodel":"getTotalModelRequest","get:status_history_collection":"getStatusHistory","is:valid":"isDataValid","get:attachments":"getAttachments"},initialize:function(e){this.syncModel=this.syncModel.bind(this)},loadModels:function(t){this.datas=t,this.models={},this.collections={},this.totalmodel=new g.default,this.models.common=new l.default(t),this.models.common.url=AppOption.context_url;var n=t.line_groups;this.collections.task_groups=new d.default(n);var i=t.discounts;if(this.collections.discounts=new c.default(i),this.computeTotals(),e.has(t,"payment_lines")){var a=t.payment_lines;this.payment_lines_collection=new f.default(a)}if(e.has(t,"status_history")){var s=t.status_history;this.status_history_collection=new m.default(s)}},getAttachments:function(){return this.datas.attachments},getStatusHistory:function(){return this.status_history_collection},syncModel:function(e){var e=e||"common";this.models[e].save(null,{wait:!0,sync:!0,patch:!0})},saveModel:function(t,n,i,a,s,o){var l={wait:!0,patch:!0};e.extend(l,a),l.success=s,l.error=o,n.save(i,l)},getPaymentCollectionRequest:function(){return this.payment_lines_collection},getTotalModelRequest:function(){return this.totalmodel},getModelRequest:function(e){return this.models[e]},getCollectionRequest:function(e){return this.collections[e]},updatePaymentLines:function(){var e=b.default.channel("facade");e.trigger("update:payment_lines",this.totalmodel)},computeTotals:function(){this.totalmodel.set({ht_before_discounts:this.tasklines_ht(),ht:this.HT(),tvas:this.TVAParts(),ttc:this.TTC()})},computeMainTotals:function(){console.log("computeMainTotals"),this.totalmodel.set({ht_before_discounts:this.tasklines_ht(),ht:this.HT(),tvas:this.TVAParts(),ttc:this.TTC()})},tasklines_ht:function(){return this.collections.task_groups.ht()},HT:function(){var t=0;return e.each(this.collections,function(e){t+=e.ht()}),e.each(this.models,function(e){t+=e.ht()}),console.log("Computing HT : %s",t),t},TVAParts:function(){var t={};return e.each(this.collections,function(n){var i=n.tvaParts();e.each(i,function(e,n){n in t&&(e+=t[n]),t[n]=e})}),e.each(this.models,function(n){var i=n.tvaParts();e.each(i,function(e,n){n in t&&(e+=t[n]),t[n]=e})}),t},TTC:function(){var t=0;return e.each(this.collections,function(e){t+=e.ttc()}),e.each(this.models,function(e){t+=e.ttc()}),t},isDataValid:function(){var t=b.default.channel("facade");t.trigger("bind:validation");var n={};return e.each(this.models,function(t){var i=t.validate();i&&e.extend(n,i)}),e.each(this.collections,function(t){var i=t.validate();i&&e.extend(n,i)}),t.trigger("unbind:validation"),n}}),w=new y;t.default=w}).call(t,n(3))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=s.default.AppRouter.extend({appRoutes:{login:"login"}});t.default=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=i(a),o=n(96),l=i(o),r=s.default.Collection.extend({model:l.default});t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=i(a),o=s.default.Model.extend({});t.default=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),s=i(a),o=n(23),l=i(o),r=n(7),d=n(4),u=i(d),c=l.default.extend({props:["id","name","altdate","date","description","address","mentions","workplace","expenses_ht","exclusions","payment_conditions","deposit","payment_times","paymentDisplay","financial_year","course","display_units"],validation:{date:{required:!0,msg:"Veuillez saisir une date"},description:{required:!0,msg:"Veuillez saisir un objet"},address:{required:!0,msg:"Veuillez saisir une adresse"},expenses_ht:{required:!1,pattern:"amount",msg:"Le montant doit être un nombre"},payment_conditions:function(e){var t=u.default.channel("config");if(t.request("has:form_section","payment_conditions")&&!e)return"Veuillez saisir des conditions de paiements"},financial_year:{required:!1,pattern:"digits",msg:"L'année fiscale de référence doit être un nombre entier"}},initialize:function(){c.__super__.initialize.apply(this,arguments);var e=this.channel=u.default.channel("facade");this.on("sync",function(){e.trigger("changed:discount")});var t=u.default.channel("config");this.tva_options=t.request("get:options","tvas")},ht:function(){return(0,r.strToFloat)(this.get("expenses_ht"))},tva_key:function(){var e,t=s.default.find(this.tva_options,function(e){return e.default});return e=s.default.isUndefined(t)?0:(0,r.strToFloat)(t.value),e<0&&(e=0),e},tva_amount:function(){return(0,r.getTvaPart)(this.ht(),this.tva_key())},tvaParts:function(){var e={},t=this.tva_key(),n=this.tva_amount();return 0==n?e:(e[t]=n,e)},ttc:function(){return this.ht()+this.tva_amount()}});t.default=c},function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=i(a),o=n(30),l=i(o),r=n(4),d=i(r),u=n(6),c=s.default.Collection.extend({model:l.default,initialize:function(e){this.on("remove",this.channelCall),this.on("sync",this.channelCall),this.on("reset",this.channelCall),this.on("add",this.channelCall)},channelCall:function(){var e=d.default.channel("facade");e.trigger("changed:discount")},url:function(){return AppOption.context_url+"/discount_lines"},ht:function(){var e=0;return this.each(function(t){e+=t.ht()}),e},tvaParts:function(){var e={};return this.each(function(t){var n=t.tva(),i=t.get("tva");i in e&&(n+=e[i]),e[i]=n}),e},ttc:function(){var e=0;return this.each(function(t){e+=t.ttc()}),e},insert_percent:function(e){var t=(0,u.ajax_call)(this.url()+"?action=insert_percent",e.toJSON(),"POST");t.then(this.fetch.bind(this))},validate:function(){var t={};return this.each(function(n){var i=n.validate();i&&e.extend(t,i)}),t}});t.default=c}).call(t,n(3))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=i(a),o=s.default.Model.extend({validation:{description:{required:!0,msg:"Veuillez saisir un objet"},percentage:{required:!0,range:[1,99],msg:"Veuillez saisir un pourcentage"},tva:{required:!0,pattern:"number",msg:"Veuillez sélectionner une TVA"}}});t.default=o},function(e,t,n){(function(e,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(31),o=a(s),l=n(52),r=a(l),d=n(4),u=a(d),c=n(7),h=o.default.extend({model:r.default,url:function(){return AppOption.context_url+"/payment_lines"},initialize:function(e){h.__super__.initialize.apply(this,e),this.channel=u.default.channel("facade"),this.totalmodel=this.channel.request("get:totalmodel"),this.callChannel=this.callChannel.bind(this),this.bindEvents()},bindEvents:function(){console.log("PaymentLineCollection.bindEvents"),this.listenTo(this,"add",this.callChannel),this.listenTo(this,"remove",this.callChannel),this.listenTo(this,"change:amount",this.callChannel)},unBindEvents:function(){console.log("PaymentLineCollection.unBindEvents"),this.stopListening()},callChannel:function(){this.channel.trigger("changed:payment_lines")},computeDividedAmount:function(e,t){var n=0;return t>1&&(n=Math.round(100*e/t)),n/100},depositAmount:function(e){var t=this.totalmodel.get("ttc");e=parseInt(e,10);var n=0;return e>0&&(n=(0,c.getPercent)(t,e)),n},topayAfterDeposit:function(e){var t=this.totalmodel.get("ttc"),n=this.depositAmount(e);return t-n},genPaymentLines:function(e,t){console.log("Gen payment lines"),this.unBindEvents();var n=this.topayAfterDeposit(t),i="Livrable",a=0;console.log("Total : %s",n),e>1&&(a=this.computeDividedAmount(n,e)),console.log(" + Part %s",a);var s,o,l=this.slice(0,e);for(o=1;o<e;o++)s=l.length>=o?l[o-1]:new r.default({order:o-1}),s.set({amount:a,description:i}),i="Paiement "+(o+1),l[o-1]=s;o=e;var d=n-(e-1)*a;s=l.length>=o?l[o-1]:new r.default,s.set({amount:d,description:"Solde"}),l[o-1]=s;var u=this.models.slice(e);return this.set(l),console.log("New number of models : %s",this.models.length),this.updateModelOrder(!1),this.syncAll(u)},syncAll:function(t){var n;console.log("Syncing all models");var a=[],s=this.url();e.each(t,function(e){e.urlRoot=s,a.push(e.destroy({success:function(){console.log("Suppression d'échéances : OK")}}))}),this.each(function(e){a.push(e.save(null,{wait:!0,sync:!0,patch:!0}))});var o=(n=i).when.apply(n,a).then(this.afterSyncAll.bind(this));return o},afterSyncAll:function(){console.log("The PaymentLineCollection was synced"),this.bindEvents()},getSoldAmount:function(t){var n=this.topayAfterDeposit(t),i=0,a=this.slice(0,this.models.length-1);return e.each(a,function(e){i+=e.getAmount()}),n-i},updateSold:function(e){console.log("Updating sold"),this.unBindEvents();var t=this.getSoldAmount(e);this.models[this.models.length-1].set({amount:t}),this.models[this.models.length-1].save().then(this.afterSyncAll.bind(this))},validate:function(){var t={};return this.each(function(n){var i=n.validate();i&&e.extend(t,i)}),t}});t.default=h}).call(t,n(3),n(5))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=i(a),o=s.default.Model.extend({}),l=s.default.Collection.extend({model:o});t.default=l},function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(31),s=i(a),o=n(53),l=i(o),r=n(6),d=n(4),u=i(d),c=s.default.extend({model:l.default,url:function(){return AppOption.context_url+"/task_line_groups"},initialize:function(e){c.__super__.initialize.apply(this,e),this.on("remove",this.channelCall),this.on("sync",this.channelCall),this.on("reset",this.channelCall),this.on("add",this.channelCall)},channelCall:function(){var e=u.default.channel("facade");e.trigger("changed:task")},load_from_catalog:function(e){var t=(0,r.ajax_call)(this.url()+"?action=load_from_catalog",{sale_product_group_ids:e},"POST");t.then(this.fetch.bind(this))},ht:function(){var e=0;return this.each(function(t){e+=t.ht()}),e},tvaParts:function(){var t={};return this.each(function(n){var i=n.tvaParts();e.each(i,function(e,n){n in t&&(e+=t[n]),t[n]=e})}),t},ttc:function(){var e=0;return this.each(function(t){e+=t.ttc()}),e},validate:function(){var t={};return this.each(function(n){var i=n.validate();i&&e.extend(t,i)}),0===this.models.length&&(t.groups="Veuillez ajouter au moins un ouvrage",this.trigger("validated:invalid",this,{groups:"Veuillez ajouter au moins un ouvrage"})),t}});t.default=c}).call(t,n(3))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),s=i(a),o=n(54),l=i(o),r=n(4),d=i(r),u=n(6),c=n(31),h=i(c),f=h.default.extend({model:l.default,initialize:function(e){f.__super__.initialize.apply(this,e),this.on("remove",this.channelCall),this.on("sync",this.channelCall),this.on("reset",this.channelCall),this.on("add",this.channelCall)},channelCall:function(){var e=d.default.channel("facade");e.trigger("changed:task")},load_from_catalog:function(e){var t=(0,u.ajax_call)(this.url+"?action=load_from_catalog",{sale_product_ids:e},"POST");t.then(this.fetch.bind(this))},ht:function(){var e=0;return this.each(function(t){e+=t.ht()}),e},tvaParts:function(){var e={};return this.each(function(t){var n=t.tva(),i=t.get("tva");i in e&&(n+=e[i]),e[i]=n}),e},ttc:function(){var e=0;return this.each(function(t){e+=t.ttc()}),e},validate:function(){var e={};return this.each(function(t){var n=t.validate();n&&s.default.extend(e,n)}),e}});t.default=f},function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=i(a),o=n(7),l=n(4),r=i(l),d=s.default.Model.extend({initialize:function(){d.__super__.initialize.apply(this,arguments);var e=r.default.channel("config");this.tva_options=e.request("get:options","tvas")},getTvaLabel:function(t,n){var i={value:(0,o.formatAmount)(t,!0),label:"Tva Inconnue"};return e.each(this.tva_options,function(e){e.value==n&&(i.label=e.name)}),i},tva_labels:function(){var t=[],n=this;return e.each(this.get("tvas"),function(e,i){t.push(n.getTvaLabel(e,i))}),t}});t.default=d}).call(t,n(3))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),s=i(a),o=n(1),l=i(o),r=n(33),d=i(r),u=n(35),c=i(u),h=l.default.CollectionView.extend({childTemplates:{anchor:d.default,toggle:c.default},tagName:"div",childView:function(e){var t=this.childTemplates[e.get("widget")];return s.default.isUndefined(t)&&console.log("Error : invalid widget type %s",e.get("widget")),t}});t.default=h},function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=s.default.View.extend({template:n(169),tagName:"footer",className:"sticky-footer hidden-md hidden-lg text-center",ui:{buttons:"button"},events:{"click @ui.buttons":"onButtonClick"},templateContext:function(){return{buttons:this.getOption("actions").status}},onButtonClick:function(t){var n=e(t.target),i=n.data("status"),a=n.data("title"),s=n.data("label"),o=n.data("url");this.triggerMethod("status:change",i,a,s,o)}});t.default=o}).call(t,n(5))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),s=(i(a),n(1)),o=i(s),l=(n(6),n(9)),r=i(l),d=n(58),u=i(d),c=n(21),h=i(c),f=n(13),p=i(f),m=n(12),v=(i(m),n(4)),g=i(v),_=n(11),b=i(_),y=n(171),w=o.default.View.extend({behaviors:[{behaviorClass:r.default,errorMessage:"Vérifiez votre saisie"}],tagName:"div",className:"form-section",template:y,fields:["date","address","description","workplace","mentions"],regions:{errors:".errors",date:".date",description:".description",address:".address",workplace:".workplace",mentions:".mentions"},childViewTriggers:{change:"data:modified",finish:"data:persist"},modelEvents:{"validated:invalid":"showErrors","validated:valid":"hideErrors"},initialize:function(){var e=g.default.channel("facade");this.listenTo(e,"bind:validation",this.bindValidation),this.listenTo(e,"unbind:validation",this.unbindValidation),this.mentions_options=g.default.channel("config").request("get:options","mentions")},showErrors:function(e,t){this.$el.addClass("error")},hideErrors:function(e){this.$el.removeClass("error")},bindValidation:function(){b.default.bind(this)},unbindValidation:function(){b.default.unbind(this)},getMentionIds:function(){var e=this.model.get("mentions");return e},isMoreSet:function(){var e=this.getMentionIds();return e.length>0||!!this.model.get("workplace")},templateContext:function(){return{is_more_set:this.isMoreSet()}},onRender:function(){this.showChildView("date",new h.default({date:this.model.get("date"),title:"Date",field_name:"date"})),this.showChildView("address",new p.default({title:"Adresse du client",value:this.model.get("address"),field_name:"address",rows:5})),this.showChildView("description",new p.default({title:"Objet du document",value:this.model.get("description"),field_name:"description",rows:3})),this.showChildView("workplace",new p.default({title:"Lieu des travaux",value:this.model.get("workplace"),field_name:"workplace",rows:3}));var e=new u.default({options:this.mentions_options,value:this.getMentionIds(),title:"Mentions facultatives",description:"Choisissez les mentions à ajouter au document",field_name:"mentions"});this.showChildView("mentions",e)}});t.default=w},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(30),l=i(o),r=n(109),d=i(r),u=n(110),c=i(u),h=n(32),f=i(h),p=n(14),m=s.default.View.extend({tagName:"div",className:"form-section discount-group",template:n(172),regions:{lines:".lines",modalRegion:".modalregion",errors:".block-errors"},ui:{add_button:"button.btn-add"},triggers:{"click @ui.add_button":"line:add"},childViewEvents:{"line:edit":"onLineEdit","line:delete":"onLineDelete","destroy:modal":"render","insert:percent":"onInsertPercent"},collectionEvents:{change:"hideErrors"},initialize:function(e){this.collection=e.collection,this.model=e.model,this.listenTo(this.collection,"validated:invalid",this.showErrors),this.listenTo(this.collection,"validated:valid",this.hideErrors.bind(this))},showErrors:function(e,t){this.detachChildView("errors"),this.showChildView("errors",new f.default({errors:t})),this.$el.addClass("error")},hideErrors:function(e){this.detachChildView("errors"),this.$el.removeClass("error")},isEmpty:function(){return 0===this.collection.length},onLineAdd:function(){var e=new l.default;this.showDiscountLineForm(e,"Ajouter la remise",!1)},onLineEdit:function(e){this.showDiscountLineForm(e.model,"Modifier la remise",!0)},showDiscountLineForm:function(e,t,n){var i=new c.default({model:e,title:t,destCollection:this.collection,edit:n});this.showChildView("modalRegion",i)},onDeleteSuccess:function(){(0,p.displayServerSuccess)("Vos données ont bien été supprimées")},onDeleteError:function(){(0,p.displayServerError)("Une erreur a été rencontrée lors de la suppression de cet élément");
},onLineDelete:function(e){var t=window.confirm("Êtes-vous sûr de vouloir supprimer cette remise ?");t&&e.model.destroy({success:this.onDeleteSuccess,error:this.onDeleteError})},onInsertPercent:function(e){this.collection.insert_percent(e),this.getChildView("modalRegion").triggerMethod("modal:close")},templateContext:function(){return{not_empty:!this.isEmpty()}},onRender:function(){this.isEmpty()||this.showChildView("lines",new d.default({collection:this.collection}))}});t.default=m},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(4),l=i(o),r=n(113),d=i(r),u=n(11),c=i(u),h=s.default.CollectionView.extend({tagName:"div",className:"col-xs-12",childView:d.default,childViewTriggers:{edit:"line:edit",delete:"line:delete"},initialize:function(e){var t=l.default.channel("facade");this.listenTo(t,"bind:validation",this.bindValidation),this.listenTo(t,"unbind:validation",this.unbindValidation),this.listenTo(this.collection,"validated:invalid",this.showErrors),this.listenTo(this.collection,"validated:valid",this.hideErrors.bind(this))},showErrors:function(e,t){this.$el.addClass("error")},hideErrors:function(e){this.$el.removeClass("error")},bindValidation:function(){c.default.bind(this)},unbindValidation:function(){c.default.unbind(this)}});t.default=h},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(15),l=i(o),r=n(111),d=i(r),u=n(99),c=i(u),h=n(112),f=i(h),p=n(6),m=n(173),v=s.default.View.extend({behaviors:[l.default],template:m,regions:{"simple-form":".simple-form","percent-form":".percent-form"},childViewTriggers:{"cancel:form":"modal:close","success:sync":"modal:close","insert:percent":"insert:percent"},onModalBeforeClose:function(){this.model.rollback()},isAddView:function(){return!(0,p.getOpt)(this,"edit",!1)},onRender:function(){this.showChildView("simple-form",new d.default({model:this.model,title:this.getOption("title"),destCollection:this.getOption("destCollection")})),this.isAddView()&&this.showChildView("percent-form",new f.default({title:this.getOption("title"),model:new c.default,destCollection:this.getOption("destCollection")}))},templateContext:function(){return{title:this.getOption("title"),add:this.isAddView()}}});t.default=v},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(12),l=i(o),r=n(17),d=i(r),u=n(13),c=i(u),h=n(9),f=i(h),p=(n(6),n(4)),m=i(p),v=n(174),g=s.default.View.extend({behaviors:[f.default],template:v,regions:{order:".order",description:".description",amount:".amount",tva:".tva"},childViewTriggers:{change:"data:modified"},initialize:function(){var e=m.default.channel("config");this.tva_options=e.request("get:options","tvas")},onRender:function(){this.showChildView("order",new l.default({value:this.model.get("order"),field_name:"order",type:"hidden"})),this.showChildView("description",new c.default({value:this.model.get("description"),title:"Description",field_name:"description",tinymce:!0,cid:this.model.cid})),this.showChildView("amount",new l.default({value:this.model.get("amount"),title:"Montant",field_name:"amount",addon:"€"})),this.showChildView("tva",new d.default({options:this.tva_options,title:"TVA",value:this.model.get("tva"),id_key:"value",field_name:"tva"}))},templateContext:function(){return{title:this.getOption("title")}}});t.default=g},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(13),l=i(o),r=n(12),d=i(r),u=n(30),c=(i(u),n(25)),h=i(c),f=s.default.View.extend({behaviors:[h.default],template:n(175),regions:{description:".description",percentage:".percentage"},ui:{form:"form",submit:"button[type=submit]",btn_cancel:"button[type=reset]"},triggers:{"click @ui.btn_cancel":"cancel:form"},childViewTriggers:{change:"data:modified"},events:{"submit @ui.form":"onSubmit"},onSubmit:function(e){e.preventDefault(),this.triggerMethod("insert:percent",this.model)},onRender:function(){this.showChildView("description",new l.default({title:"Description",field_name:"description",tinymce:!0,cid:"11111"})),this.showChildView("percentage",new d.default({title:"Pourcentage",field_name:"percentage",addon:"%"}))},templateContext:function(){return{title:this.getOption("title")}}});t.default=f},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),s=i(a),o=n(1),l=i(o),r=n(7),d=n(4),u=i(d),c=n(176),h=l.default.View.extend({template:c,ui:{edit_button:"button.edit",delete_button:"button.delete"},triggers:{"click @ui.edit_button":"edit","click @ui.delete_button":"delete"},modelEvents:{change:"render"},initialize:function(){var e=u.default.channel("config");this.tva_options=e.request("get:options","tvas")},getTvaLabel:function(){var e="",t=this.model.get("tva");return s.default.each(this.tva_options,function(n){n.value==t&&(e=n.name)}),e},templateContext:function(){return{ht:(0,r.formatAmount)(this.model.ht()),tva_label:this.getTvaLabel()}}});t.default=h},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(9),l=i(o),r=n(59),d=i(r),u=s.default.View.extend({template:n(177),fields:["display_units"],behaviors:[l.default],regions:{content:"div"},childViewTriggers:{change:"data:modified",finish:"data:persist"},onRender:function(){var e=this.model.get("display_units"),t=!1;1!=e&&"1"!=e||(t=!0),console.log(this.model),this.showChildView("content",new d.default({title:"",label:"Afficher le détail des prestations dans le PDF",description:"Le prix unitaire et la quantité seront affichés dans le PDF",field_name:"display_units",checked:t,value:this.model.get("display_units")}))}});t.default=u},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var s,o=n(1),l=i(o),r=n(9),d=i(r),u=n(12),c=i(u),h=n(179),f=l.default.View.extend((s={template:h,behaviors:[{behaviorClass:d.default,errorMessage:"Vérifiez votre saisie"}],tagName:"div",className:"form-section"},a(s,"template",h),a(s,"regions",{expenses_ht:".expenses_ht"}),a(s,"childViewTriggers",{change:"data:modified",finish:"data:persist"}),a(s,"initialize",function(e){this.section=e.section}),a(s,"onRender",function(){this.showChildView("expenses_ht",new c.default({title:"Frais forfaitaires (HT)",value:this.model.get("expenses_ht"),field_name:"expenses_ht"}))}),s));t.default=f},function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),s=(i(a),n(1)),o=i(s),l=(n(6),n(9)),r=i(l),d=n(58),u=(i(d),n(59)),c=i(u),h=n(21),f=(i(h),n(13)),p=(i(f),n(12)),m=i(p),v=n(128),g=i(v),_=n(4),b=i(_),y=n(180),w=o.default.View.extend({behaviors:[{behaviorClass:r.default,errorMessage:"Vérifiez votre saisie"}],tagName:"div",className:"form-section",template:y,regions:{status_history:".status_history",name:".name",course:".course",financial_year:".financial_year"},childViewTriggers:{change:"data:modified",finish:"data:persist"},initialize:function(e){this.section=e.section,this.attachments=b.default.channel("facade").request("get:attachments")},templateContext:function(){return{attachments:this.attachments}},showStatusHistory:function(){var e=b.default.channel("facade").request("get:status_history_collection");if(e.models.length>0){var t=new g.default({collection:e});this.showChildView("status_history",t)}},onRender:function(){this.showStatusHistory(),this.showChildView("name",new m.default({title:"Nom du document",value:this.model.get("name"),field_name:"name"})),this.showChildView("course",new c.default({label:"Ce document concerne-t-il une formation professionelle continue ?",title:"Formation professionnelle",value:this.model.get("course"),field_name:"course"})),e.has(this.section,"financial_year")&&this.showChildView("financial_year",new m.default({title:"Année comptable de référence",value:this.model.get("financial_year"),field_name:"financial_year"}))}});t.default=w}).call(t,n(3))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(7),l=n(34),r=i(l),d=s.default.View.extend({template:n(62),regions:{line:{el:".line",replaceElement:!0}},modelEvents:{change:"render"},onRender:function(){var e=(0,o.formatAmount)(this.model.get("ht_before_discounts"),!1),t=new r.default({label:"Total HT avant remise",values:e});this.showChildView("line",t)}});t.default=d},function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(4),l=i(o),r=n(116),d=i(r),u=n(107),c=i(u),h=n(130),f=i(h),p=n(117),m=i(p),v=n(108),g=i(v),_=n(115),b=i(_),y=n(138),w=i(y),k=n(119),x=i(k),M=n(121),D=i(M),C=n(120),O=i(C),V=n(126),T=i(V),S=n(129),E=i(S),P=n(106),A=i(P),I=n(63),F=i(I),j=n(32),N=i(j),L=n(6),q=n(181),R=s.default.View.extend({template:q,regions:{errors:".errors",modalRegion:"#modalregion",general:"#general",common:"#common",tasklines:"#tasklines",discounts:"#discounts",expenses_ht:"#expenses_ht",rightbar:"#rightbar",ht_before_discounts:".ht_before_discounts",totals:".totals",notes:".notes",payment_conditions:".payment-conditions",payments:".payments",footer:{el:".footer-actions",replaceElement:!0}},childViewEvents:{"status:change":"onStatusChange"},initialize:function(e){this.config=l.default.channel("config"),this.facade=l.default.channel("facade")},showGeneralBlock:function(){var e=this.config.request("get:form_section","general"),t=this.facade.request("get:model","common"),n=new d.default({model:t,section:e});this.showChildView("general",n)},showCommonBlock:function(){var e=this.config.request("get:form_section","common"),t=this.facade.request("get:model","common"),n=new c.default({model:t,section:e});this.showChildView("common",n)},showTaskGroupBlock:function(){var e=this.config.request("get:form_section","tasklines"),t=this.facade.request("get:model","common"),n=this.facade.request("get:collection","task_groups"),i=new f.default({collection:n,section:e,model:t});this.showChildView("tasklines",i)},showDiscountBlock:function(){var e=this.config.request("get:form_section","discounts"),t=this.facade.request("get:collection","discounts"),n=this.facade.request("get:model","common"),i=new g.default({collection:t,model:n,section:e});this.showChildView("discounts",i)},showExpenseHtBlock:function(){var e=this.config.request("get:form_section","expenses_ht"),t=this.facade.request("get:model","common"),n=new b.default({model:t,section:e});this.showChildView("expenses_ht",n)},showNotesBlock:function(){var e=this.config.request("get:form_section","notes"),t=this.facade.request("get:model","common"),n=new x.default({model:t,section:e});this.showChildView("notes",n)},showPaymentConditionsBlock:function(){var e=(this.config.request("get:form_section","payment_conditions"),this.facade.request("get:model","common")),t=new D.default({model:e});this.showChildView("payment_conditions",t)},showPaymentBlock:function(){var e=this.config.request("get:form_section","payments"),t=this.facade.request("get:model","common"),n=this.facade.request("get:paymentcollection"),i=new O.default({model:t,collection:n,section:e});this.showChildView("payments",i)},showLogin:function(){var e=new F.default({});this.showChildView("modalRegion",e)},onRender:function(){var e,t=this.facade.request("get:totalmodel");this.config.request("has:form_section","general")&&this.showGeneralBlock(),this.config.request("has:form_section","common")&&this.showCommonBlock(),this.config.request("has:form_section","tasklines")&&this.showTaskGroupBlock(),this.config.request("has:form_section","discounts")&&(e=new m.default({model:t}),this.showChildView("ht_before_discounts",e),this.showDiscountBlock()),this.config.request("has:form_section","expenses_ht")&&this.showExpenseHtBlock(),e=new w.default({model:t}),this.showChildView("totals",e),this.config.request("has:form_section","notes")&&this.showNotesBlock(),this.config.request("has:form_section","payment_conditions")&&this.showPaymentConditionsBlock(),this.config.request("has:form_section","payments")&&this.showPaymentBlock(),e=new T.default({actions:this.config.request("get:form_actions"),model:t}),this.showChildView("rightbar",e),e=new A.default({actions:this.config.request("get:form_actions")}),this.showChildView("footer",e)},showStatusView:function(e,t,n,i){var a=this.facade.request("get:model","common"),s=new E.default({status:e,title:t,label:n,model:a,url:i});this.showChildView("modalRegion",s)},formOk:function(){var t=!0,n=this.facade.request("is:valid");return e.isEmpty(n)?this.detachChildView("errors"):(this.showChildView("errors",new N.default({errors:n})),t=!1),t},onStatusChange:function(e,t,n,i){if((0,L.showLoader)(),"draft"!=e&&!this.formOk())return document.body.scrollTop=document.documentElement.scrollTop=0,void(0,L.hideLoader)();(0,L.hideLoader)();var a=this.facade.request("get:model","common"),s=this;a.save(null,{patch:!0,success:function(){s.showStatusView(e,t,n,i)},error:function(){(0,L.hideLoader)()}})},onChildviewDestroyModal:function(){this.getRegion("modalRegion").empty()}});t.default=R}).call(t,n(3))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(9),l=i(o),r=n(13),d=i(r),u=n(182),c=s.default.View.extend({tagName:"div",className:"form-section",template:u,regions:{exclusions:".exclusions"},behaviors:[{behaviorClass:l.default,errorMessage:"Vérifiez votre saisie"}],childViewTriggers:{change:"data:modified",finish:"data:persist"},isMoreSet:function(){return!!this.model.get("exclusions")},templateContext:function(){return{is_more_set:this.isMoreSet()}},onRender:function(){var e=new d.default({title:"Notes",description:"Notes complémentaires concernant les prestations décrites",field_name:"exclusions",value:this.model.get("exclusions")});this.showChildView("exclusions",e)}});t.default=c},function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(17),l=i(o),r=n(13),d=(i(r),n(6),n(9)),u=i(d),c=n(125),h=i(c),f=n(4),p=i(f),m=n(11),v=i(m),g=n(183),_=s.default.View.extend({behaviors:[u.default],tagName:"div",className:"form-section",template:g,regions:{payment_display:".payment_display-container",payment_times:".payment_times-container",deposit:".payment-deposit-container",lines:".payment-lines-container"},modelEvents:{"change:payment_times":"onPaymentTimesChange","change:paymentDisplay":"onPaymentDisplayChange"},childViewEvents:{finish:"onFinish"},initialize:function(e){this.collection=e.collection;var t=p.default.channel("config");this.payment_display_options=t.request("get:options","payment_displays"),this.deposit_options=t.request("get:options","deposits"),this.payment_times_options=t.request("get:options","payment_times"),t=p.default.channel("facade"),this.listenTo(t,"bind:validation",this.bindValidation),this.listenTo(t,"unbind:validation",this.unbindValidation)},bindValidation:function(){v.default.bind(this)},unbindValidation:function(){v.default.unbind(this)},onPaymentTimesChange:function(e,t){var n=e.previous("payment_times");console.log("Old value was %s",n),t!=-1&&n!=-1||this.renderTable()},onPaymentDisplayChange:function(t,n){var i=t.previous("paymentDisplay");console.log("Old value was %s",i),i!=n&&e.indexOf([n,i],"ALL_NO_DATE")!=-1&&this.renderTable()},onFinish:function(e,t){if("paymentDisplay"==e){var n=this.model.get("paymentDisplay");this.triggerMethod("data:persist","paymentDisplay",t)}else if("payment_times"==e){var n=this.model.get("payment_times");if(n!=t)if(t!=-1){var i=this,a=this.collection.genPaymentLines(t,this.model.get("deposit"));a.then(function(){i.triggerMethod("data:persist",e,t)})}else this.triggerMethod("data:persist",e,t)}else if("deposit"==e){var n=this.model.get("deposit");n!=t&&this.triggerMethod("data:persist",e,t)}},renderTable:function(){var e=!1;this.model.get("payment_times")==-1&&(e=!0);var t=!0;"ALL_NO_DATE"==this.model.get("paymentDisplay")&&(t=!1),this.tableview=new h.default({collection:this.collection,model:this.model,edit:e,show_date:t}),this.showChildView("lines",this.tableview)},onRender:function(){this.showChildView("payment_display",new l.default({options:this.payment_display_options,title:"Affichage des paiements",field_name:"paymentDisplay",id_key:"value",value:this.model.get("paymentDisplay")})),this.showChildView("deposit",new l.default({options:this.deposit_options,title:"Acompte à la commande",field_name:"deposit",id_key:"value",value:this.model.get("deposit")})),this.showChildView("payment_times",new l.default({options:this.payment_times_options,title:"Paiement en",field_name:"payment_times",id_key:"value",value:this.model.get("payment_times")})),this.renderTable()}});t.default=_}).call(t,n(3))},function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(17),l=i(o),r=n(13),d=i(r),u=n(6),c=n(9),h=i(c),f=n(4),p=i(f),m=n(11),v=i(m),g=n(184),_=s.default.View.extend({behaviors:[h.default],tagName:"div",className:"form-section",template:g,regions:{errors:".errors",predefined_conditions:".predefined-conditions",conditions:".conditions"},modelEvents:{"change:payment_conditions":"render","validated:invalid":"showErrors","validated:valid":"hideErrors"},childViewEvents:{finish:"onFinish"},initialize:function(){this.payment_conditions_options=p.default.channel("config").request("get:options","payment_conditions"),this.lookupDefault();var e=p.default.channel("facade");this.listenTo(e,"bind:validation",this.bindValidation),this.listenTo(e,"unbind:validation",this.unbindValidation)},bindValidation:function(){v.default.bind(this)},unbindValidation:function(){v.default.unbind(this)},showErrors:function(e,t){this.$el.addClass("error")},hideErrors:function(e){this.$el.removeClass("error")},onFinish:function(t,n){if("predefined_conditions"==t){var i=this.getCondition(n);this.model.set("predefined_conditions",n),e.isUndefined(i)||this.triggerMethod("data:persist","payment_conditions",i.label)}else this.triggerMethod("data:persist","payment_conditions",n)},getCondition:function(t){return e.find(this.payment_conditions_options,function(e){return e.id==t})},lookupDefault:function(){var t=(0,u.getDefaultItem)(this.payment_conditions_options);if(!e.isUndefined(t)){var n=this.model.get("payment_conditions");(e.isUndefined(n)||""==n.trim())&&(this.model.set("payment_conditions",t.label),this.model.save({payment_conditions:t.label},{patch:!0}))}},onRender:function(){var e=this.model.get("predefined_conditions");e=parseInt(e,10),this.showChildView("predefined_conditions",new l.default({options:this.payment_conditions_options,title:"",field_name:"predefined_conditions",id_key:"id",value:e,add_default:!0})),this.showChildView("conditions",new d.default({value:this.model.get("payment_conditions"),placeholder:"Conditions de paiement applicables à ce document",field_name:"payment_conditions"}))}});t.default=_}).call(t,n(3))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(7),l=s.default.View.extend({className:"row taskline",template:n(185),modelEvents:{"change:amount":"render"},templateContext:function(){return{show_date:this.getOption("show_date"),amount_label:(0,o.formatAmount)(this.model.get("amount"))}}});t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(56),l=i(o),r=s.default.CollectionView.extend({tagName:"div",className:"col-xs-12",childView:l.default,collectionEvents:{"change:reorder":"render"},childViewTriggers:{edit:"line:edit",delete:"line:delete"},childViewOptions:function(e){var t=this.getOption("edit");return{show_date:this.getOption("show_date"),edit:t}},onChildviewOrderUp:function(e){this.collection.moveUp(e.model)},onChildviewOrderDown:function(e){this.collection.moveDown(e.model)}});t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(12),l=i(o),r=n(13),d=i(r),u=n(22),c=i(u),h=(n(6),n(21)),f=i(h),p=n(186),m=s.default.View.extend({behaviors:[c.default],template:p,regions:{order:".order",description:".description",date:".date",amount:".amount"},onRender:function(){this.showChildView("order",new l.default({value:this.model.get("order"),field_name:"order",type:"hidden"}));var e=new d.default({field_name:"description",value:this.model.get("description"),title:"Intitulé"});this.showChildView("description",e),this.getOption("show_date")&&(e=new f.default({date:this.model.get("date"),title:"Date",field_name:"date"})),this.showChildView("date",e),this.getOption("edit_amount")&&(e=new l.default({field_name:"amount",value:this.model.get("amount"),title:"Montant"}),this.showChildView("amount",e))},templateContext:function(){return{title:this.getOption("title")}}});t.default=m},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(122),l=i(o),r=n(52),d=i(r),u=n(123),c=i(u),h=n(124),f=i(h),p=n(56),m=(i(p),n(4)),v=i(m),g=n(7),_=s.default.View.extend({template:n(187),regions:{lines:".paymentlines",modalRegion:".payment-line-modal-container",deposit:".deposit"},ui:{btn_add:".btn-add"},events:{"click @ui.btn_add":"onLineAdd"},childViewEvents:{"line:edit":"onLineEdit","line:delete":"onLineDelete","destroy:modal":"render"},initialize:function(e){this.collection=e.collection,this.message=v.default.channel("message"),this.facade=v.default.channel("facade"),this.totalmodel=this.facade.request("get:totalmodel"),this.depositmodel=new d.default({description:"Facture d'acompte",date:"À la commande",amount:this.collection.depositAmount(this.model.get("deposit"))}),this.listenTo(this.totalmodel,"change:ttc",this.updateDeposit.bind(this)),this.listenTo(this.facade,"update:payment_lines",this.updateDeposit.bind(this)),this.listenTo(this.model,"change:deposit",this.updateDeposit.bind(this)),this.edit=this.getOption("edit")},onLineAdd:function(){var e=new d.default({task_id:this.model.get("id"),order:this.collection.getMaxOrder()-1});this.showPaymentLineForm(e,"Ajouter une échéance",!1)},onLineEdit:function(e){this.showPaymentLineForm(e.model,"Modifier l'échéance",!0)},showPaymentLineForm:function(e,t,n){var i=!1;this.edit&&(i=!0,n&&e.isLast()&&(i=!1));var a=new f.default({model:e,title:t,destCollection:this.collection,edit:n,edit_amount:i,show_date:this.getOption("show_date")});this.showChildView("modalRegion",a)},onDeleteSuccess:function(){this.message.trigger("success","Vos données ont bien été supprimées")},onDeleteError:function(){this.message.trigger("error","Une erreur a été rencontrée lors de la suppression de cet élément")},onLineDelete:function(e){var t=window.confirm("Êtes-vous sûr de vouloir supprimer cette échéance ?");t&&e.model.destroy({success:this.onDeleteSuccess.bind(this),error:this.onDeleteError.bind(this)})},templateContext:function(){return{show_date:this.getOption("show_date"),show_add:this.getOption("edit")}},updateDeposit:function(){console.log("PaymentLineTableView.updateDeposit");var e=this.model.get("deposit"),t=this.collection.depositAmount(e);this.depositmodel.set({amount:t}),this.updateLines()},updateLines:function(){console.log("PaymentLineTableView.updateLines");var e=this.model.get("payment_times"),t=this.model.get("deposit");e=(0,g.strToFloat)(e),e>0?this.collection.genPaymentLines(e,t):this.collection.updateSold(t)},showDeposit:function(){var e=new l.default({model:this.depositmodel,show_date:this.getOption("show_date")});this.showChildView("deposit",e)},showLines:function(){this.showChildView("lines",new c.default({collection:this.collection,show_date:this.getOption("show_date"),edit:this.getOption("edit")}))},onRender:function(){this.showDeposit(),this.showLines()}});t.default=_},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),s=i(a),o=n(1),l=i(o),r=n(95),d=i(r),u=n(105),c=i(u),h=n(7),f=n(4),p=(i(f),n(189)),m=l.default.View.extend({regions:{container:".child-container"},ui:{buttons:"button"},events:{"click @ui.buttons":"onButtonClick"},modelEvents:{change:"render"},template:p,templateContext:function(){return{buttons:this.getOption("actions").status,ttc:(0,h.formatAmount)(this.model.get("ttc"),!0),ht:(0,h.formatAmount)(this.model.get("ht",!0)),ht_before:(0,h.formatAmount)(this.model.get("ht_before_discounts"),!1),tvas:this.model.tva_labels()}},onButtonClick:function(e){var t=(0,s.default)(e.target),n=t.data("status"),i=t.data("title"),a=t.data("label"),o=t.data("url");this.triggerMethod("status:change",n,i,a,o)},onRender:function(){var e=new d.default(this.getOption("actions").others);this.showChildView("container",new c.default({collection:e}))}});t.default=m},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(10),l=s.default.View.extend({tagName:"div",className:"row",template:n(190),templateContext:function(){return{date:(0,o.formatDate)(this.model.get("date"))}}}),r=s.default.CollectionView.extend({tagName:"div",className:"col-xs-12",childView:l});t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(4),l=(i(o),n(127)),r=i(l),d=s.default.View.extend({template:n(191),regions:{comments:".comments"},onRender:function(){var e=this.getOption("collection");this.showChildView("comments",new r.default({collection:e}))}});t.default=d},function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(15),l=i(o),r=n(6),d=n(4),u=(i(d),n(10)),c=n(192),h=s.default.View.extend({template:c,ui:{textarea:"textarea",btn_cancel:".cancel",submit:"button[type=submit]",form:"form"},behaviors:{modal:{behaviorClass:l.default}},events:{"click @ui.btn_cancel":"destroy","click @ui.submit":"onSubmit"},submitCallback:function(e){},submitErroCallback:function(t){(0,r.hideLoader)();var n="";t.responseJSON.errors&&e.each(t.responseJSON.errors,function(e,t){n+="   "+t+":"+e}),""==n&&(n="Votre document est incomplet, merci de vérifier votre saisie."),window.alert(n)},onSubmit:function(e){e.preventDefault();var t=(0,r.serializeForm)(this.getUI("form"));t.submit=this.getOption("status");var n=this.getOption("url");(0,r.showLoader)(),this.serverRequest=(0,r.ajax_call)(n,t,"POST"),this.serverRequest.then(this.submitCallback.bind(this),this.submitErroCallback.bind(this))},templateContext:function(){var e={title:this.getOption("title"),label:this.getOption("label"),status:this.getOption("status"),url:this.getOption("url"),ask_for_date:!1};if("valid"==this.getOption("status")){var t=this.getOption("model"),n=t.get("date"),i=new Date;n!=(0,u.dateToIso)(i)&&(e.ask_for_date=!0,n=(0,u.parseDate)(n),e.date=n.toLocaleDateString(),e.today=i.toLocaleDateString())}return e}});t.default=h}).call(t,n(3))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(53),l=i(o),r=n(131),d=i(r),u=n(132),c=i(u),h=n(14),f=n(32),p=i(f),m=n(114),v=i(m),g=s.default.View.extend({template:n(193),tagName:"div",className:"form-section",regions:{errors:".group-errors",container:".group-container",modalRegion:".group-modalregion",display_units_container:".display-units-container"},ui:{add_button:"button.add"},triggers:{"click @ui.add_button":"group:add"},childViewEvents:{"group:edit":"onGroupEdit","group:delete":"onGroupDelete","catalog:insert":"onCatalogInsert"},collectionEvents:{change:"hideErrors"},initialize:function(e){this.collection=e.collection,this.listenTo(this.collection,"validated:invalid",this.showErrors),this.listenTo(this.collection,"validated:valid",this.hideErrors.bind(this))},showErrors:function(e,t){this.detachChildView("errors"),this.showChildView("errors",new p.default({errors:t})),this.$el.addClass("error")},hideErrors:function(e){this.detachChildView("errors"),this.$el.removeClass("error")},onDeleteSuccess:function(){(0,h.displayServerSuccess)("Vos données ont bien été supprimées")},onDeleteError:function(){(0,h.displayServerError)("Une erreur a été rencontrée lors de la suppression de cet élément")},onGroupDelete:function(e){var t=window.confirm("Êtes-vous sûr de vouloir supprimer cet ouvrage ?");t&&e.model.destroy({success:this.onDeleteSuccess,error:this.onDeleteError})},onGroupEdit:function(e){this.showTaskGroupForm(e.model,"Modifier cet ouvrage")},onGroupAdd:function(){var e=new l.default({order:this.collection.getMaxOrder()+1});this.showTaskGroupForm(e,"Ajouter un ouvrage")},onEditGroup:function(e){var t=e.model;this.showTaskGroupForm(t,"Modifier cet ouvrage")},showTaskGroupForm:function(e,t){var n=new c.default({model:e,title:t,destCollection:this.collection});this.showChildView("modalRegion",n)},onCatalogInsert:function(e){this.collection.load_from_catalog(e),this.getChildView("modalRegion").triggerMethod("modal:close")},onChildviewDestroyModal:function(){this.detachChildView("modalRegion"),this.getRegion("modalRegion").empty()},onRender:function(){this.showChildView("display_units_container",new v.default({model:this.model})),this.showChildView("container",new d.default({collection:this.collection}))}});t.default=g},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(134),l=i(o),r=s.default.CollectionView.extend({tagName:"div",childView:l.default,collectionEvents:{"change:reorder":"render",sync:"render"},childViewTriggers:{edit:"group:edit",delete:"group:delete","catalog:insert":"catalog:insert"},onChildviewOrderUp:function(e){this.collection.moveUp(e.model)},onChildviewOrderDown:function(e){this.collection.moveDown(e.model)}});t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(12),l=i(o),r=n(13),d=i(r),u=n(22),c=i(u),h=n(6),f=n(55),p=i(f),m=n(60),v=i(m),g=n(194),_=s.default.View.extend({template:g,regions:{order:".order",title:".title",description:".description",catalog_container:"#catalog-container"},ui:{main_tab:"ul.nav-tabs li:first a"},behaviors:[c.default],childViewEvents:{"catalog:edit":"onCatalogEdit"},childViewTriggers:{"catalog:insert":"catalog:insert",change:"data:modified"},modelEvents:{"set:product_group":"refreshForm"},onCatalogEdit:function(e){this.model.loadProductGroup(e)},isAddView:function(){return!(0,h.getOpt)(this,"edit",!1)},templateContext:function(){return{title:this.getOption("title"),add:this.isAddView()}},refreshForm:function(){this.showChildView("order",new l.default({value:this.model.get("order"),field_name:"order",type:"hidden"})),this.showChildView("title",new l.default({value:this.model.get("title"),title:"Titre (optionnel)",description:"Titre de l'ouvrage tel qu'affiché dans la sortie pdf, laissez vide pour ne pas le faire apparaître",field_name:"title"})),this.showChildView("description",new d.default({value:this.model.get("description"),title:"Description (optionnel)",
field_name:"description",tinymce:!0,cid:this.model.cid})),this.isAddView()&&this.getUI("main_tab").tab("show")},onRender:function(){if(this.refreshForm(),this.isAddView()){this.showChildView("catalog_container",new v.default);var e=(0,h.ajax_call)(AppOption.load_catalog_url,{type:"sale_product_group"});e.done(this.onCatalogLoaded.bind(this))}},onCatalogLoaded:function(e){this.showChildView("catalog_container",new p.default({catalog:e,title:"Catalogue produit"}))}});t.default=_},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(7),l=n(34),r=i(l),d=s.default.View.extend({template:n(62),regions:{line:{el:".line",replaceElement:!0}},collectionEvents:{change:"render",remove:"render",add:"render"},onRender:function(){var e=(0,o.formatAmount)(this.collection.ht(),!1),t=new r.default({label:"Sous total HT",values:e});this.showChildView("line",t)}});t.default=d},function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(135),l=i(o),r=n(136),d=i(r),u=n(54),c=i(u),h=n(133),f=i(h),p=n(7),m=n(14),v=n(11),g=i(v),_=n(4),b=i(_),y=n(195),w=s.default.View.extend({tagName:"div",className:"taskline-group row",template:y,regions:{errors:".errors",lines:".lines",modalRegion:".modalregion",subtotal:".subtotal"},ui:{btn_add:".btn-add",up_button:"button.up",down_button:"button.down",edit_button:"button.edit",delete_button:"button.delete"},triggers:{"click @ui.up_button":"order:up","click @ui.down_button":"order:down","click @ui.edit_button":"edit","click @ui.delete_button":"delete"},events:{"click @ui.btn_add":"onLineAdd"},childViewEvents:{"line:edit":"onLineEdit","line:delete":"onLineDelete","catalog:insert":"onCatalogInsert","destroy:modal":"render"},initialize:function(e){this.collection=this.model.lines,this.listenTo(this.collection,"sync",this.showLines.bind(this));var t=b.default.channel("facade");this.listenTo(t,"bind:validation",this.bindValidation),this.listenTo(t,"unbind:validation",this.unbindValidation),this.listenTo(this.model,"validated:invalid",this.showErrors),this.listenTo(this.model,"validated:valid",this.hideErrors.bind(this))},isEmpty:function(){return 0===this.model.lines.length},showErrors:function(e,t){this.$el.addClass("error")},hideErrors:function(e){this.$el.removeClass("error")},bindValidation:function(){g.default.bind(this)},unbindValidation:function(){g.default.unbind(this)},showLines:function(){e.isNull(this.getChildView("lines"))||this.showChildView("lines",new l.default({collection:this.collection}))},onRender:function(){this.isEmpty()||this.showLines(),this.showChildView("subtotal",new f.default({collection:this.collection}))},onLineEdit:function(e){this.showTaskLineForm(e.model,"Modifier la prestation",!0)},onLineAdd:function(){var e=new c.default({task_id:this.model.get("id"),order:this.collection.getMaxOrder()+1});this.showTaskLineForm(e,"Définir une prestation",!1)},showTaskLineForm:function(e,t,n){var i=new d.default({model:e,title:t,destCollection:this.collection,edit:n});this.showChildView("modalRegion",i)},onDeleteSuccess:function(){(0,m.displayServerSuccess)("Vos données ont bien été supprimées")},onDeleteError:function(){(0,m.displayServerError)("Une erreur a été rencontrée lors de la suppression de cet élément")},onLineDelete:function(e){var t=window.confirm("Êtes-vous sûr de vouloir supprimer cette prestation ?");t&&e.model.destroy({success:this.onDeleteSuccess,error:this.onDeleteError})},onCatalogInsert:function(e){this.collection.load_from_catalog(e),this.getChildView("modalRegion").triggerMethod("modal:close")},onChildviewDestroyModal:function(){this.getRegion("modalRegion").empty()},templateContext:function(){var e=this.model.collection.getMinOrder(),t=this.model.collection.getMaxOrder(),n=this.model.get("order");return{not_is_empty:!this.isEmpty(),total_ht:(0,p.formatAmount)(this.model.ht(),!1),is_not_first:n!=e,is_not_last:n!=t}}});t.default=w}).call(t,n(3))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(137),l=i(o),r=s.default.CollectionView.extend({tagName:"div",className:"col-xs-12",childView:l.default,sort:!0,collectionEvents:{"change:reorder":"render"},childViewTriggers:{edit:"line:edit",delete:"line:delete"},onChildviewOrderUp:function(e){this.collection.moveUp(e.model)},onChildviewOrderDown:function(e){this.collection.moveDown(e.model)}});t.default=r},function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(6),l=n(7),r=n(12),d=i(r),u=n(17),c=i(u),h=n(13),f=i(h),p=n(22),m=i(p),v=n(55),g=i(v),_=n(60),b=i(_),y=n(4),w=i(y),k=n(196),x=s.default.View.extend({template:k,behaviors:[m.default],regions:{order:".order",description:".description",cost:".cost",quantity:".quantity",unity:".unity",tva:".tva",product_id:".product_id",catalog_container:"#catalog-container"},ui:{main_tab:"ul.nav-tabs li:first a"},childViewEvents:{"catalog:edit":"onCatalogEdit"},childViewTriggers:{"catalog:insert":"catalog:insert",change:"data:modified",finish:"data:modified"},modelEvents:{"set:product":"refreshForm","change:tva":"refreshProductSelect"},initialize:function(){var e=w.default.channel("config");this.workunit_options=e.request("get:options","workunits"),this.tva_options=e.request("get:options","tvas"),this.product_options=e.request("get:options","products"),this.section=e.request("get:form_section","tasklines")},onCatalogEdit:function(e){this.model.loadProduct(e)},isAddView:function(){return!(0,o.getOpt)(this,"edit",!1)},templateContext:function(){return{title:this.getOption("title"),add:this.isAddView()}},refreshForm:function(){this.showChildView("order",new d.default({value:this.model.get("order"),field_name:"order",type:"hidden"})),this.showChildView("description",new f.default({value:this.model.get("description"),title:"Intitulé des postes",field_name:"description",tinymce:!0,cid:this.model.cid})),this.showChildView("cost",new d.default({value:this.model.get("cost"),title:"Prix unitaire HT",field_name:"cost",addon:"€"})),this.showChildView("quantity",new d.default({value:this.model.get("quantity"),title:"Quantité",field_name:"quantity"})),this.showChildView("unity",new c.default({options:this.workunit_options,title:"Unité",value:this.model.get("unity"),field_name:"unity",id_key:"value"})),this.showChildView("tva",new c.default({options:this.tva_options,title:"TVA",value:this.model.get("tva"),field_name:"tva",id_key:"value"})),this.refreshProductSelect(),this.isAddView()&&this.getUI("main_tab").tab("show")},getTvaIdFromValue:function(t){return e.findWhere(this.tva_options,{value:(0,l.strToFloat)(t)})},getDefaultTva:function(){return e.findWhere(this.tva_options,{selected:!0})},refreshProductSelect:function(){if(e.has(this.section,"product")){var t,n=this.product_options,i=this.model.get("tva");if(e.isUndefined(i)||(t=this.getTvaIdFromValue(i)),e.isUndefined(t)){var a=this.getDefaultTva();e.isUndefined(a)||(n=e.where(this.product_options,{tva_id:a.id}))}else n=e.where(this.product_options,{tva_id:t.id});this.showChildView("product_id",new c.default({options:n,title:"Code produit",value:this.model.get("product_id"),field_name:"product_id",id_key:"id"}))}},onRender:function(){if(this.refreshForm(),this.isAddView()){this.showChildView("catalog_container",new b.default);var e=(0,o.ajax_call)(AppOption.load_catalog_url,{type:"sale_product"});e.done(this.onCatalogLoaded.bind(this))}},onCatalogLoaded:function(e){this.showChildView("catalog_container",new g.default({catalog:e,title:"Catalogue produit"}))}});t.default=x}).call(t,n(3))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),s=i(a),o=n(1),l=i(o),r=n(7),d=n(4),u=i(d),c=n(197),h=l.default.View.extend({tagName:"div",className:"row taskline",template:c,ui:{up_button:"button.up",down_button:"button.down",edit_button:"button.edit",delete_button:"button.delete"},triggers:{"click @ui.up_button":"order:up","click @ui.down_button":"order:down","click @ui.edit_button":"edit","click @ui.delete_button":"delete"},modelEvents:{change:"render"},initialize:function(){var e=u.default.channel("config");this.tva_options=e.request("get:options","tvas"),this.product_options=e.request("get:options","products")},getTvaLabel:function(){var e="",t=this.model.get("tva");return s.default.each(this.tva_options,function(n){n.value==t&&(e=n.name)}),e},getProductLabel:function(){var e="",t=this.model.get("product_id");return s.default.each(this.product_options,function(n){n.id==t&&(e=n.label)}),e},templateContext:function(){var e=this.model.collection.getMinOrder(),t=this.model.collection.getMaxOrder(),n=this.model.get("order");return{ht:(0,r.formatAmount)(this.model.ht(),!1),product:this.getProductLabel(),tva_label:this.getTvaLabel(),is_not_first:n!=e,is_not_last:n!=t}}});t.default=h},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=i(a),o=n(7),l=n(34),r=i(l),d=s.default.View.extend({template:n(198),regions:{ht:{el:".ht",replaceElement:!0},tvas:{el:".tvas",replaceElement:!0},ttc:{el:".ttc",replaceElement:!0}},modelEvents:{change:"render"},showHt:function(){var e=(0,o.formatAmount)(this.model.get("ht"),!0),t=new r.default({label:"Total HT",values:e});this.showChildView("ht",t)},showTvas:function(){var e=new r.default({values:this.model.tva_labels()});this.showChildView("tvas",e)},showTtc:function(){var e=(0,o.formatAmount)(this.model.get("ttc"),!0),t=new r.default({label:"Total TTC",values:e});this.showChildView("ttc",t)},onRender:function(){this.showHt(),this.showTvas(),this.showTtc()}});t.default=d},,,,,,,,,,,,function(e,t,n){var i=n(2);e.exports=(i.default||i).template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){return'<div class="modal-dialog login-dialog" role="document">\n\t<div class="modal-content">\n\t\t<form>\n          <div class="modal-header">\n            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n            <h4 class="modal-title">Authentification</h4>\n          </div>\n            <div class="modal-body">\n                <div class=\'icon\'>\n                    <i class=\'fa fa-user-circle\'></i>\n                </div>\n                <div class="errors alert alert-danger" style="display:none;"></div>\n                <div class="form-group  item-login item-login" title="" id="item-deformField1">\n                    <label for="deformField1" class="control-label required" id="req-deformField1">\n                        Identifiant\n                    </label>\n                    <input name="login" value="" id="deformField1" class=" form-control " type="text">\n                </div>\n                <div class="form-group   item-password" title="" id="item-deformField2">\n                    <label for="deformField2" class="control-label required" id="req-deformField2">\n                        Mot de passe\n                    </label>\n                    <input name="password" value="" id="deformField2" class=" form-control " type="password">\n                </div>\n                <div class="form-group   item-remember_me" title="" id="item-deformField4">\n                    <div class="checkbox">\n                        <label for="deformField4">\n                            <input name="remember_me" value="true" id="deformField4" type="checkbox">\n                            Rester connecté\n                        </label>\n                    </div>\n                </div>\n            </div>\n            <div class="modal-footer">\n            <button class=\'btn btn-primary btn-block\' type=\'submit\'>Connexion</button>\n            </div>\n        </form>\n\t</div><!-- /.modal-content -->\n</div><!-- /.modal-dialog -->\n'},useData:!0})},,,,,,,,,,,,,,,,,,,function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i){var a=this.lambda,s=this.escapeExpression;return"    <button\n        class='btn "+s(a(null!=e?e.css:e,e))+"'\n        data-url='"+s(a(null!=e?e.url:e,e))+"'\n        data-title='"+s(a(null!=e?e.title:e,e))+"'\n        data-label='"+s(a(null!=e?e.label:e,e))+"'\n        data-status='"+s(a(null!=e?e.status:e,e))+"'>\n    <i class='glyphicon glyphicon-"+s(a(null!=e?e.icon:e,e))+"'></i> <br />\n    "+s(a(null!=e?e.label:e,e))+"\n    </button>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,s="";return a=t.each.call(e,null!=e?e.buttons:e,{name:"each",hash:{},fn:this.program(1,i),inverse:this.noop,data:i}),null!=a&&(s+=a),s},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){return'<input class="form-control" name="catalog_search" placeholder="Nom ou référence" type="text" />\n<div class=\'tree\'>\n</div>\n<div class="form-group">\n    <div class="text-right">\n        <button class="btn btn-success primary-action edit-catalog" type="button">\n            Éditer comme un nouvel élément\n        </button>\n        <button class="btn btn-success secondary-action insert-catalog" type="button">\n            Insérer les éléments sélectionnés\n        </button>\n    </div>\n</div>\n'},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i){return"in"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,s="<h2>Entêtes du document</h2>\n<div class='content'>\n    <div class='errors'></div>\n    <form class='form' name='common' action=\"#\" onSubmit=\"return false;\">\n        <div class='row'>\n            <div class='col-md-6 col-xs-12'>\n                <div class='date'></div>\n                <div class='description'></div>\n            </div>\n            <div class='col-md-6 col-xs-12'>\n                <div class='address'></div>\n            </div>\n        </div>\n        <a\n            data-target='#common-more'\n            data-toggle='collapse'\n            aria-expanded=\"false\"\n            aria-controls=\"common-more\"\n            >\n            <i class='glyphicon glyphicon-plus-sign'></i> Plus d'options (Lieu des travaux, mentions facultatives ...)\n        </a>\n        <div class='collapse row ";return a=t.if.call(e,null!=e?e.is_more_set:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop,data:i}),null!=a&&(s+=a),s+"' id=\"common-more\">\n            <div class='col-md-6 col-xs-12'>\n                <div class='workplace'></div>\n            </div>\n            <div class='col-md-6 col-xs-12'>\n                <div class='mentions'>\n                </div>\n            </div>\n        </div>\n    </form>\n</div>\n"},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i){return"    <div class='row lines-header hidden-xs'>\n        <div class='col-md-3 col-sm-4'>Description</div>\n        <div class='col-md-3 ol-sm-2 col-xs-12'>Montant HT</div>\n        <div class='col-md-1 hidden-sm hidden-xs text-center'>TVA</div>\n        <div class='col-md-5 col-sm-6 col-xs-12 text-right'>Actions</div>\n    </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,s="<h2>Remises</h2>\n<div class='modalregion'></div>\n<div class='content'>\n    <div class='block-errors'></div>\n";return a=t.if.call(e,null!=e?e.not_empty:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop,data:i}),null!=a&&(s+=a),s+"    <div class='row lines'>\n    </div>\n    <div class='row'>\n        <div class='col-xs-11 text-right'>\n            <button type='button' class='btn btn-default btn-add'>\n                <i class='glyphicon glyphicon-plus-sign'></i> Ajouter une remise\n            </button>\n        </div>\n    </div>\n</div>\n"},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i){return'            <ul class="nav nav-tabs" role="tablist">\n                <li role="presentation" class="active">\n                    <a href="#main-discount-container"\n                        aria-controls="main-discount-container"\n                        role="tab"\n                        data-toggle="tab">\n                        Saisie d\'un montant\n                    </a>\n                </li>\n                <li role="presentation">\n                    <a href="#percentage-container"\n                        aria-controls="percentage-container"\n                        role="tab"\n                        data-toggle="tab">\n                        Remise en pourcentage\n                    </a>\n                </li>\n            </ul>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,s,o="function",l=t.helperMissing,r=this.escapeExpression,d='<div class="modal-dialog" role="document">\n\t<div class="modal-content">\n          <div class="modal-header">\n            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n            <h4 class="modal-title">'+r((s=null!=(s=t.title||(null!=e?e.title:e))?s:l,typeof s===o?s.call(e,{name:"title",hash:{},data:i}):s))+'</h4>\n          </div>\n          <div class="modal-body">\n';return a=t.if.call(e,null!=e?e.add:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop,data:i}),null!=a&&(d+=a),d+'            <div class=\'tab-content\'>\n                <div\n                    role="tabpanel"\n                    class="tab-pane fade in active simple-form"\n                    id="main-discount-container">\n                </div>\n                <div\n                    role="tabpanel"\n                    class="tab-pane percent-form"\n                    id="percentage-container">\n                </div>\n            </div>\n          </div>\n          <div class="modal-footer">\n          </div>\n\t</div><!-- /.modal-content -->\n</div><!-- /.modal-dialog -->\n'},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,s="function",o=t.helperMissing,l=this.escapeExpression;return"<form class='form'>\n    <div class='order'></div>\n    <div class='description'></div>\n    <div class='amount'></div>\n    <div class='tva'></div>\n    <button class='btn btn-success primary-action' type='submit' value='submit'>\n        "+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:o,typeof a===s?a.call(e,{name:"title",hash:{},data:i}):a))+"\n    </button>\n    <button class='btn btn-default secondary-action' type='reset' value='submit'>\n        Annuler\n    </button>\n</form>\n"},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,s="function",o=t.helperMissing,l=this.escapeExpression;return"<form>\n    <div class='description'></div>\n    <div class='percentage'></div>\n    <button class='btn btn-success primary-action' type='submit' value='submit'>\n    "+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:o,typeof a===s?a.call(e,{name:"title",hash:{},data:i}):a))+"\n    </button>\n    <button class='btn btn-default secondary-action' type='reset' value='submit'>\n    Annuler\n    </button>\n</form>\n"},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,s,o="function",l=t.helperMissing,r=this.escapeExpression,d="<div class='col-md-3 col-sm-4 col-xs-12 description'>";return s=null!=(s=t.description||(null!=e?e.description:e))?s:l,a=typeof s===o?s.call(e,{name:"description",hash:{},data:i}):s,null!=a&&(d+=a),d+="</div>\n<div class='col-md-3 col-sm-2 col-xs-12 amount'><b class='visible-xs text-left'>HT : ",s=null!=(s=t.ht||(null!=e?e.ht:e))?s:l,a=typeof s===o?s.call(e,{name:"ht",hash:{},data:i}):s,null!=a&&(d+=a),d+="</b><span class='hidden-xs'>",s=null!=(s=t.ht||(null!=e?e.ht:e))?s:l,a=typeof s===o?s.call(e,{name:"ht",hash:{},data:i}):s,null!=a&&(d+=a),d+"</span></div>\n<div class='col-md-1 hidden-sm hidden-xs text-center'>"+r((s=null!=(s=t.tva_label||(null!=e?e.tva_label:e))?s:l,typeof s===o?s.call(e,{name:"tva_label",hash:{},data:i}):s))+"</div>\n<div class='col-md-5 col-sm-6 col-xs-12 text-right actions'>\n    <button type='button' class='btn btn-default edit'>\n        <i class='glyphicon glyphicon-pencil'></i> <span class='hidden-xs'>Modifier</span>\n    </button>\n    <button type='button' class='btn btn-default delete'>\n        <i class='glyphicon glyphicon-trash'></i> <span class='hidden-xs'>Supprimer</span>\n    </button>\n</div>\n"},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){return"<div></div>\n"},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i){var a=this.lambda,s=this.escapeExpression;return"<li>"+s(a(e,e))+"</li>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,s="<ul>\n";return a=t.each.call(e,null!=e?e.errors:e,{name:"each",hash:{},fn:this.program(1,i),inverse:this.noop,data:i}),null!=a&&(s+=a),s+"</ul>\n"},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){return"<h2>Frais forfaitaires</h2>\n<div class='content'>\n    <div class='row'>\n        <form class='form-inline'>\n            <div class='col-xs-11 expenses_ht text-right'></div>\n        </form>\n    </div>\n</div>\n\n"},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i){var a,s="        <a\n                data-target='#files-more'\n                data-toggle='collapse'\n                aria-expanded=\"false\"\n                aria-controls=\"files-more\"\n                >\n                <i class='glyphicon glyphicon-plus-sign'></i>\n            Fichiers attachés\n        </a>\n        <div id=\"files-more\" class='collapse row'>\n        <div class='col-xs-12'>\n        <ul>\n";return a=t.each.call(e,null!=e?e.attachments:e,{name:"each",hash:{},fn:this.program(2,i),inverse:this.noop,data:i}),null!=a&&(s+=a),s+"        </ul>\n        </div>\n        </div>\n"},2:function(e,t,n,i){var a=this.lambda,s=this.escapeExpression;return"            <li>\n                <a href='/files/"+s(a(null!=e?e.id:e,e))+"' target='_blank'>\n                <i class='fa fa-file'></i> "+s(a(null!=e?e.label:e,e))+"\n                </a>\n            </li>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,s="<h2>Informations générales <small>Ces informations n'apparaissent pas dans le PDF</small></h2>\n<div class='content'>\n    <form class='form' name='common' action=\"#\" onSubmit=\"return false;\">\n        <div class='row'>\n            <div class='col-md-12 col-xs-12'>\n                <div class='name'></div>\n            </div>\n        </div>\n        <div class='row'>\n            <div class='col-md-6 col-xs-12'>\n                <div class='financial_year'></div>\n            </div>\n            <div class='col-md-6 col-md-6 col-xs-12'>\n                <div class='course'></div>\n            </div>\n        </div>\n    </form>\n    <div class='status_history'>\n    </div>\n";return a=t.if.call(e,null!=e?e.attachments:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop,data:i}),null!=a&&(s+=a),s+"</div>\n"},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){return"<div id='modalregion'>\n</div>\n<div class='container-fluid page-content'>\n    <div class='task-edit col-md-9 col-xs-12'>\n        <div class='errors'>\n        </div>\n        <div id='general'>\n        </div>\n        <div id='common'>\n        </div>\n        <div id='tasklines'>\n        </div>\n        <div class='ht_before_discounts'>\n        </div>\n        <div id='discounts'>\n        </div>\n        <div id='expenses_ht'>\n        </div>\n        <div class='totals'>\n        </div>\n        <div class='notes'>\n        </div>\n        <div class='payment-conditions'>\n        </div>\n        <div class='payments'>\n        </div>\n    </div>\n\n    <div class='task-desktop-actions col-md-3 hidden-sm hidden-xs'\n         id='rightbar'>\n    </div>\n</div>\n<footer class='footer-actions'></footer>\n"},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i){return"<i>\n        Note complémentaire\n        </i>\n"},3:function(e,t,n,i){return"        Note complémentaire\n"},5:function(e,t,n,i){return"in"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,s="<h3>\n    <a\n        data-target='#exclusions-more'\n        data-toggle='collapse'\n        aria-expanded=\"false\"\n        aria-controls=\"exclusions-more\"\n        >\n        <i class='glyphicon glyphicon-plus-sign'></i>\n            ";return a=t.if.call(e,null!=e?e.is_more_set:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.program(3,i),data:i}),null!=a&&(s+=a),s+="    </a>\n</h3>\n<div class='content'>\n    <div\n        class='collapse row ",a=t.if.call(e,null!=e?e.is_more_set:e,{name:"if",hash:{},fn:this.program(5,i),inverse:this.noop,data:i}),null!=a&&(s+=a),s+"'\n        id=\"exclusions-more\">\n        <hr />\n        <div class='exclusions'></div>\n    </div>\n</div>\n"},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){return"<h2>Paiements</h2>\n<div class='content'>\n    <div class='payment_display-container'></div>\n    <div class='payment-deposit-container'></div>\n    <div class='payment_times-container'></div>\n    <div class='payment-lines-container'></div>\n</div>\n"},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){return"<h2>Conditions de paiements</h2>\n<div class='content'>\n<div class='errors'>\n</div>\n    <div class='predefined-conditions'></div>\n    <div class='conditions'></div>\n</div>\n"},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i){var a,s,o="function",l=t.helperMissing,r="<div class='col-lg-4 col-md-4 col-sm-4 col-xs-12 description'>\n    <b>Facture d'acompte</b>\n</div>\n";return a=t.if.call(e,null!=e?e.show_date:e,{name:"if",hash:{},fn:this.program(2,i),inverse:this.noop,data:i}),null!=a&&(r+=a),r+="<div class='col-lg-3 col-md-3 col-sm4 col-xs-12 text-center'>",s=null!=(s=t.amount_label||(null!=e?e.amount_label:e))?s:l,a=typeof s===o?s.call(e,{name:"amount_label",hash:{},data:i}):s,null!=a&&(r+=a),r+"</div>\n<div class='col-lg-3 col-md-5 col-sm-7 text-right'>\n</div>\n"},2:function(e,t,n,i){return"<div class='col-md-2 col-sm-4 col-xs-12 date'> à la commmande </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,s="";return a=t.if.call(e,null!=e?e.amount:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop,data:i}),null!=a&&(s+=a),s},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,s="function",o=t.helperMissing,l=this.escapeExpression;return'<div class="modal-dialog" role="document">\n\t<div class="modal-content">\n        <form class=\'form taskline-form\'>\n            <div class="modal-header">\n              <button tabindex=\'-1\' type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n              <h4 class="modal-title">'+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:o,typeof a===s?a.call(e,{name:"title",hash:{},data:i}):a))+"</h4>\n            </div>\n            <div class=\"modal-body\">\n                <div class='order'></div>\n                <div class='description required'></div>\n                <div class='date required'></div>\n                <div class='amount required'></div>\n            </div>\n            <div class=\"modal-footer\">\n                <button\n                    class='btn btn-success primary-action'\n                    type='submit'\n                    value='submit'>\n                    "+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:o,typeof a===s?a.call(e,{name:"title",hash:{},data:i}):a))+"\n                </button>\n                <button\n                    class='btn btn-default secondary-action'\n                    type='reset'\n                    value='submit'>\n                    Annuler\n                </button>\n            </div>\n        </form>\n\t</div><!-- /.modal-content -->\n</div><!-- /.modal-dialog -->\n\n"},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i){return"<div class='col-md-2 col-sm-4 col-xs-12 date'>Date</div>\n"},3:function(e,t,n,i){return"    <div class='col-lg-3 col-md-5 col-sm-7 text-right actions'>Actions</div>\n"},5:function(e,t,n,i){return"    <div class='row actions'>\n        <div class='col-xs-11 text-right'>\n            <button type='button' class='btn btn-info btn-add'>\n                <i class='glyphicon glyphicon-plus-sign'></i> Ajouter une échéance\n            </button>\n        </div>\n    </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,s="<div class='payment-line-modal-container'></div>\n<div class='row lines-header hidden-xs'>\n    <div class='col-lg-4 col-md-4 col-sm-4 col-xs-12 description'>Libellé</div>\n";return a=t.if.call(e,null!=e?e.show_date:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop,data:i}),null!=a&&(s+=a),s+="    <div class='col-lg-3 col-md-3 col-sm4 col-xs-12 text-center'>Montant</div>\n",a=t.if.call(e,null!=e?e.show_add:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.noop,data:i}),null!=a&&(s+=a),s+="</div>\n<div class='row'>\n    <div class='deposit col-xs-12 lines'>\n    </div>\n</div>\n<div class='row lines paymentlines'>\n</div>\n",a=t.if.call(e,null!=e?e.show_add:e,{name:"if",hash:{},fn:this.program(5,i),inverse:this.noop,data:i}),null!=a&&(s+=a),s+"<div class='modalregion'></div>\n"},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i){var a,s="function",o=t.helperMissing,l=this.escapeExpression;return"<div class='col-md-2 col-sm-4 col-xs-12 date'>"+l((a=null!=(a=t.date||(null!=e?e.date:e))?a:o,typeof a===s?a.call(e,{name:"date",hash:{},data:i}):a))+" </div>\n"},3:function(e,t,n,i){return"    <button type='button' class='btn btn-default delete'>\n        <i class='glyphicon glyphicon-trash'></i> <span class='hidden-xs'>Supprimer</span>\n    </button>\n"},5:function(e,t,n,i){var a,s="";return a=t.if.call(e,null!=e?e.is_not_last:e,{name:"if",hash:{},fn:this.program(6,i),inverse:this.noop,data:i}),null!=a&&(s+=a),s},6:function(e,t,n,i){return"    <button type='button' class='btn btn-default btn-small up'>\n        <i class='glyphicon glyphicon-arrow-up'></i>\n    </button>\n    <br />\n"},8:function(e,t,n,i){var a,s="";return a=t.if.call(e,null!=e?e.is_not_before_last:e,{name:"if",hash:{},fn:this.program(9,i),inverse:this.noop,data:i}),null!=a&&(s+=a),s},9:function(e,t,n,i){return"    <button type='button' class='btn btn-default btn-small down'>\n        <i class='glyphicon glyphicon-arrow-down'></i>\n    </button>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,s,o="function",l=t.helperMissing,r="<div class='col-lg-4 col-md-4 col-sm-4 col-xs-12 description'>\n    ";return s=null!=(s=t.description||(null!=e?e.description:e))?s:l,a=typeof s===o?s.call(e,{name:"description",hash:{},data:i}):s,null!=a&&(r+=a),r+="\n</div>\n",a=t.if.call(e,null!=e?e.show_date:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop,data:i}),null!=a&&(r+=a),r+="<div class='col-lg-3 col-md-3 col-sm4 col-xs-12 text-center'>",s=null!=(s=t.amount||(null!=e?e.amount:e))?s:l,
a=typeof s===o?s.call(e,{name:"amount",hash:{},data:i}):s,null!=a&&(r+=a),r+="</div>\n<div class='col-lg-3 col-md-5 col-sm-7 text-right'>\n    <button type='button' class='btn btn-default edit'>\n        <i class='glyphicon glyphicon-pencil'></i> <span class='hidden-xs'>Modifier</span>\n    </button>\n",a=t.if.call(e,null!=e?e.is_not_last:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.noop,data:i}),null!=a&&(r+=a),a=t.if.call(e,null!=e?e.is_not_first:e,{name:"if",hash:{},fn:this.program(5,i),inverse:this.noop,data:i}),null!=a&&(r+=a),a=t.if.call(e,null!=e?e.is_not_last:e,{name:"if",hash:{},fn:this.program(8,i),inverse:this.noop,data:i}),null!=a&&(r+=a),r+"</div>\n"},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i){var a=this.lambda,s=this.escapeExpression;return"    <button\n        class='btn btn-block "+s(a(null!=e?e.css:e,e))+"'\n        title=\""+s(a(null!=e?e.title:e,e))+"\"\n        data-url='"+s(a(null!=e?e.url:e,e))+"'\n        data-title='"+s(a(null!=e?e.title:e,e))+"'\n        data-label='"+s(a(null!=e?e.label:e,e))+"'\n        data-status='"+s(a(null!=e?e.status:e,e))+"'>\n    <i class='glyphicon glyphicon-"+s(a(null!=e?e.icon:e,e))+"'></i>\n    "+s(a(null!=e?e.label:e,e))+"\n    </button>\n"},3:function(e,t,n,i){var a,s=this.lambda,o="    <div>\n        <div class='text-center'>\n            ";return a=s(null!=e?e.label:e,e),null!=a&&(o+=a),o+=" : ",a=s(null!=e?e.value:e,e),null!=a&&(o+=a),o+"\n        </div>\n    </div>\n    <hr />\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,s,o="function",l=t.helperMissing,r="<div>\n<h3 class='text-center'>Actions</h3>\n<hr />\n";return a=t.each.call(e,null!=e?e.buttons:e,{name:"each",hash:{},fn:this.program(1,i),inverse:this.noop,data:i}),null!=a&&(r+=a),r+="<hr />\n<div class='child-container'></div>\n</div>\n<div class='totals'>\n    <div>\n        <div class='text-center'>\n            Total HT avant remise : ",s=null!=(s=t.ht_before||(null!=e?e.ht_before:e))?s:l,a=typeof s===o?s.call(e,{name:"ht_before",hash:{},data:i}):s,null!=a&&(r+=a),r+="\n        </div>\n    </div>\n    <hr />\n    <div>\n        <div class='text-center'>\n            Total HT : ",s=null!=(s=t.ht||(null!=e?e.ht:e))?s:l,a=typeof s===o?s.call(e,{name:"ht",hash:{},data:i}):s,null!=a&&(r+=a),r+="\n        </div>\n    </div>\n    <hr />\n",a=t.each.call(e,null!=e?e.tvas:e,{name:"each",hash:{},fn:this.program(3,i),inverse:this.noop,data:i}),null!=a&&(r+=a),r+="    <div>\n        <div class='text-center'>\n            Total TTC : ",s=null!=(s=t.ttc||(null!=e?e.ttc:e))?s:l,a=typeof s===o?s.call(e,{name:"ttc",hash:{},data:i}):s,null!=a&&(r+=a),r+"\n        </div>\n    </div>\n</div>\n"},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i){var a,s="function",o=t.helperMissing,l=this.escapeExpression;return"<p>"+l((a=null!=(a=t.comment||(null!=e?e.comment:e))?a:o,typeof a===s?a.call(e,{name:"comment",hash:{},data:i}):a))+"</p>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,s,o="function",l=t.helperMissing,r=this.escapeExpression,d="<div class='col-xs-12'>\n<blockquote class='status_history_item'>\n";return a=t.if.call(e,null!=e?e.comment:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop,data:i}),null!=a&&(d+=a),d+"<footer>Statut : "+r((s=null!=(s=t.label||(null!=e?e.label:e))?s:l,typeof s===o?s.call(e,{name:"label",hash:{},data:i}):s))+" -  Le "+r((s=null!=(s=t.date||(null!=e?e.date:e))?s:l,typeof s===o?s.call(e,{name:"date",hash:{},data:i}):s))+" par "+r((s=null!=(s=t.account||(null!=e?e.account:e))?s:l,typeof s===o?s.call(e,{name:"account",hash:{},data:i}):s))+"</footer>\n</blockquote>\n</div>\n"},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){return"<a\n    data-target='#comments-more'\n    data-toggle='collapse'\n    aria-expanded=\"false\"\n    aria-controls=\"comments-more\"\n    >\n    <i class='glyphicon glyphicon-plus-sign'></i>\nHistorique des commentaires et changements de statut\n</a>\n<div id='comments-more' class='collapse row comments'>\n</div>\n"},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i){var a,s="function",o=t.helperMissing,l=this.escapeExpression;return"                        <div class='form-group'>\n                            <div class='alert alert-danger'><i class='glyphicon glyphicon-warning-sign'></i> La date du document diffère de la date du jour</div>\n                            <div class='radio'>\n                            <label>\n                                <input type=\"radio\" name=\"change_date\" value='1' checked> Mettre à la date d'aujourd'hui "+l((a=null!=(a=t.today||(null!=e?e.today:e))?a:o,typeof a===s?a.call(e,{name:"today",hash:{},data:i}):a))+"\n                            </label>\n                            </div>\n                            <div class='radio'>\n                            <label>\n                                <input type=\"radio\" name=\"change_date\" value='0'> Conserver la date "+l((a=null!=(a=t.date||(null!=e?e.date:e))?a:o,typeof a===s?a.call(e,{name:"date",hash:{},data:i}):a))+"\n                            </label>\n                            </div>\n                        </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,s,o="function",l=t.helperMissing,r=this.escapeExpression,d='<div class="modal-dialog" role="document">\n\t<div class="modal-content">\n\t  <form class=\'form\' data-url=\''+r((s=null!=(s=t.url||(null!=e?e.url:e))?s:l,typeof s===o?s.call(e,{name:"url",hash:{},data:i}):s))+'\' method=\'POST\'>\n          <div class="modal-header">\n            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n            <h4 class="modal-title">'+r((s=null!=(s=t.title||(null!=e?e.title:e))?s:l,typeof s===o?s.call(e,{name:"title",hash:{},data:i}):s))+'</h4>\n          </div>\n          <div class="modal-body">\n';return a=t.if.call(e,null!=e?e.ask_for_date:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop,data:i}),null!=a&&(d+=a),d+"                    <div class='form-group'>\n                        <label for='comment'>Commentaires</label>\n                        <textarea class='form-control' name='comment' rows=4></textarea>\n                    </div>\n          </div>\n          <div class=\"modal-footer\">\n            <button class='btn btn-success primary-action' type='submit' name='submit' value='"+r((s=null!=(s=t.status||(null!=e?e.status:e))?s:l,typeof s===o?s.call(e,{name:"status",hash:{},data:i}):s))+"'>"+r((s=null!=(s=t.label||(null!=e?e.label:e))?s:l,typeof s===o?s.call(e,{name:"label",hash:{},data:i}):s))+"</button>\n            <button class='btn btn-default secondary-action' data-dismiss='modal'>Annuler</button>\n          </div>\n\t  </form>\n\t</div><!-- /.modal-content -->\n</div><!-- /.modal-dialog -->\n"},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){return"<h2>Description des prestations</h2>\n<div class='content'>\n    <div class='display-units-container'></div>\n    <div class='group-errors'></div>\n    <div class='group-container'></div>\n    <div class='group-modalregion'></div>\n    <div class='actions text-right'>\n        <button class='btn btn-default add' type='button'>\n            <i class='glyphicon glyphicon-plus-sign'></i> Ajouter un ouvrage\n        </button>\n    </div>\n</div>\n"},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i){return'            <ul class="nav nav-tabs" role="tablist">\n                <li role="presentation" class="active">\n                    <a href="#form-container"\n                        aria-controls="form-container"\n                        role="tab"\n                        data-toggle="tab">\n                        Saisie libre\n                    </a>\n                </li>\n                <li role="presentation">\n                    <a href="#catalog-container"\n                        aria-controls="catalog-container"\n                        role="tab"\n                        data-toggle="tab">\n                        Depuis le catalogue\n                    </a>\n                </li>\n            </ul>\n'},3:function(e,t,n,i){return'                <div\n                    role="tabpanel"\n                    class="tab-pane"\n                    id="catalog-container">\n                </div>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,s,o="function",l=t.helperMissing,r=this.escapeExpression,d='<div class="modal-dialog" role="document">\n\t<div class="modal-content">\n          <div class="modal-header">\n            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n            <h4 class="modal-title">'+r((s=null!=(s=t.title||(null!=e?e.title:e))?s:l,typeof s===o?s.call(e,{name:"title",hash:{},data:i}):s))+'</h4>\n          </div>\n          <div class="modal-body">\n';return a=t.if.call(e,null!=e?e.add:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop,data:i}),null!=a&&(d+=a),d+="            <div class='tab-content'>\n                <div\n                    role=\"tabpanel\"\n                    class=\"tab-pane fade in active\"\n                    id=\"form-container\">\n                    <form class='form taskgroup-form'>\n                        <div class='order'></div>\n                        <div class='title'></div>\n                        <div class='description'></div>\n                        <button class='btn btn-success primary-action' type='submit' value='submit'>\n                            "+r((s=null!=(s=t.title||(null!=e?e.title:e))?s:l,typeof s===o?s.call(e,{name:"title",hash:{},data:i}):s))+"\n                        </button>\n                        <button class='btn btn-default secondary-action' type='reset' value='submit'>\n                            Annuler\n                        </button>\n                    </form>\n                </div>\n",a=t.if.call(e,null!=e?e.add:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.noop,data:i}),null!=a&&(d+=a),d+'            </div>\n          </div>\n          <div class="modal-footer">\n          </div>\n\t</div><!-- /.modal-content -->\n</div><!-- /.modal-dialog -->\n\n'},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i){return"                <button type='button' class='btn btn-default btn-small up' tabindex='-1'>\n                    <i class='glyphicon glyphicon-arrow-up'></i>\n                </button>\n                <br />\n"},3:function(e,t,n,i){return"                <button type='button' class='btn btn-default btn-small down' tabindex='-1'>\n                    <i class='glyphicon glyphicon-arrow-down'></i>\n                </button>\n"},5:function(e,t,n,i){var a,s="function",o=t.helperMissing,l=this.escapeExpression;return"            "+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:o,typeof a===s?a.call(e,{name:"title",hash:{},data:i}):a))+"\n"},7:function(e,t,n,i){return"            <small>Aucun titre n'a été saisi pour cet ouvrage</small>\n"},9:function(e,t,n,i){var a,s,o="function",l=t.helperMissing,r="            ";return s=null!=(s=t.description||(null!=e?e.description:e))?s:l,a=typeof s===o?s.call(e,{name:"description",hash:{},data:i}):s,null!=a&&(r+=a),r+"\n"},11:function(e,t,n,i){return"            <i>Aucune description n'a été saisie</i>\n"},13:function(e,t,n,i){return"    <div class='row lines-header hidden-xs'>\n        <div class='col-md-3 col-sm-4 '>Intitulé des postes</div>\n        <div class='col-md-1 hidden-sm hidden-xs text-center'>Prix unit. HT</div>\n        <div class='col-md-1 hidden-sm hidden-xs text-center'>Qté</div>\n        <div class='col-lg-1 hidden-sm hidden-xs hidden-md text-center'>Unité</div>\n        <div class='col-md-1 hidden-sm hidden-xs text-center'>Tva</div>\n        <div class='col-md-1 col-sm-1 text-center'>HT</div>\n        <div class='col-lg-1 hidden-sm hidden-xs hidden-md text-center'>Produit</div>\n        <div class='col-md-5 col-lg-3 col-sm-7 text-center'>Actions</div>\n    </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,s="<div class='col-xs-12'>\n    <div class='row'>\n        <div class='col-xs-12'>\n        <div class='errors'></div>\n            <div class='btn-group pull-right'>\n                <button\n                    type='button'\n                    class='btn btn-danger delete btn-small'\n                    title='Supprimer cet ouvrage'\n                    tabindex='-1'\n                    >\n                    <i class='glyphicon glyphicon-trash'></i>\n                </button>\n";return a=t.if.call(e,null!=e?e.is_not_first:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop,data:i}),null!=a&&(s+=a),a=t.if.call(e,null!=e?e.is_not_last:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.noop,data:i}),null!=a&&(s+=a),s+="            </div>\n        </div>\n        </div>\n        <div class='row'>\n        <div class='col-xs-12'>\n            <h4>\n",a=t.if.call(e,null!=e?e.title:e,{name:"if",hash:{},fn:this.program(5,i),inverse:this.program(7,i),data:i}),null!=a&&(s+=a),s+="            <button\n                type='button'\n                class='btn-nostyle edit btn-small'\n                title=\"Modifier cet ouvrage\"\n                tabindex='-1'\n                >\n                <i class='glyphicon glyphicon-pencil'></i>\n            </button>\n            </h4>\n            <p>\n",a=t.if.call(e,null!=e?e.description:e,{name:"if",hash:{},fn:this.program(9,i),inverse:this.program(11,i),data:i}),null!=a&&(s+=a),s+="            </p>\n        </div>\n    </div>\n\n",a=t.if.call(e,null!=e?e.not_is_empty:e,{name:"if",hash:{},fn:this.program(13,i),inverse:this.noop,data:i}),null!=a&&(s+=a),s+"    <div class='row lines'>\n    </div>\n    <div class='row actions'>\n        <div class='col-xs-11 text-right'>\n            <button type='button' class='btn btn-info btn-add'>\n                <i class='glyphicon glyphicon-plus-sign'></i> Ajouter une prestation\n            </button>\n        </div>\n    </div>\n    <div class='subtotal'>\n    </div>\n    <div class='modalregion'></div>\n</div>\n"},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i){return'            <ul class="nav nav-tabs" role="tablist">\n                <li role="presentation" class="active">\n                    <a href="#form-container"\n                        aria-controls="form-container"\n                        role="tab"\n                        data-toggle="tab"\n                        tabindex=\'-1\'\n                        >\n                        Saisie libre\n                    </a>\n                </li>\n                <li role="presentation">\n                    <a href="#catalog-container"\n                        aria-controls="catalog-container"\n                        role="tab"\n                        tabindex=\'-1\'\n                        data-toggle="tab">\n                        Depuis le catalogue\n                    </a>\n                </li>\n            </ul>\n'},3:function(e,t,n,i){return'                <div\n                    role="tabpanel"\n                    class="tab-pane"\n                    id="catalog-container">\n                </div>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,s,o="function",l=t.helperMissing,r=this.escapeExpression,d='<div class="modal-dialog" role="document">\n\t<div class="modal-content">\n        <div class="modal-header">\n            <button tabindex=\'-1\' type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n            <h4 class="modal-title">'+r((s=null!=(s=t.title||(null!=e?e.title:e))?s:l,typeof s===o?s.call(e,{name:"title",hash:{},data:i}):s))+'</h4>\n        </div>\n        <div class="modal-body">\n';return a=t.if.call(e,null!=e?e.add:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop,data:i}),null!=a&&(d+=a),d+="            <div class='tab-content'>\n                <div\n                    role=\"tabpanel\"\n                    class=\"tab-pane fade in active\"\n                    id=\"form-container\">\n                    <form class='form taskline-form'>\n                        <div class='order'></div>\n                        <div class='description required'></div>\n                        <div class='cost required'></div>\n                        <div class='quantity required'></div>\n                        <div class='unity'></div>\n                        <div class='tva required'></div>\n                        <div class='product_id'></div>\n                        <button\n                            class='btn btn-success primary-action'\n                            type='submit'\n                            value='submit'>\n                            "+r((s=null!=(s=t.title||(null!=e?e.title:e))?s:l,typeof s===o?s.call(e,{name:"title",hash:{},data:i}):s))+"\n                        </button>\n                        <button\n                            class='btn btn-default secondary-action'\n                            type='reset'\n                            value='submit'>\n                            Annuler\n                        </button>\n                    </form>\n                </div>\n",a=t.if.call(e,null!=e?e.add:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.noop,data:i}),null!=a&&(d+=a),d+'            </div>\n        </div>\n        <div class="modal-footer">\n        </div>\n\t</div><!-- /.modal-content -->\n</div><!-- /.modal-dialog -->\n'},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i){return"    <button type='button' class='btn btn-default btn-small up'>\n        <i class='glyphicon glyphicon-arrow-up'></i>\n    </button>\n    <br />\n"},3:function(e,t,n,i){return"    <button type='button' class='btn btn-default btn-small down'>\n        <i class='glyphicon glyphicon-arrow-down'></i>\n    </button>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,s,o="function",l=t.helperMissing,r=this.escapeExpression,d="<div class='col-md-3 col-sm-4 col-xs-12 description'>";return s=null!=(s=t.description||(null!=e?e.description:e))?s:l,a=typeof s===o?s.call(e,{name:"description",hash:{},data:i}):s,null!=a&&(d+=a),d+="</div>\n<div class='col-md-1 hidden-sm hidden-xs text-center'>"+r((s=null!=(s=t.cost||(null!=e?e.cost:e))?s:l,typeof s===o?s.call(e,{name:"cost",hash:{},data:i}):s))+"</div>\n<div class='col-md-1 hidden-sm hidden-xs text-center'>"+r((s=null!=(s=t.quantity||(null!=e?e.quantity:e))?s:l,typeof s===o?s.call(e,{name:"quantity",hash:{},data:i}):s))+"</div>\n<div class='col-lg-1 hidden-sm hidden-xs hidden-md text-center'>"+r((s=null!=(s=t.unity||(null!=e?e.unity:e))?s:l,typeof s===o?s.call(e,{name:"unity",hash:{},data:i}):s))+"</div>\n<div class='col-md-1 hidden-sm hidden-xs text-center'>"+r((s=null!=(s=t.tva_label||(null!=e?e.tva_label:e))?s:l,typeof s===o?s.call(e,{name:"tva_label",hash:{},data:i}):s))+"</div>\n<div class='col-md-1 col-sm-1 col-xs-12 text-center'><b class='visible-xs text-left'>HT : ",s=null!=(s=t.ht||(null!=e?e.ht:e))?s:l,a=typeof s===o?s.call(e,{name:"ht",hash:{},data:i}):s,null!=a&&(d+=a),d+="</b><span class='hidden-xs'>",s=null!=(s=t.ht||(null!=e?e.ht:e))?s:l,a=typeof s===o?s.call(e,{name:"ht",hash:{},data:i}):s,null!=a&&(d+=a),d+="</span></div>\n<div class='col-lg-1 hidden-sm hidden-xs hidden-md text-center'>",s=null!=(s=t.product||(null!=e?e.product:e))?s:l,a=typeof s===o?s.call(e,{name:"product",hash:{},data:i}):s,null!=a&&(d+=a),d+="</div>\n<div class='col-md-5 col-lg-3 col-sm-7 text-right'>\n    <button type='button' class='btn btn-default edit'>\n        <i class='glyphicon glyphicon-pencil'></i> <span class='hidden-xs'>Modifier</span>\n    </button>\n    <button type='button' class='btn btn-default delete'>\n        <i class='glyphicon glyphicon-trash'></i> <span class='hidden-xs'>Supprimer</span>\n    </button>\n",a=t.if.call(e,null!=e?e.is_not_first:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop,data:i}),null!=a&&(d+=a),a=t.if.call(e,null!=e?e.is_not_last:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.noop,data:i}),null!=a&&(d+=a),d+"</div>\n"},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){return"<div class='ht'></div>\n<div class='tvas'></div>\n<div class='ttc'></div>\n"},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i){var a,s="function",o=t.helperMissing,l=this.escapeExpression;return"    <label>"+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:o,typeof a===s?a.call(e,{name:"title",hash:{},data:i}):a))+"</label>\n"},3:function(e,t,n,i,a){var s,o="";return s=t.each.call(e,null!=e?e.options:e,{name:"each",hash:{},fn:this.program(4,i,a),inverse:this.program(9,i,a),data:i}),null!=s&&(o+=s),o},4:function(e,t,n,i,a){var s,o=this.lambda,l=this.escapeExpression,r="        <div class='checkbox'>\n            <label>\n            <input type='checkbox'\n                name='"+l(o(null!=a[1]?a[1].field_name:a[1],e))+"'\n                value='"+l(o(null!=e?e.id:e,e))+"'\n                ";return s=t.if.call(e,null!=e?e.selected:e,{name:"if",hash:{},fn:this.program(5,i,a),inverse:this.noop,data:i}),null!=s&&(r+=s),r+=" /> "+l(o(null!=e?e.label:e,e))+"\n            </label>\n        </div>\n",s=t.if.call(e,null!=a[1]?a[1].description:a[1],{name:"if",hash:{},fn:this.program(7,i,a),inverse:this.noop,data:i}),null!=s&&(r+=s),r},5:function(e,t,n,i){return"checked"},7:function(e,t,n,i,a){var s=this.lambda,o=this.escapeExpression;return"        <span class='help-block'>"+o(s(null!=a[1]?a[1].description:a[1],e))+"</span>\n"},9:function(e,t,n,i){return"        <div></div>\n"},11:function(e,t,n,i){var a,s="        <ul>\n";return a=t.each.call(e,null!=e?e.options:e,{name:"each",hash:{},fn:this.program(12,i),inverse:this.noop,data:i}),null!=a&&(s+=a),s+"        </ul>\n"},12:function(e,t,n,i){var a,s="";return a=t.if.call(e,null!=e?e.selected:e,{name:"if",hash:{},fn:this.program(13,i),inverse:this.noop,data:i}),null!=a&&(s+=a),s},13:function(e,t,n,i){var a=this.lambda,s=this.escapeExpression;return"            <li>"+s(a(null!=e?e.label:e,e))+"</li>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i,a){var s,o="<div class='form-group'>\n";return s=t.if.call(e,null!=e?e.title:e,{name:"if",hash:{},fn:this.program(1,i,a),inverse:this.noop,data:i}),null!=s&&(o+=s),s=t.if.call(e,null!=e?e.editable:e,{name:"if",hash:{},fn:this.program(3,i,a),inverse:this.program(11,i,a),data:i}),null!=s&&(o+=s),o+"</div>\n"},useData:!0,useDepths:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i){var a,s="function",o=t.helperMissing,l=this.escapeExpression;return"    <label>"+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:o,typeof a===s?a.call(e,{name:"title",hash:{},data:i}):a))+"</label>\n"},3:function(e,t,n,i){var a,s,o="function",l=t.helperMissing,r=this.escapeExpression,d="        <div class='checkbox'>\n            <label>\n            <input type='checkbox'\n                name='"+r((s=null!=(s=t.field_name||(null!=e?e.field_name:e))?s:l,typeof s===o?s.call(e,{name:"field_name",hash:{},data:i}):s))+"'\n                value='true'\n                ";return a=t.if.call(e,null!=e?e.checked:e,{name:"if",hash:{},fn:this.program(4,i),inverse:this.noop,data:i}),null!=a&&(d+=a),d+=" /> "+r((s=null!=(s=t.label||(null!=e?e.label:e))?s:l,typeof s===o?s.call(e,{name:"label",hash:{},data:i}):s))+"\n            </label>\n        </div>\n",a=t.if.call(e,null!=e?e.description:e,{name:"if",hash:{},fn:this.program(6,i),inverse:this.noop,data:i}),null!=a&&(d+=a),d},4:function(e,t,n,i){return"checked"},6:function(e,t,n,i){var a,s="function",o=t.helperMissing,l=this.escapeExpression;return"        <span class='help-block'>"+l((a=null!=(a=t.description||(null!=e?e.description:e))?a:o,typeof a===s?a.call(e,{name:"description",hash:{},data:i}):a))+"</span>\n"},8:function(e,t,n,i){var a,s="function",o=t.helperMissing,l=this.escapeExpression;return"        <div>"+l((a=null!=(a=t.label||(null!=e?e.label:e))?a:o,typeof a===s?a.call(e,{name:"label",hash:{},data:i}):a))+"</div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,s="<div class='form-group'>\n";return a=t.if.call(e,null!=e?e.title:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.noop,data:i}),null!=a&&(s+=a),a=t.if.call(e,null!=e?e.editable:e,{name:"if",hash:{},fn:this.program(3,i),inverse:this.program(8,i),data:i}),null!=a&&(s+=a),s+"</div>\n"},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i){var a,s,o="function",l=t.helperMissing,r="<div class='row'>\n<div class='col-md-10 col-xs-8 text-right'>\n    <b>";return s=null!=(s=t.label||(null!=e?e.label:e))?s:l,a=typeof s===o?s.call(e,{name:"label",hash:{},data:i}):s,null!=a&&(r+=a),r+="</b>\n</div>\n<div class='col-md-2 col-xs-4 text-right'>\n    ",s=null!=(s=t.value||(null!=e?e.value:e))?s:l,a=typeof s===o?s.call(e,{name:"value",hash:{},data:i}):s,null!=a&&(r+=a),r+"\n</div>\n</div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,s="";return a=t.each.call(e,null!=e?e.values:e,{name:"each",hash:{},fn:this.program(1,i),inverse:this.noop,data:i}),null!=a&&(s+=a),s},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){return'<div class=\'loader\'>\n<i class="fa fa-spinner fa-spin fa-3x fa-fw" aria-hidden="true"></i>\n</div>\n'},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i){var a,s,o="function",l=t.helperMissing,r=this.escapeExpression,d="";return a=t.if.call(e,null!=e?e.title:e,{name:"if",hash:{},fn:this.program(2,i),inverse:this.noop,data:i}),null!=a&&(d+=a),d+="    <textarea name='"+r((s=null!=(s=t.field_name||(null!=e?e.field_name:e))?s:l,typeof s===o?s.call(e,{name:"field_name",hash:{},data:i}):s))+"' ",a=t.if.call(e,null!=e?e.tagId:e,{name:"if",hash:{},fn:this.program(4,i),inverse:this.noop,data:i}),null!=a&&(d+=a),d+=" class='form-control' rows='"+r((s=null!=(s=t.rows||(null!=e?e.rows:e))?s:l,typeof s===o?s.call(e,{name:"rows",hash:{},data:i}):s))+"' ",a=t.if.call(e,null!=e?e.placeholder:e,{name:"if",hash:{},fn:this.program(6,i),inverse:this.noop,data:i}),null!=a&&(d+=a),d+">"+r((s=null!=(s=t.value||(null!=e?e.value:e))?s:l,typeof s===o?s.call(e,{name:"value",hash:{},data:i}):s))+"</textarea>\n"},2:function(e,t,n,i){var a,s="function",o=t.helperMissing,l=this.escapeExpression;return"    <label for='"+l((a=null!=(a=t.field_name||(null!=e?e.field_name:e))?a:o,typeof a===s?a.call(e,{name:"field_name",hash:{},data:i}):a))+"'>"+l((a=null!=(a=t.title||(null!=e?e.title:e))?a:o,typeof a===s?a.call(e,{name:"title",hash:{},data:i}):a))+"</label>\n"},4:function(e,t,n,i){var a,s="function",o=t.helperMissing,l=this.escapeExpression;return'id="'+l((a=null!=(a=t.tagId||(null!=e?e.tagId:e))?a:o,typeof a===s?a.call(e,{name:"tagId",hash:{},data:i}):a))+'"'},6:function(e,t,n,i){var a,s="function",o=t.helperMissing,l=this.escapeExpression;return'placeholde="'+l((a=null!=(a=t.placeholder||(null!=e?e.placeholder:e))?a:o,typeof a===s?a.call(e,{name:"placeholder",hash:{},data:i}):a))+'"'},8:function(e,t,n,i){var a,s="function",o=t.helperMissing,l=this.escapeExpression;return"    "+l((a=null!=(a=t.value||(null!=e?e.value:e))?a:o,typeof a===s?a.call(e,{name:"value",hash:{},data:i}):a))+"\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var a,s="";return a=t.if.call(e,null!=e?e.editable:e,{name:"if",hash:{},fn:this.program(1,i),inverse:this.program(8,i),data:i}),null!=a&&(s+=a),s},useData:!0})}]);